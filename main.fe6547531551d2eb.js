(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{7128:(Xt,tt,P)=>{"use strict";P.d(tt,{nm:()=>cr});var a=P(6351),we=(P(6435),P(3692),P(5867),P(5861)),se=P(9681),Te=P(4859),Ce=P(2090),ye=P(1877);const oe=new Map,re={activated:!1,tokenObservers:[]},ue={initialized:!1,enabled:!1};function Q(R){return oe.get(R)||re}function Pe(R,B){oe.set(R,B)}function rt(){return ue}class be{constructor(B,X,pe,Z,de){if(this.operation=B,this.retryPolicy=X,this.getWaitDuration=pe,this.lowerBound=Z,this.upperBound=de,this.pending=null,this.nextErrorWaitInterval=Z,Z>de)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(B){var X=this;return(0,we.Z)(function*(){X.stop();try{X.pending=new Ce.BH,yield function je(R){return new Promise(B=>{setTimeout(B,R)})}(X.getNextRun(B)),X.pending.resolve(),yield X.pending.promise,X.pending=new Ce.BH,yield X.operation(),X.pending.resolve(),yield X.pending.promise,X.process(!0).catch(()=>{})}catch(pe){X.retryPolicy(pe)?X.process(!1).catch(()=>{}):X.stop()}})()}getNextRun(B){if(B)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const X=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),X}}}const Le=new Ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ce(R){if(!Q(R).activated)throw Le.create("use-before-activation",{appName:R.name})}function ze(R,B){return Be.apply(this,arguments)}function Be(){return(Be=(0,we.Z)(function*({url:R,body:B},X){const pe={"Content-Type":"application/json"},Z=X.getImmediate({optional:!0});if(Z){const sn=yield Z.getHeartbeatsHeader();sn&&(pe["X-Firebase-Client"]=sn)}const de={method:"POST",body:JSON.stringify(B),headers:pe};let Ne,yt;try{Ne=yield fetch(R,de)}catch(sn){throw Le.create("fetch-network-error",{originalErrorMessage:sn.message})}if(200!==Ne.status)throw Le.create("fetch-status-error",{httpStatus:Ne.status});try{yt=yield Ne.json()}catch(sn){throw Le.create("fetch-parse-error",{originalErrorMessage:sn.message})}const ft=yt.ttl.match(/^([\d.]+)(s)$/);if(!ft||!ft[2]||isNaN(Number(ft[1])))throw Le.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${yt.ttl}`});const wt=1e3*Number(ft[1]),Zt=Date.now();return{token:yt.token,expireTimeMillis:Zt+wt,issuedAtTimeMillis:Zt}})).apply(this,arguments)}function at(R,B){const{projectId:X,appId:pe,apiKey:Z}=R.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${X}/apps/${pe}:exchangeDebugToken?key=${Z}`,body:{debug_token:B}}}const qe="firebase-app-check-store";let et=null;function Ke(){return et||(et=new Promise((R,B)=>{try{const X=indexedDB.open("firebase-app-check-database",1);X.onsuccess=pe=>{R(pe.target.result)},X.onerror=pe=>{var Z;B(Le.create("storage-open",{originalErrorMessage:null===(Z=pe.target.error)||void 0===Z?void 0:Z.message}))},X.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(qe,{keyPath:"compositeKey"})}}catch(X){B(Le.create("storage-open",{originalErrorMessage:X.message}))}}),et)}function zt(){return(zt=(0,we.Z)(function*(R,B){const pe=(yield Ke()).transaction(qe,"readwrite"),de=pe.objectStore(qe).put({compositeKey:R,value:B});return new Promise((Ne,yt)=>{de.onsuccess=ft=>{Ne()},pe.onerror=ft=>{var wt;yt(Le.create("storage-set",{originalErrorMessage:null===(wt=ft.target.error)||void 0===wt?void 0:wt.message}))}})})).apply(this,arguments)}const Nn=new ye.Yd("@firebase/app-check");function Xn(R,B){return(0,Ce.hl)()?function dt(R,B){return function on(R,B){return zt.apply(this,arguments)}(function Pn(R){return`${R.options.appId}-${R.name}`}(R),B)}(R,B).catch(X=>{Nn.warn(`Failed to write token to IndexedDB. Error: ${X}`)}):Promise.resolve()}function wn(){return rt().enabled}function tn(){return qn.apply(this,arguments)}function qn(){return(qn=(0,we.Z)(function*(){const R=rt();if(R.enabled&&R.token)return R.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const hr={error:"UNKNOWN_ERROR"};function Tr(R){return Ce.US.encodeString(JSON.stringify(R),!1)}function kn(R){return en.apply(this,arguments)}function en(){return(en=(0,we.Z)(function*(R,B=!1){const X=R.app;ce(X);const pe=Q(X);let de,Z=pe.token;if(!Z){const ft=yield pe.cachedTokenPromise;ft&&ir(ft)&&(Z=ft)}if(!B&&Z&&ir(Z))return{token:Z.token};let yt,Ne=!1;if(wn()){pe.exchangeTokenPromise||(pe.exchangeTokenPromise=ze(at(X,yield tn()),R.heartbeatServiceProvider).then(wt=>(pe.exchangeTokenPromise=void 0,wt)),Ne=!0);const ft=yield pe.exchangeTokenPromise;return yield Xn(X,ft),Pe(X,Object.assign(Object.assign({},pe),{token:ft})),{token:ft.token}}try{pe.exchangeTokenPromise||(pe.exchangeTokenPromise=pe.provider.getToken().then(ft=>(pe.exchangeTokenPromise=void 0,ft)),Ne=!0),Z=yield pe.exchangeTokenPromise}catch(ft){"appCheck/throttled"===ft.code?Nn.warn(ft.message):Nn.error(ft),de=ft}return Z?(yt={token:Z.token},Pe(X,Object.assign(Object.assign({},pe),{token:Z})),yield Xn(X,Z)):yt=ln(de),Ne&&Pr(X,yt),yt})).apply(this,arguments)}function wr(R,B){const X=Q(R),pe=X.tokenObservers.filter(Z=>Z.next!==B);0===pe.length&&X.tokenRefresher&&X.tokenRefresher.isRunning()&&X.tokenRefresher.stop(),Pe(R,Object.assign(Object.assign({},X),{tokenObservers:pe}))}function Ur(R){const{app:B}=R,X=Q(B);let pe=X.tokenRefresher;pe||(pe=function Kn(R){const{app:B}=R;return new be((0,we.Z)(function*(){let pe;if(pe=Q(B).token?yield kn(R,!0):yield kn(R),pe.error)throw pe.error}),()=>!0,()=>{const X=Q(B);if(X.token){let pe=X.token.issuedAtTimeMillis+.5*(X.token.expireTimeMillis-X.token.issuedAtTimeMillis)+3e5;return pe=Math.min(pe,X.token.expireTimeMillis-3e5),Math.max(0,pe-Date.now())}return 0},3e4,96e4)}(R),Pe(B,Object.assign(Object.assign({},X),{tokenRefresher:pe}))),!pe.isRunning()&&X.isTokenAutoRefreshEnabled&&pe.start()}function Pr(R,B){const X=Q(R).tokenObservers;for(const pe of X)try{"EXTERNAL"===pe.type&&null!=B.error?pe.error(B.error):pe.next(B)}catch(Z){}}function ir(R){return R.expireTimeMillis-Date.now()>0}function ln(R){return{token:Tr(hr),error:R}}class sr{constructor(B,X){this.app=B,this.heartbeatServiceProvider=X}_delete(){const{tokenObservers:B}=Q(this.app);for(const X of B)wr(this.app,X.next);return Promise.resolve()}}const Dr="app-check-internal";!function or(){(0,se._registerComponent)(new Te.wA("app-check",R=>function Mn(R,B){return new sr(R,B)}(R.getProvider("app").getImmediate(),R.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((R,B,X)=>{R.getProvider(Dr).initialize()})),(0,se._registerComponent)(new Te.wA(Dr,R=>function zn(R){return{getToken:B=>kn(R,B),addTokenListener:B=>function Yt(R,B,X,pe){const{app:Z}=R,de=Q(Z),Ne={next:X,error:pe,type:B};if(Pe(Z,Object.assign(Object.assign({},de),{tokenObservers:[...de.tokenObservers,Ne]})),de.token&&ir(de.token)){const yt=de.token;Promise.resolve().then(()=>{X({token:yt.token}),Ur(R)}).catch(()=>{})}de.cachedTokenPromise.then(()=>Ur(R))}(R,"INTERNAL",B),removeTokenListener:B=>wr(R.app,B)}}(R.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)("@firebase/app-check","0.5.7")}();class cr{constructor(){return(0,a.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Xt,tt,P)=>{"use strict";P.d(tt,{Ot:()=>xe,z6:()=>we,ZF:()=>ve,hX:()=>Q});var a=P(5867),G=P(6435),$=P(6351);class xe{constructor(be){return be}}class we{constructor(){return(0,a.C6)()}}const Ce=new G.OlP("angularfire2._apps"),ye={provide:xe,useFactory:function Te(Ye){return Ye&&1===Ye.length?Ye[0]:new xe((0,a.Mq)())},deps:[[new G.FiY,Ce]]},oe={provide:we,deps:[[new G.FiY,Ce]]};function re(Ye){return(be,je)=>{const ot=be.runOutsideAngular(()=>Ye(je));return new xe(ot)}}let ue=(()=>{class Ye{constructor(je){(0,a.KN)("angularfire",$.q4.full,"core"),(0,a.KN)("angularfire",$.q4.full,"app"),(0,a.KN)("angular",G.q4F.full,je.toString())}}return Ye.\u0275fac=function(je){return new(je||Ye)(G.LFG(G.Lbi))},Ye.\u0275mod=G.oAB({type:Ye}),Ye.\u0275inj=G.cJS({providers:[ye,oe]}),Ye})();function Q(Ye,...be){return{ngModule:ue,providers:[{provide:Ce,useFactory:re(Ye),multi:!0,deps:[G.R0b,G.zs3,$.HU,...be]}]}}const ve=(0,$.u3)(a.ZF,!0)},3999:(Xt,tt,P)=>{"use strict";P.d(tt,{gx:()=>fe,Xb:()=>Rt,v0:()=>Xe,AR:()=>Le,e5:()=>en,w7:()=>Pr,EA:()=>ce});var a=P(6351),G=P(6435),$=P(3692),xe=P(5867),we=P(7128),se=P(573),re=(P(2090),P(9681),P(1877),P(4859),P(6498));function Q(Ut){return new re.y(function(Qt){return{unsubscribe:(0,se.q)(Ut,Qt.next.bind(Qt),Qt.error.bind(Qt),Qt.complete.bind(Qt))}})}class fe{constructor(Qt){return Qt}}const Je=new G.OlP("angularfire2.auth-instances");function Ye(Ut){return(Qt,Fe)=>{const _e=Qt.runOutsideAngular(()=>Ut(Fe));return new fe(_e)}}const be={provide:class ve{constructor(){return(0,a.vb)("auth")}},deps:[[new G.FiY,Je]]},je={provide:fe,useFactory:function te(Ut,Qt){const Fe=(0,a.JM)("auth",Ut,Qt);return Fe&&new fe(Fe)},deps:[[new G.FiY,Je],$.Ot]};let ot=(()=>{class Ut{constructor(){(0,xe.KN)("angularfire",a.q4.full,"auth")}}return Ut.\u0275fac=function(Fe){return new(Fe||Ut)},Ut.\u0275mod=G.oAB({type:Ut}),Ut.\u0275inj=G.cJS({providers:[je,be]}),Ut})();function Le(Ut,...Qt){return{ngModule:ot,providers:[{provide:Je,useFactory:Ye(Ut),multi:!0,deps:[G.R0b,G.zs3,a.HU,$.z6,[new G.FiY,we.nm],...Qt]}]}}const ce=(0,a.u3)(Q,!0),Rt=(0,a.u3)(se.a4,!0),Xe=(0,a.u3)(se.n,!0),en=(0,a.u3)(se.a5,!0),Pr=(0,a.u3)(se.x,!0)},4941:(Xt,tt,P)=>{"use strict";P.d(tt,{zQ:()=>at,rT:()=>ze,f7:()=>Rt,L6:()=>he,_Q:()=>Ae,lh:()=>Be,Qv:()=>le,nw:()=>Gt});var a=P(6435),G=P(8929),$=P(1086),xe=P(6498),we=P(5254),se=P(6787),Te=P(341),Ce=P(2654),ye=P(2102),oe=P(5279),re=P(5283);class ue extends G.xQ{constructor(qe=Number.POSITIVE_INFINITY,Ze=Number.POSITIVE_INFINITY,et){super(),this.scheduler=et,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=qe<1?1:qe,this._windowTime=Ze<1?1:Ze,Ze===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(qe){if(!this.isStopped){const Ze=this._events;Ze.push(qe),Ze.length>this._bufferSize&&Ze.shift()}super.next(qe)}nextTimeWindow(qe){this.isStopped||(this._events.push(new Q(this._getNow(),qe)),this._trimBufferThenGetEvents()),super.next(qe)}_subscribe(qe){const Ze=this._infiniteTimeWindow,et=Ze?this._events:this._trimBufferThenGetEvents(),Ke=this.scheduler,ut=et.length;let dt;if(this.closed)throw new oe.N;if(this.isStopped||this.hasError?dt=Ce.w.EMPTY:(this.observers.push(qe),dt=new re.W(this,qe)),Ke&&qe.add(qe=new ye.ht(qe,Ke)),Ze)for(let Ot=0;Ot<ut&&!qe.closed;Ot++)qe.next(et[Ot]);else for(let Ot=0;Ot<ut&&!qe.closed;Ot++)qe.next(et[Ot].value);return this.hasError?qe.error(this.thrownError):this.isStopped&&qe.complete(),dt}_getNow(){return(this.scheduler||Te.c).now()}_trimBufferThenGetEvents(){const qe=this._getNow(),Ze=this._bufferSize,et=this._windowTime,Ke=this._events,ut=Ke.length;let dt=0;for(;dt<ut&&!(qe-Ke[dt].time<et);)dt++;return ut>Ze&&(dt=Math.max(dt,ut-Ze)),dt>0&&Ke.splice(0,dt),Ke}}class Q{constructor(qe,Ze){this.time=qe,this.value=Ze}}function Pe(Xe,qe,Ze){let et;return et=Xe&&"object"==typeof Xe?Xe:{bufferSize:Xe,windowTime:qe,refCount:!1,scheduler:Ze},Ke=>Ke.lift(function rt({bufferSize:Xe=Number.POSITIVE_INFINITY,windowTime:qe=Number.POSITIVE_INFINITY,refCount:Ze,scheduler:et}){let Ke,dt,ut=0,Ot=!1,hn=!1;return function(zt){let gn;ut++,!Ke||Ot?(Ot=!1,Ke=new ue(Xe,qe,et),gn=Ke.subscribe(this),dt=zt.subscribe({next(It){Ke.next(It)},error(It){Ot=!0,Ke.error(It)},complete(){hn=!0,dt=void 0,Ke.complete()}}),hn&&(dt=void 0)):gn=Ke.subscribe(this),this.add(()=>{ut--,gn.unsubscribe(),gn=void 0,dt&&!hn&&Ze&&0===ut&&(dt.unsubscribe(),dt=void 0,Ke=void 0)})}}(et))}var fe=P(7545);function ve(Xe,qe){return qe?(0,fe.w)(()=>Xe,qe):(0,fe.w)(()=>Xe)}var ge=P(4850),Je=P(7224),te=P(8915),Ye=P(2198),be=P(6351),je=P(2011),ot=P(9808),Le=P(7128);P(127);const le=new a.OlP("angularfire2.auth.use-emulator"),he=new a.OlP("angularfire2.auth.settings"),Ae=new a.OlP("angularfire2.auth.tenant-id"),ze=new a.OlP("angularfire2.auth.langugage-code"),Be=new a.OlP("angularfire2.auth.use-device-language"),Rt=new a.OlP("angularfire.auth.persistence"),Gt=(Xe,qe,Ze,et,Ke,ut,dt,Ot)=>(0,je.cc)(`${Xe.name}.auth`,"AngularFireAuth",Xe.name,()=>{const hn=qe.runOutsideAngular(()=>Xe.auth());if(Ze&&hn.useEmulator(...Ze),et&&(hn.tenantId=et),hn.languageCode=Ke,ut&&hn.useDeviceLanguage(),dt)for(const[on,zt]of Object.entries(dt))hn.settings[on]=zt;return Ot&&hn.setPersistence(Ot),hn},[Ze,et,Ke,ut,dt,Ot]);let at=(()=>{class Xe{constructor(Ze,et,Ke,ut,dt,Ot,hn,on,zt,gn,It,Pn){const Nn=new G.xQ,Gn=(0,$.of)(void 0).pipe((0,ye.QV)(dt.outsideAngular),(0,fe.w)(()=>ut.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,ge.U)(()=>(0,je.on)(Ze,ut,et)),(0,ge.U)(pn=>Gt(pn,ut,Ot,on,zt,gn,hn,It)),Pe({bufferSize:1,refCount:!1}));if((0,ot.PM)(Ke))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$.of)(null);else{Gn.pipe((0,Je.P)()).subscribe();const Xn=Gn.pipe((0,fe.w)(wn=>wn.getRedirectResult().then(tn=>tn,()=>null)),be.iC,Pe({bufferSize:1,refCount:!1})),Bn=Gn.pipe((0,fe.w)(wn=>new xe.y(tn=>({unsubscribe:ut.runOutsideAngular(()=>wn.onAuthStateChanged(qn=>tn.next(qn),qn=>tn.error(qn),()=>tn.complete()))})))),Hn=Gn.pipe((0,fe.w)(wn=>new xe.y(tn=>({unsubscribe:ut.runOutsideAngular(()=>wn.onIdTokenChanged(qn=>tn.next(qn),qn=>tn.error(qn),()=>tn.complete()))}))));this.authState=Xn.pipe(ve(Bn),(0,te.R)(dt.outsideAngular),(0,ye.QV)(dt.insideAngular)),this.user=Xn.pipe(ve(Hn),(0,te.R)(dt.outsideAngular),(0,ye.QV)(dt.insideAngular)),this.idToken=this.user.pipe((0,fe.w)(wn=>wn?(0,we.D)(wn.getIdToken()):(0,$.of)(null))),this.idTokenResult=this.user.pipe((0,fe.w)(wn=>wn?(0,we.D)(wn.getIdTokenResult()):(0,$.of)(null))),this.credential=(0,se.T)(Xn,Nn,this.authState.pipe((0,Ye.h)(wn=>!wn))).pipe((0,ge.U)(wn=>(null==wn?void 0:wn.user)?wn:null),(0,te.R)(dt.outsideAngular),(0,ye.QV)(dt.insideAngular))}return(0,je.pX)(this,Gn,ut,{spy:{apply:(pn,Xn,Bn)=>{(pn.startsWith("signIn")||pn.startsWith("createUser"))&&Bn.then(Hn=>Nn.next(Hn))}}})}}return Xe.\u0275fac=function(Ze){return new(Ze||Xe)(a.LFG(je.Dh),a.LFG(je.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(be.HU),a.LFG(le,8),a.LFG(he,8),a.LFG(Ae,8),a.LFG(ze,8),a.LFG(Be,8),a.LFG(Rt,8),a.LFG(Le.nm,8))},Xe.\u0275prov=a.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"any"}),Xe})()},2796:(Xt,tt,P)=>{"use strict";P.d(tt,{ST:()=>wd,yb:()=>Xm});var a=P(6435),G=P(353),$=P(6498),xe=P(5254),we=P(1086),se=P(6351),Te=P(3489);function Ce(){return i=>i.lift(new ye)}class ye{call(e,t){return t.subscribe(new oe(e))}}class oe extends Te.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var ce,re=P(1059),ue=P(4850),Q=P(2014),Pe=P(5778),rt=P(2198),fe=P(2011),ve=P(9808),Je=(P(5881),P(3942)),te=P(5861),Ye=P(9681),be=P(4859),je=P(1877),ot=P(2090),Le="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ct={},le=le||{},he=Le||self;function Ae(){}function ze(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Be(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Gt="closure_uid_"+(1e9*Math.random()>>>0),at=0;function Qe(i,e,t){return i.call.apply(i.bind,arguments)}function Xe(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function qe(i,e,t){return(qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qe:Xe).apply(null,arguments)}function Ze(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function et(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,l,d){for(var y=Array(arguments.length-2),T=2;T<arguments.length;T++)y[T-2]=arguments[T];return e.prototype[l].apply(o,y)}}function Ke(){this.s=this.s,this.o=this.o}var dt={};Ke.prototype.s=!1,Ke.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Rt(i){return Object.prototype.hasOwnProperty.call(i,Gt)&&i[Gt]||(i[Gt]=++at)}(this);delete dt[i]}},Ke.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ot=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},hn=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,l="string"==typeof i?i.split(""):i;for(let d=0;d<o;d++)d in l&&e.call(t,l[d],d,i)};function zt(i){return Array.prototype.concat.apply([],arguments)}function gn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function It(i){return/^[\s\xa0]*$/.test(i)}var pn,Pn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Nn(i,e){return-1!=i.indexOf(e)}function Gn(i,e){return i<e?-1:i>e?1:0}e:{var Xn=he.navigator;if(Xn){var Bn=Xn.userAgent;if(Bn){pn=Bn;break e}}pn=""}function Hn(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function wn(i){const e={};for(const t in i)e[t]=i[t];return e}var tn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qn(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let d=0;d<tn.length;d++)t=tn[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function xr(i){return xr[" "](i),i}xr[" "]=Ae;var Pr,i,Tr=Nn(pn,"Opera"),kn=Nn(pn,"Trident")||Nn(pn,"MSIE"),en=Nn(pn,"Edge"),Yt=en||kn,wr=Nn(pn,"Gecko")&&!(Nn(pn.toLowerCase(),"webkit")&&!Nn(pn,"Edge"))&&!(Nn(pn,"Trident")||Nn(pn,"MSIE"))&&!Nn(pn,"Edge"),Ur=Nn(pn.toLowerCase(),"webkit")&&!Nn(pn,"Edge");function Kn(){var i=he.document;return i?i.documentMode:void 0}e:{var ir="",ln=(i=pn,wr?/rv:([^\);]+)(\)|;)/.exec(i):en?/Edge\/([\d\.]+)/.exec(i):kn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ur?/WebKit\/(\S+)/.exec(i):Tr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ln&&(ir=ln?ln[1]:""),kn){var sr=Kn();if(null!=sr&&sr>parseFloat(ir)){Pr=String(sr);break e}}Pr=ir}var Mn={};var Pt=he.document&&kn&&(Kn()||parseInt(Pr,10))||void 0,mn=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{he.addEventListener("test",Ae,e),he.removeEventListener("test",Ae,e)}catch(t){}return i}();function Ut(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Qt(i,e){if(Ut.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(wr){e:{try{xr(e.nodeName);var l=!0;break e}catch(d){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Fe[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Qt.Z.h.call(this)}}Ut.prototype.h=function(){this.defaultPrevented=!0},et(Qt,Ut);var Fe={2:"touch",3:"pen",4:"mouse"};Qt.prototype.h=function(){Qt.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),$e=0;function nt(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=l,this.key=++$e,this.ca=this.fa=!1}function ae(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function me(i){this.src=i,this.g={},this.h=0}function De(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],l=Ot(o,e);(d=0<=l)&&Array.prototype.splice.call(o,l,1),d&&(ae(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function it(i,e,t,o){for(var l=0;l<i.length;++l){var d=i[l];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==o)return l}return-1}me.prototype.add=function(i,e,t,o,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var y=it(i,e,o,l);return-1<y?(e=i[y],t||(e.fa=!1)):((e=new nt(e,this.src,d,!!o,l)).fa=t,i.push(e)),e};var Nt="closure_lm_"+(1e6*Math.random()|0),cn={};function Tn(i,e,t,o,l){if(o&&o.once)return gr(i,e,t,o,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Tn(i,e[d],t,o,l);return null}return t=or(t),i&&i[_e]?i.N(e,t,Be(o)?!!o.capture:!!o,l):an(i,e,t,!1,o,l)}function an(i,e,t,o,l,d){if(!e)throw Error("Invalid event type");var y=Be(l)?!!l.capture:!!l,T=Hr(i);if(T||(i[Nt]=T=new me(i)),(t=T.add(e,t,o,y,d)).proxy)return t;if(o=function On(){var e=Sr;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)mn||(l=y),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(In(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function gr(i,e,t,o,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)gr(i,e[d],t,o,l);return null}return t=or(t),i&&i[_e]?i.O(e,t,Be(o)?!!o.capture:!!o,l):an(i,e,t,!0,o,l)}function $n(i,e,t,o,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)$n(i,e[d],t,o,l);else o=Be(o)?!!o.capture:!!o,t=or(t),i&&i[_e]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=it(d=i.g[e],t,o,l))&&(ae(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Hr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=it(e,t,o,l)),(t=-1<i?e[i]:null)&&Sn(t))}function Sn(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[_e])De(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(In(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Hr(e))?(De(t,i),0==t.h&&(t.src=null,e[Nt]=null)):ae(i)}}}function In(i){return i in cn?cn[i]:cn[i]="on"+i}function Sr(i,e){if(i.ca)i=!0;else{e=new Qt(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&Sn(i),i=t.call(o,e)}return i}function Hr(i){return(i=i[Nt])instanceof me?i:null}var Dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function or(i){return"function"==typeof i?i:(i[Dr]||(i[Dr]=function(e){return i.handleEvent(e)}),i[Dr])}function Wn(){Ke.call(this),this.i=new me(this),this.P=this,this.I=null}function dr(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ut(e,i);else if(e instanceof Ut)e.target=e.target||i;else{var l=e;qn(e=new Ut(o,i),l)}if(l=!0,t)for(var d=t.length-1;0<=d;d--){var y=e.g=t[d];l=cr(y,o,!0,e)&&l}if(l=cr(y=e.g=i,o,!0,e)&&l,l=cr(y,o,!1,e)&&l,t)for(d=0;d<t.length;d++)l=cr(y=e.g=t[d],o,!1,e)&&l}function cr(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var y=e[d];if(y&&!y.ca&&y.capture==t){var T=y.listener,H=y.ia||y.src;y.fa&&De(i.i,y),l=!1!==T.call(H,o)&&l}}return l&&!o.defaultPrevented}et(Wn,Ke),Wn.prototype[_e]=!0,Wn.prototype.removeEventListener=function(i,e,t,o){$n(this,i,e,t,o)},Wn.prototype.M=function(){if(Wn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)ae(t[o]);delete i.g[e],i.h--}}this.I=null},Wn.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Wn.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Zr=he.JSON.stringify;function ar(){var i=Se;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var vr,En=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Qn,i=>i.reset());class Qn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Yn(i){he.setTimeout(()=>{throw i},0)}function Mr(i,e){vr||function Ue(){var i=he.Promise.resolve(void 0);vr=function(){i.then(lt)}}(),Oe||(vr(),Oe=!0),Se.add(i,e)}var Oe=!1,Se=new class jt{constructor(){this.h=this.g=null}add(e,t){const o=En.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function lt(){for(var i;i=ar();){try{i.h.call(i.g)}catch(t){Yn(t)}var e=En;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Oe=!1}function ct(i,e){Wn.call(this),this.h=i||1,this.g=e||he,this.j=qe(this.kb,this),this.l=Date.now()}function bn(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Ln(i,e,t){if("function"==typeof i)t&&(i=qe(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=qe(i.handleEvent,i)}return 2147483647<Number(e)?-1:he.setTimeout(i,e||0)}function R(i){i.g=Ln(()=>{i.g=null,i.i&&(i.i=!1,R(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}et(ct,Wn),(ce=ct.prototype).da=!1,ce.S=null,ce.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),dr(this,"tick"),this.da&&(bn(this),this.start()))}},ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){ct.Z.M.call(this),bn(this),delete this.g};class B extends Ke{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:R(this)}M(){super.M(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function X(i){Ke.call(this),this.h=i,this.g={}}et(X,Ke);var pe=[];function Z(i,e,t,o){Array.isArray(t)||(t&&(pe[0]=t.toString()),t=pe);for(var l=0;l<t.length;l++){var d=Tn(e,t[l],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function de(i){Hn(i.g,function(e,t){this.g.hasOwnProperty(t)&&Sn(e)},i),i.g={}}function Ne(){this.g=!0}function wt(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var y=1;y<l.length;y++)l[y]=""}}}return Zr(t)}catch(T){return e}}(i,t)+(o?" "+o:"")})}X.prototype.M=function(){X.Z.M.call(this),de(this)},X.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ne.prototype.Aa=function(){this.g=!1},Ne.prototype.info=function(){};var Dn={},er=null;function Cr(){return er=er||new Wn}function Nr(i){Ut.call(this,Dn.Ma,i)}function ei(i){const e=Cr();dr(e,new Nr(e,i))}function Pi(i,e){Ut.call(this,Dn.STAT_EVENT,i),this.stat=e}function Br(i){const e=Cr();dr(e,new Pi(e,i))}function ai(i,e){Ut.call(this,Dn.Na,i),this.size=e}function Ui(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){i()},e)}Dn.Ma="serverreachability",et(Nr,Ut),Dn.STAT_EVENT="statevent",et(Pi,Ut),Dn.Na="timingevent",et(ai,Ut);var Ni={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Bs={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function so(){}function ki(){}so.prototype.h=null;var oo,Ti={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $s(){Ut.call(this,"d")}function yi(){Ut.call(this,"c")}function Ki(){}function jr(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new X(this),this.P=Zi,this.W=new ct(i=Yt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ji}function ji(){this.i=null,this.g="",this.h=!1}et($s,Ut),et(yi,Ut),et(Ki,so),Ki.prototype.g=function(){return new XMLHttpRequest},Ki.prototype.i=function(){return{}},oo=new Ki;var Zi=45e3,Ds={},Xi={};function Fi(i,e,t){i.K=1,i.v=kt(N(e)),i.s=t,i.U=!0,qs(i,null)}function qs(i,e){i.F=Date.now(),ti(i),i.A=N(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),C(t.h,"t",o),i.C=0,t=i.l.H,i.h=new ji,i.g=eo(i.l,t?e:null,!i.s),0<i.O&&(i.L=new B(qe(i.Ia,i,i.g),i.O)),Z(i.V,i.g,"readystatechange",i.gb),e=i.H?wn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),ei(1),function yt(i,e,t,o,l,d){i.info(function(){if(i.g)if(d)for(var y="",T=d.split("&"),H=0;H<T.length;H++){var Y=T[H].split("=");if(1<Y.length){var Re=Y[0];Y=Y[1];var We=Re.split("_");y=2<=We.length&&"type"==We[1]?y+(Re+"=")+Y+"&":y+(Re+"=redacted&")}}else y=null;else y=d;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+y})}(i.j,i.u,i.A,i.m,i.X,i.s)}function ui(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function _o(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=li(i,t),l==Xi){4==e&&(i.o=4,Br(14),o=!1),wt(i.j,i.m,null,"[Incomplete Response]");break}if(l==Ds){i.o=4,Br(15),wt(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}wt(i.j,i.m,l,null),Qi(i,l)}ui(i)&&l!=Xi&&l!=Ds&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Br(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),oi(e),e.L=!0,Br(11))):(wt(i.j,i.m,t,"[Invalid Chunked Response]"),ci(i),Wr(i))}function li(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Xi:(t=Number(e.substring(t,o)),isNaN(t)?Ds:(o+=1)+t>e.length?Xi:(e=e.substr(o,t),i.C=o+t,e))}function ti(i){i.Y=Date.now()+i.P,ao(i,i.P)}function ao(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ui(qe(i.eb,i),e)}function Li(i){i.B&&(he.clearTimeout(i.B),i.B=null)}function Wr(i){0==i.l.G||i.I||Io(i.l,i)}function ci(i){Li(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,bn(i.W),de(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Qi(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Cs(t.i,i)))if(t.I=i.N,!i.J&&Cs(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(Y){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(t.u)t.ta=l[1],0<t.ta-t.U&&37500>l[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ui(qe(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Js(t),sa(t)}Pa(t),Br(18)}if(1>=Hi(t.i)&&t.ka){try{t.ka()}catch(Y){}t.ka=void 0}}else as(t,11)}else if((i.J||t.g==i)&&Js(t),!It(e))for(l=t.Ca.g.parse(e),e=0;e<l.length;e++){let Y=l[e];if(t.U=Y[0],Y=Y[1],2==t.G)if("c"==Y[0]){t.J=Y[1],t.la=Y[2];const Re=Y[3];null!=Re&&(t.ma=Re,t.h.info("VER="+t.ma));const We=Y[4];null!=We&&(t.za=We,t.h.info("SVER="+t.za));const bt=Y[5];null!=bt&&"number"==typeof bt&&0<bt&&(t.K=o=1.5*bt,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const Lt=i.g;if(Lt){const $t=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($t){var d=o.i;!d.g&&(Nn($t,"spdy")||Nn($t,"quic")||Nn($t,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(Mt(d,d.h),d.h=null))}if(o.D){const Cn=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cn&&(o.sa=Cn,pt(o.F,o.D,Cn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var y=i;if((o=t).oa=ka(o,o.H?o.la:null,o.W),y.J){Er(o.i,y);var T=y,H=o.K;H&&T.setTimeout(H),T.B&&(Li(T),ti(T)),o.g=y}else mu(o);0<t.l.length&&Vi(t)}else"stop"!=Y[0]&&"close"!=Y[0]||as(t,7);else 3==t.G&&("stop"==Y[0]||"close"==Y[0]?"stop"==Y[0]?as(t,7):Oa(t):"noop"!=Y[0]&&t.j&&t.j.wa(Y),t.A=0)}ei(4)}catch(Y){}}function Xr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ze(i)||"string"==typeof i)hn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(ze(i)||"string"==typeof i){t=[];for(var o=i.length,l=0;l<o;l++)t.push(l)}else for(l in t=[],o=0,i)t[o++]=l;o=function hs(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ze(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length;for(var d=0;d<l;d++)e.call(void 0,o[d],t&&t[d],i)}}function Yr(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Yr)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function ss(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];vi(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var l={};for(t=e=0;e<i.g.length;)vi(l,o=i.g[e])||(i.g[t++]=o,l[o]=1),e++;i.g.length=t}}function vi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ce=jr.prototype).setTimeout=function(i){this.P=i},ce.gb=function(i){i=i.target;const e=this.L;e&&3==Xs(i)?e.l():this.Ia(i)},ce.Ia=function(i){try{if(i==this.g)e:{const Re=Xs(this.g);var e=this.g.Da();const We=this.g.ba();if(!(3>Re)&&(3!=Re||Yt||this.g&&(this.h.h||this.g.ga()||na(this.g)))){this.I||4!=Re||7==e||ei(8==e||0>=We?3:2),Li(this);var t=this.g.ba();this.N=t;t:if(ui(this)){var o=na(this.g);i="";var l=o.length,d=4==Xs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ci(this),Wr(this);var y="";break t}this.h.i=new he.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ga();if(this.i=200==t,function ft(i,e,t,o,l,d,y){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+d+" "+y})}(this.j,this.u,this.A,this.m,this.X,Re,t),this.i){if(this.$&&!this.J){t:{if(this.g){var T,H=this.g;if((T=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!It(T)){var Y=T;break t}}Y=null}if(!(t=Y)){this.i=!1,this.o=3,Br(12),ci(this),Wr(this);break e}wt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qi(this,t)}this.U?(_o(this,Re,y),Yt&&this.i&&3==Re&&(Z(this.V,this.W,"tick",this.fb),this.W.start())):(wt(this.j,this.m,y,null),Qi(this,y)),4==Re&&ci(this),this.i&&!this.I&&(4==Re?Io(this.l,this):(this.i=!1,ti(this)))}else 400==t&&0<y.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),ci(this),Wr(this)}}}catch(Re){}},ce.fb=function(){if(this.g){var i=Xs(this.g),e=this.g.ga();this.C<e.length&&(Li(this),_o(this,i,e),this.i&&4!=i&&ti(this))}},ce.cancel=function(){this.I=!0,ci(this)},ce.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Zt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ei(3),Br(17)),ci(this),this.o=2,Wr(this)):ao(this,this.Y-i)},(ce=Yr.prototype).R=function(){ss(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ce.T=function(){return ss(this),this.g.concat()},ce.get=function(i,e){return vi(this.h,i)?this.h[i]:e},ce.set=function(i,e){vi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ce.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var l=t[o],d=this.get(l);i.call(e,d,l,this)}};var os=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _i(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof _i){this.g=void 0!==e?e:i.g,K(this,i.j),this.s=i.s,F(this,i.i),ie(this,i.m),this.l=i.l,e=i.h;var t=new gt;t.i=e.i,e.g&&(t.g=new Yr(e.g),t.h=e.h),Ve(this,t),this.o=i.o}else i&&(t=String(i).match(os))?(this.g=!!e,K(this,t[1]||"",!0),this.s=Zn(t[2]||""),F(this,t[3]||"",!0),ie(this,t[4]),this.l=Zn(t[5]||"",!0),Ve(this,t[6]||"",!0),this.o=Zn(t[7]||"")):(this.g=!!e,this.h=new gt(null,this.g))}function N(i){return new _i(i)}function K(i,e,t){i.j=t?Zn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function F(i,e,t){i.i=t?Zn(e,!0):e}function ie(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ve(i,e,t){e instanceof gt?(i.h=e,function _t(i,e){e&&!i.j&&(Ht(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(M(this,o),C(this,l,t))},i)),i.j=e}(i.h,i.g)):(t||(e=_r(e,k)),i.h=new gt(e,i.g))}function pt(i,e,t){i.h.set(e,t)}function kt(i){return pt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Zn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function _r(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Un),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Un(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}_i.prototype.toString=function(){var i=[],e=this.j;e&&i.push(_r(e,m,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(_r(e,m,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(_r(t,"/"==t.charAt(0)?g:L,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",_r(t,ee)),i.join("")};var m=/[#\/\?@]/g,L=/[#\?:]/g,g=/[#\?]/g,k=/[#\?@]/g,ee=/#/g;function gt(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ht(i){i.g||(i.g=new Yr,i.h=0,i.i&&function fs(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var d=i[t].substring(0,o);l=i[t].substring(o+1)}else d=i[t];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function M(i,e){Ht(i),e=z(i,e),vi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,vi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&ss(i)))}function S(i,e){return Ht(i),e=z(i,e),vi(i.g.h,e)}function C(i,e,t){M(i,e),0<t.length&&(i.i=null,i.g.set(z(i,e),gn(t)),i.h+=t.length)}function z(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function fr(i){this.l=i||$r,i=he.PerformanceNavigationTiming?0<(i=he.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(he.g&&he.g.Ea&&he.g.Ea()&&he.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=gt.prototype).add=function(i,e){Ht(this),this.i=null,i=z(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ce.forEach=function(i,e){Ht(this),this.g.forEach(function(t,o){hn(t,function(l){i.call(e,l,o,this)},this)},this)},ce.T=function(){Ht(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var l=i[o],d=0;d<l.length;d++)t.push(e[o]);return t},ce.R=function(i){Ht(this);var e=[];if("string"==typeof i)S(this,i)&&(e=zt(e,this.g.get(z(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=zt(e,i[t])}return e},ce.set=function(i,e){return Ht(this),this.i=null,S(this,i=z(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ce.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],l=encodeURIComponent(String(o));o=this.R(o);for(var d=0;d<o.length;d++){var y=l;""!==o[d]&&(y+="="+encodeURIComponent(String(o[d]))),i.push(y)}}return this.i=i.join("&")};var $r=10;function di(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Hi(i){return i.h?1:i.g?i.g.size:0}function Cs(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Mt(i,e){i.g?i.g.add(e):i.h=e}function Er(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ma(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return gn(i.i)}function Gr(){}function pu(){this.g=new Gr}function Bo(i,e,t){const o=t||"";try{Xr(i,function(l,d){let y=l;Be(l)&&(y=Zr(l)),e.push(o+d+"="+encodeURIComponent(y))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function uo(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(d){}}function ps(i){this.l=i.$b||null,this.j=i.ib||!1}function Ra(i,e){Wn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Eo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fr.prototype.cancel=function(){if(this.i=Ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Gr.prototype.stringify=function(i){return he.JSON.stringify(i,void 0)},Gr.prototype.parse=function(i){return he.JSON.parse(i,void 0)},et(ps,so),ps.prototype.g=function(){return new Ra(this.l,this.j)},ps.prototype.i=function(i){return function(){return i}}({}),et(Ra,Wn);var Eo=0;function Ks(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Ts(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ei(i)}function Ei(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ce=Ra.prototype).open=function(i,e){if(this.readyState!=Eo)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ei(this)},ce.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||he).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ts(this)),this.readyState=Eo},ce.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==he.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ks(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ce.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ts(this):Ei(this),3==this.readyState&&Ks(this)}},ce.Ua=function(i){this.g&&(this.response=this.responseText=i,Ts(this))},ce.Ta=function(i){this.g&&(this.response=i,Ts(this))},ce.ha=function(){this.g&&Ts(this)},ce.setRequestHeader=function(i,e){this.v.append(i,e)},ce.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var gs=he.JSON.parse;function ni(i){Wn.call(this),this.headers=new Yr,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Rs,this.K=this.L=!1}et(ni,Wn);var Rs="",Zs=/^https?$/i,Jo=["POST","PUT"];function el(i){return"content-type"==i.toLowerCase()}function $o(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,bo(i),Us(i)}function bo(i){i.D||(i.D=!0,dr(i,"complete"),dr(i,"error"))}function ea(i){if(i.h&&void 0!==le&&(!i.C[1]||4!=Xs(i)||2!=i.ba()))if(i.v&&4==Xs(i))Ln(i.Fa,0,i);else if(dr(i,"readystatechange"),4==Xs(i)){i.h=!1;try{const T=i.ba();e:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===T){var l=String(i.H).match(os)[1]||null;if(!l&&he.self&&he.self.location){var d=he.self.location.protocol;l=d.substr(0,d.length-1)}o=!Zs.test(l?l.toLowerCase():"")}t=o}if(t)dr(i,"complete"),dr(i,"success");else{i.m=6;try{var y=2<Xs(i)?i.g.statusText:""}catch(H){y=""}i.j=y+" ["+i.ba()+"]",bo(i)}}finally{Us(i)}}}function Us(i,e){if(i.g){ta(i);const t=i.g,o=i.C[0]?Ae:null;i.g=null,i.C=null,e||dr(i,"ready");try{t.onreadystatechange=o}catch(l){}}}function ta(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(he.clearTimeout(i.A),i.A=null)}function Xs(i){return i.g?i.g.readyState:0}function na(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Rs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ia(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function ra(i){let e="";return Hn(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):pt(i,e,t))}function Qs(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function qa(i){this.za=0,this.l=[],this.h=new Ne,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qs("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qs("baseRetryDelayMs",5e3,i),this.$a=Qs("retryDelaySeedMs",1e4,i),this.Ya=Qs("forwardChannelMaxRetries",2,i),this.ra=Qs("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new fr(i&&i.concurrentRequestLimit),this.Ca=new pu,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Oa(i){if(Ka(i),3==i.G){var e=i.V++,t=N(i.F);pt(t,"SID",i.J),pt(t,"RID",e),pt(t,"TYPE","terminate"),ms(i,t),(e=new jr(i,i.h,e,void 0)).K=2,e.v=kt(N(t)),t=!1,he.navigator&&he.navigator.sendBeacon&&(t=he.navigator.sendBeacon(e.v.toString(),"")),!t&&he.Image&&((new Image).src=e.v,t=!0),t||(e.g=eo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ti(e)}ua(i)}function sa(i){i.g&&(oi(i),i.g.cancel(),i.g=null)}function Ka(i){sa(i),i.u&&(he.clearTimeout(i.u),i.u=null),Js(i),i.i.cancel(),i.m&&("number"==typeof i.m&&he.clearTimeout(i.m),i.m=null)}function tl(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Vi(i)}function Vi(i){di(i.i)||i.m||(i.m=!0,Mr(i.Ha,i),i.C=0)}function zr(i,e){var t;t=e?e.m:i.V++;const o=N(i.F);pt(o,"SID",i.J),pt(o,"RID",t),pt(o,"AID",i.U),ms(i,o),i.o&&i.s&&ia(o,i.o,i.s),t=new jr(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=oa(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Mt(i.i,t),Fi(t,o,e)}function ms(i,e){i.j&&Xr({},function(t,o){pt(e,o,t)})}function oa(i,e,t){t=Math.min(i.l.length,t);var o=i.j?qe(i.j.Oa,i.j,i):null;e:{var l=i.l;let d=-1;for(;;){const y=["count="+t];-1==d?0<t?(d=l[0].h,y.push("ofs="+d)):d=0:y.push("ofs="+d);let T=!0;for(let H=0;H<t;H++){let Y=l[H].h;const Re=l[H].g;if(Y-=d,0>Y)d=Math.max(0,l[H].h-100),T=!1;else try{Bo(Re,y,"req"+Y+"_")}catch(We){o&&o(Re)}}if(T){o=y.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function mu(i){i.g||i.u||(i.Y=1,Mr(i.Ga,i),i.A=0)}function Pa(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Ui(qe(i.Ga,i),aa(i,i.A)),i.A++,0))}function oi(i){null!=i.B&&(he.clearTimeout(i.B),i.B=null)}function Na(i){i.g=new jr(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=N(i.oa);pt(e,"RID","rpc"),pt(e,"SID",i.J),pt(e,"CI",i.N?"0":"1"),pt(e,"AID",i.U),ms(i,e),pt(e,"TYPE","xmlhttp"),i.o&&i.s&&ia(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=kt(N(e)),t.s=null,t.U=!0,qs(t,i)}function Js(i){null!=i.v&&(he.clearTimeout(i.v),i.v=null)}function Io(i,e){var t=null;if(i.g==e){Js(i),oi(i),i.g=null;var o=2}else{if(!Cs(i.i,e))return;t=e.D,Er(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;dr(o=Cr(),new ai(o,t,e,l)),Vi(i)}else mu(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function Os(i,e){return!(Hi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Ui(qe(i.Ha,i,e),aa(i,i.C)),i.C++,0)))}(i,e)||2==o&&Pa(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:as(i,5);break;case 4:as(i,10);break;case 3:as(i,6);break;default:as(i,2)}}function aa(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function as(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=qe(i.jb,i);t||(t=new _i("//www.google.com/images/cleardot.gif"),he.location&&"http"==he.location.protocol||K(t,"https"),kt(t)),function Ji(i,e){const t=new Ne;if(he.Image){const o=new Image;o.onload=Ze(uo,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Ze(uo,t,o,"TestLoadImage: error",!1,e),o.onabort=Ze(uo,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ze(uo,t,o,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Br(2);i.G=0,i.j&&i.j.va(e),ua(i),Ka(i)}function ua(i){i.G=0,i.I=-1,i.j&&((0!=Ma(i.i).length||0!=i.l.length)&&(i.i.i.length=0,gn(i.l),i.l.length=0),i.j.ua())}function ka(i,e,t){let o=function Bt(i){return i instanceof _i?N(i):new _i(i,void 0)}(t);if(""!=o.i)e&&F(o,e+"."+o.i),ie(o,o.m);else{const l=he.location;o=function Rr(i,e,t,o){var l=new _i(null,void 0);return i&&K(l,i),e&&F(l,e),t&&ie(l,t),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,t)}return i.aa&&Hn(i.aa,function(l,d){pt(o,d,l)}),t=i.sa,(e=i.D)&&t&&pt(o,e,t),pt(o,"VER",i.ma),ms(i,o),o}function eo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ni(t&&i.Ba&&!i.qa?new ps({ib:!0}):i.qa)).L=i.H,e}function bi(){}function Za(){if(kn&&!(10<=Number(Pt)))throw Error("Environmental error: no available transport.")}function es(i,e){Wn.call(this),this.g=new qa(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!It(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!It(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ps(this)}function hi(i){$s.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function lo(){yi.call(this),this.status=1}function Ps(i){this.g=i}(ce=ni.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oo.g(),this.C=function Ms(i){return i.h||(i.h=i.i())}(this.u?this.u:oo),this.g.onreadystatechange=qe(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void $o(this,d)}i=t||"";const l=new Yr(this.headers);o&&Xr(o,function(d,y){l.set(y,d)}),o=function on(i){e:{var e=el;const t=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<t;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),t=he.FormData&&i instanceof he.FormData,!(0<=Ot(Jo,e))||o||t||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(d,y){this.g.setRequestHeader(y,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ta(this),0<this.B&&((this.K=function gu(i){return kn&&function zn(){return function hr(i){var e=Mn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Pn(String(Pr)).split("."),t=Pn("9").split("."),o=Math.max(e.length,t.length);for(let y=0;0==i&&y<o;y++){var l=e[y]||"",d=t[y]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==l[0].length&&0==d[0].length)break;i=Gn(0==l[1].length?0:parseInt(l[1],10),0==d[1].length?0:parseInt(d[1],10))||Gn(0==l[2].length,0==d[2].length)||Gn(l[2],d[2]),l=l[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qe(this.pa,this)):this.A=Ln(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){$o(this,d)}},ce.pa=function(){void 0!==le&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dr(this,"timeout"),this.abort(8))},ce.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,dr(this,"complete"),dr(this,"abort"),Us(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Us(this,!0)),ni.Z.M.call(this)},ce.Fa=function(){this.s||(this.F||this.v||this.l?ea(this):this.cb())},ce.cb=function(){ea(this)},ce.ba=function(){try{return 2<Xs(this)?this.g.status:-1}catch(i){return-1}},ce.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ce.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),gs(e)}},ce.Da=function(){return this.m},ce.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=qa.prototype).ma=8,ce.G=1,ce.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},ce.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new jr(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=wn(d),qn(d,this.P)):d=this.P),null===this.o&&(l.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=oa(this,l,e),pt(t=N(this.F),"RID",i),pt(t,"CVER",22),this.D&&pt(t,"X-HTTP-Session-Id",this.D),ms(this,t),this.o&&d&&ia(t,this.o,d),Mt(this.i,l),this.Ra&&pt(t,"TYPE","init"),this.ja?(pt(t,"$req",e),pt(t,"SID","null"),l.$=!0,Fi(l,t,null)):Fi(l,t,e),this.G=2}}else 3==this.G&&(i?zr(this,i):0==this.l.length||di(this.i)||zr(this))},ce.Ga=function(){if(this.u=null,Na(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Ui(qe(this.bb,this),i)}},ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Br(10),sa(this),Na(this))},ce.ab=function(){null!=this.v&&(this.v=null,sa(this),Pa(this),Br(19))},ce.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Br(2)):(this.h.info("Failed to ping google.com"),Br(1))},(ce=bi.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Oa=function(){},Za.prototype.g=function(i,e){return new es(i,e)},et(es,Wn),es.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Mr(qe(i.hb,i,e))),Br(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=ka(i,null,i.W),Vi(i)},es.prototype.close=function(){Oa(this.g)},es.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,tl(this.g,e)}else this.v?((e={}).__data__=Zr(i),tl(this.g,e)):tl(this.g,i)},es.prototype.M=function(){this.g.j=null,delete this.j,Oa(this.g),delete this.g,es.Z.M.call(this)},et(hi,$s),et(lo,yi),et(Ps,bi),Ps.prototype.xa=function(){dr(this.g,"a")},Ps.prototype.wa=function(i){dr(this.g,new hi(i))},Ps.prototype.va=function(i){dr(this.g,new lo(i))},Ps.prototype.ua=function(){dr(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,es.prototype.send=es.prototype.u,es.prototype.open=es.prototype.m,es.prototype.close=es.prototype.close,Ni.NO_ERROR=0,Ni.TIMEOUT=8,Ni.HTTP_ERROR=6,Bs.COMPLETE="complete",ki.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",Wn.prototype.listen=Wn.prototype.N,ni.prototype.listenOnce=ni.prototype.O,ni.prototype.getLastError=ni.prototype.La,ni.prototype.getLastErrorCode=ni.prototype.Da,ni.prototype.getStatus=ni.prototype.ba,ni.prototype.getResponseJson=ni.prototype.Qa,ni.prototype.getResponseText=ni.prototype.ga,ni.prototype.send=ni.prototype.ea;var nl=Ct.createWebChannelTransport=function(){return new Za},la=Ct.getStatEventTarget=function(){return Cr()},Xa=Ct.ErrorCode=Ni,Qr=Ct.EventType=Bs,ca=Ct.Event=Dn,wo=Ct.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},co=Ct.FetchXmlHttpFactory=ps,Do=Ct.WebChannel=ki,js=Ct.XhrIo=ni;const ho="@firebase/firestore";class Si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Si.UNAUTHENTICATED=new Si(null),Si.GOOGLE_CREDENTIALS=new Si("google-credentials-uid"),Si.FIRST_PARTY=new Si("first-party-uid"),Si.MOCK_USER=new Si("mock-user");let Ns="9.6.11";const ys=new je.Yd("@firebase/firestore");function to(){return ys.logLevel}function Wt(i,...e){if(ys.logLevel<=je.in.DEBUG){const t=e.map(da);ys.debug(`Firestore (${Ns}): ${i}`,...t)}}function ri(i,...e){if(ys.logLevel<=je.in.ERROR){const t=e.map(da);ys.error(`Firestore (${Ns}): ${i}`,...t)}}function ts(i,...e){if(ys.logLevel<=je.in.WARN){const t=e.map(da);ys.warn(`Firestore (${Ns}): ${i}`,...t)}}function da(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function vn(i="Unexpected state"){const e=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+i;throw ri(e),new Error(e)}function Vn(i,e){i||vn()}function dn(i,e){return i}const Et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ft extends ot.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class D{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Si.UNAUTHENTICATED))}shutdown(){}}class _{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class O{constructor(e){this.t=e,this.currentUser=Si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const d=Y=>this.i!==l?(l=this.i,t(Y)):Promise.resolve();let y=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Gi,e.enqueueRetryable(()=>d(this.currentUser))};const T=()=>{const Y=y;e.enqueueRetryable((0,te.Z)(function*(){yield Y.promise,yield d(o.currentUser)}))},H=Y=>{Wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(Y=>H(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?H(Y):(Wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Gi)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Vn("string"==typeof o.accessToken),new D(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vn(null===e||"string"==typeof e),new Si(e)}}class U{constructor(e,t,o){this.type="FirstParty",this.user=Si.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class J{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new U(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Me{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class He{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=d=>{null!=d.error&&Wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const y=d.token!==this.p;return this.p=d.token,Wt("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const l=d=>{Wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.g.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.g.getImmediate({optional:!0});d?l(d):Wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vn("string"==typeof t.token),this.p=t.token,new Me(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class un{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function ur(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}un.A=-1;class An{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=ur(40);for(let d=0;d<l.length;++d)o.length<20&&l[d]<t&&(o+=e.charAt(l[d]%e.length))}return o}}function _n(i,e){return i<e?-1:i>e?1:0}function br(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function Ai(i){return i+"\0"}class Ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ft(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ft(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ft(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ft(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Ar(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_n(this.nanoseconds,e.nanoseconds):_n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fn(e)}static min(){return new Fn(new Ar(0,0))}static max(){return new Fn(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Qa(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ss(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function jo(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ja{constructor(e,t,o){void 0===t?t=0:t>e.length&&vn(),void 0===o?o=e.length-t:o>e.length-t&&vn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Ja.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ja?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const d=e.get(l),y=t.get(l);if(d<y)return-1;if(d>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Or extends Ja{construct(e,t,o){return new Or(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ft(Et.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new Or(t)}static emptyPath(){return new Or([])}}const fi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zi extends Ja{construct(e,t,o){return new zi(e,t,o)}static isValidIdentifier(e){return fi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zi(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const d=()=>{if(0===o.length)throw new Ft(Et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let y=!1;for(;l<e.length;){const T=e[l];if("\\"===T){if(l+1===e.length)throw new Ft(Et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const H=e[l+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new Ft(Et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=H,l+=2}else"`"===T?(y=!y,l++):"."!==T||y?(o+=T,l++):(d(),l++)}if(d(),y)throw new Ft(Et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zi(t)}static emptyPath(){return new zi([])}}class ha{constructor(e){this.fields=e,e.sort(zi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return br(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Ii{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ii(t)}static fromUint8Array(e){const t=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(e);return new Ii(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const Sd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fo(i){if(Vn(!!i),"string"==typeof i){let e=0;const t=Sd.exec(i);if(Vn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:pi(i.seconds),nanos:pi(i.nanos)}}function pi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ks(i){return"string"==typeof i?Ii.fromBase64String(i):Ii.fromUint8Array(i)}function fa(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ii(i){const e=i.mapValue.fields.__previous_value__;return fa(e)?ii(e):e}function Co(i){const e=fo(i.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}class To{constructor(e,t,o,l,d,y,T,H){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=d,this.forceLongPolling=y,this.autoDetectLongPolling=T,this.useFetchStreams=H}}class po{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new po("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}function vs(i){return null==i}function xi(i){return 0===i&&1/i==-1/0}function go(i){return"number"==typeof i&&Number.isInteger(i)&&!xi(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class fn{constructor(e){this.path=e}static fromPath(e){return new fn(Or.fromString(e))}static fromName(e){return new fn(Or.fromString(e).popFirst(5))}static empty(){return new fn(Or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Or.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Or.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fn(new Or(e.slice()))}}const yu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ho={nullValue:"NULL_VALUE"};function So(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?fa(i)?4:x(i)?9:10:vn()}function _s(i,e){if(i===e)return!0;const t=So(i);if(t!==So(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Co(i).isEqual(Co(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=fo(o.timestampValue),y=fo(l.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,ks(i.bytesValue).isEqual(ks(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return pi(o.geoPointValue.latitude)===pi(l.geoPointValue.latitude)&&pi(o.geoPointValue.longitude)===pi(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return pi(o.integerValue)===pi(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=pi(o.doubleValue),y=pi(l.doubleValue);return d===y?xi(d)===xi(y):isNaN(d)&&isNaN(y)}return!1}(i,e);case 9:return br(i.arrayValue.values||[],e.arrayValue.values||[],_s);case 10:return function(o,l){const d=o.mapValue.fields||{},y=l.mapValue.fields||{};if(Qa(d)!==Qa(y))return!1;for(const T in d)if(d.hasOwnProperty(T)&&(void 0===y[T]||!_s(d[T],y[T])))return!1;return!0}(i,e);default:return vn()}var l}function La(i,e){return void 0!==(i.values||[]).find(t=>_s(t,e))}function Ao(i,e){if(i===e)return 0;const t=So(i),o=So(e);if(t!==o)return _n(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return _n(i.booleanValue,e.booleanValue);case 2:return function(l,d){const y=pi(l.integerValue||l.doubleValue),T=pi(d.integerValue||d.doubleValue);return y<T?-1:y>T?1:y===T?0:isNaN(y)?isNaN(T)?0:-1:1}(i,e);case 3:return Ec(i.timestampValue,e.timestampValue);case 4:return Ec(Co(i),Co(e));case 5:return _n(i.stringValue,e.stringValue);case 6:return function(l,d){const y=ks(l),T=ks(d);return y.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(l,d){const y=l.split("/"),T=d.split("/");for(let H=0;H<y.length&&H<T.length;H++){const Y=_n(y[H],T[H]);if(0!==Y)return Y}return _n(y.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,d){const y=_n(pi(l.latitude),pi(d.latitude));return 0!==y?y:_n(pi(l.longitude),pi(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,d){const y=l.values||[],T=d.values||[];for(let H=0;H<y.length&&H<T.length;++H){const Y=Ao(y[H],T[H]);if(Y)return Y}return _n(y.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,d){const y=l.fields||{},T=Object.keys(y),H=d.fields||{},Y=Object.keys(H);T.sort(),Y.sort();for(let Re=0;Re<T.length&&Re<Y.length;++Re){const We=_n(T[Re],Y[Re]);if(0!==We)return We;const bt=Ao(y[T[Re]],H[Y[Re]]);if(0!==bt)return bt}return _n(T.length,Y.length)}(i.mapValue,e.mapValue);default:throw vn()}}function Ec(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return _n(i,e);const t=fo(i),o=fo(e),l=_n(t.seconds,o.seconds);return 0!==l?l:_n(t.nanos,o.nanos)}function Es(i){return bs(i)}function bs(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=fo(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ks(i.bytesValue).toBase64():"referenceValue"in i?fn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",d=!0;for(const y of o.values||[])d?d=!1:l+=",",l+=bs(y);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let d="{",y=!0;for(const T of l)y?y=!1:d+=",",d+=`${T}:${bs(o.fields[T])}`;return d+"}"}(i.mapValue):vn();var e}function ns(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function xo(i){return!!i&&"integerValue"in i}function rl(i){return!!i&&"arrayValue"in i}function pa(i){return!!i&&"nullValue"in i}function Rl(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vu(i){return!!i&&"mapValue"in i}function ga(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ss(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=ga(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ga(i.arrayValue.values[t]);return e}return Object.assign({},i)}function x(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function V(i){return"nullValue"in i?Ho:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ns(po.empty(),fn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:vn()}function ne(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ns(po.empty(),fn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?yu:vn()}function ke(i,e){return void 0===i?e:void 0===e||Ao(i,e)>0?i:e}function st(i,e){return void 0===i?e:void 0===e||Ao(i,e)<0?i:e}class mt{constructor(e){this.value=e}static empty(){return new mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!vu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(t)}setAll(e){let t=zi.emptyPath(),o={},l=[];e.forEach((y,T)=>{if(!t.isImmediateParentOf(T)){const H=this.getFieldsMap(t);this.applyChanges(H,o,l),o={},l=[],t=T.popLast()}y?o[T.lastSegment()]=ga(y):l.push(T.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,l)}delete(e){const t=this.field(e.popLast());vu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _s(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];vu(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){Ss(t,(l,d)=>e[l]=d);for(const l of o)delete e[l]}clone(){return new mt(ga(this.value))}}function Kt(i){const e=[];return Ss(i.fields,(t,o)=>{const l=new zi([t]);if(vu(o)){const d=Kt(o.mapValue).fields;if(0===d.length)e.push(l);else for(const y of d)e.push(l.child(y))}else e.push(l)}),new ha(e)}class Jt{constructor(e,t,o,l,d,y){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Jt(e,0,Fn.min(),Fn.min(),mt.empty(),0)}static newFoundDocument(e,t,o){return new Jt(e,1,t,Fn.min(),o,0)}static newNoDocument(e,t){return new Jt(e,2,t,Fn.min(),mt.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,Fn.min(),mt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jn{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function rr(i){return i.fields.find(e=>2===e.kind)}function mr(i){return i.fields.filter(e=>2!==e.kind)}Jn.UNKNOWN_ID=-1;class lr{constructor(e,t){this.fieldPath=e,this.kind=t}}class rs{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new rs(0,As.min())}}function Mi(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=Fn.fromTimestamp(1e9===o?new Ar(t+1,0):new Ar(t,o));return new As(l,fn.empty(),e)}function Go(i){return new As(i.readTime,i.key,-1)}class As{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new As(Fn.min(),fn.empty(),-1)}static max(){return new As(Fn.max(),fn.empty(),-1)}}function ma(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=fn.comparator(i.documentKey,e.documentKey),0!==t?t:_n(i.largestBatchId,e.largestBatchId))}class qr{constructor(e,t=null,o=[],l=[],d=null,y=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=d,this.startAt=y,this.endAt=T,this.P=null}}function Mo(i,e=null,t=[],o=[],l=null,d=null,y=null){return new qr(i,e,t,o,l,d,y)}function mo(i){const e=dn(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+Es(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),vs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Es(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Es(o)).join(",")),e.P=t}return e.P}function zo(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!ul(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((t=i.filters[l]).op!==(o=e.filters[l]).op||!t.field.isEqual(o.field)||!_s(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!rf(i.startAt,e.startAt)&&rf(i.endAt,e.endAt)}function il(i){return fn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function sl(i,e){return i.filters.filter(t=>t instanceof wi&&t.field.isEqual(e))}function Ad(i,e,t){let o,l=!0;for(const d of sl(i,e)){let y,T=!0;switch(d.op){case"<":case"<=":y=V(d.value);break;case"==":case"in":case">=":y=d.value;break;case">":y=d.value,T=!1;break;case"!=":case"not-in":y=Ho}ke(o,y)===y&&(o=y,l=T)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const y=t.position[d];ke(o,y)===y&&(o=y,l=t.inclusive);break}return{value:o,inclusive:l}}function _u(i,e,t){let o,l=!0;for(const d of sl(i,e)){let y,T=!0;switch(d.op){case">=":case">":y=ne(d.value),T=!1;break;case"==":case"in":case"<=":y=d.value;break;case"<":y=d.value,T=!1;break;case"!=":case"not-in":y=yu}st(o,y)===y&&(o=y,l=T)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const y=t.position[d];st(o,y)===y&&(o=y,l=t.inclusive);break}return{value:o,inclusive:l}}class wi extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new xd(e,t,o):"array-contains"===t?new Ic(e,o):"in"===t?new Ol(e,o):"not-in"===t?new wc(e,o):"array-contains-any"===t?new nf(e,o):new wi(e,t,o)}static V(e,t,o){return"in"===t?new ol(e,o):new tf(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ao(t,this.value)):null!==t&&So(this.value)===So(t)&&this.v(Ao(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xd extends wi{constructor(e,t,o){super(e,t,o),this.key=fn.fromName(o.referenceValue)}matches(e){const t=fn.comparator(e.key,this.key);return this.v(t)}}class ol extends wi{constructor(e,t){super(e,"in",t),this.keys=al(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tf extends wi{constructor(e,t){super(e,"not-in",t),this.keys=al(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function al(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>fn.fromName(o.referenceValue))}class Ic extends wi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rl(t)&&La(t.arrayValue,this.value)}}class Ol extends wi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&La(this.value.arrayValue,t)}}class wc extends wi{constructor(e,t){super(e,"not-in",t)}matches(e){if(La(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!La(this.value.arrayValue,t)}}class nf extends wi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>La(this.value.arrayValue,o))}}class Ro{constructor(e,t){this.position=e,this.inclusive=t}}class Oo{constructor(e,t="asc"){this.field=e,this.dir=t}}function ul(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Md(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const d=e[l],y=i.position[l];if(o=d.field.isKeyField()?fn.comparator(fn.fromName(y.referenceValue),t.key):Ao(y,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function rf(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!_s(i.position[t],e.position[t]))return!1;return!0}class Wo{constructor(e,t=null,o=[],l=[],d=null,y="F",T=null,H=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=d,this.limitType=y,this.startAt=T,this.endAt=H,this.D=null,this.C=null}}function Rd(i,e,t,o,l,d,y,T){return new Wo(i,e,t,o,l,d,y,T)}function ll(i){return new Wo(i)}function Pl(i){return!vs(i.limit)&&"F"===i.limitType}function Eu(i){return!vs(i.limit)&&"L"===i.limitType}function Dc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function bu(i){for(const e of i.filters)if(e.S())return e.field;return null}function cl(i){return null!==i.collectionGroup}function Po(i){const e=dn(i);if(null===e.D){e.D=[];const t=bu(e),o=Dc(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new Oo(t)),e.D.push(new Oo(zi.keyField(),"asc"));else{let l=!1;for(const d of e.explicitOrderBy)e.D.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Oo(zi.keyField(),d))}}}return e.D}function yo(i){const e=dn(i);if(!e.C)if("F"===e.limitType)e.C=Mo(e.path,e.collectionGroup,Po(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Po(e))t.push(new Oo(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new Ro(e.endAt.position,!e.endAt.inclusive):null,l=e.startAt?new Ro(e.startAt.position,!e.startAt.inclusive):null;e.C=Mo(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e.C}function Cc(i,e,t){return new Wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Nl(i,e){return zo(yo(i),yo(e))&&i.limitType===e.limitType}function dl(i){return`${mo(yo(i))}|lt:${i.limitType}`}function hl(i){return`Query(target=${function bc(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Es(o.value)}`;var o}).join(", ")}]`),vs(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Es(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Es(t)).join(",")),`Target(${e})`}(yo(i))}; limitType=${i.limitType})`}function kl(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):fn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,d,y){const T=Md(l,d,y);return l.inclusive?T<=0:T<0}(t.startAt,Po(t),o)||t.endAt&&!function(l,d,y){const T=Md(l,d,y);return l.inclusive?T>=0:T>0}(t.endAt,Po(t),o)));var t,o}function fl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Tc(i){return(e,t)=>{let o=!1;for(const l of Po(i)){const d=Fl(l,e,t);if(0!==d)return d;o=o||l.field.isKeyField()}return 0}}function Fl(i,e,t){const o=i.field.isKeyField()?fn.comparator(e.key,t.key):function(l,d,y){const T=d.data.field(l),H=y.data.field(l);return null!==T&&null!==H?Ao(T,H):vn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return vn()}}function Od(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xi(e)?"-0":e}}function Sc(i){return{integerValue:""+i}}function Pd(i,e){return go(e)?Sc(e):Od(i,e)}class Iu{constructor(){this._=void 0}}function sf(i,e,t){return i instanceof wu?function(o,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(t,e):i instanceof Du?af(i,e):i instanceof Cu?b(i,e):function(o,l){const d=eu(o,l),y=p(d)+p(o.k);return xo(d)&&xo(o.k)?Sc(y):Od(o.M,y)}(i,e)}function ya(i,e,t){return i instanceof Du?af(i,e):i instanceof Cu?b(i,e):t}function eu(i,e){return i instanceof f?xo(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class wu extends Iu{}class Du extends Iu{constructor(e){super(),this.elements=e}}function af(i,e){const t=w(e);for(const o of i.elements)t.some(l=>_s(l,o))||t.push(o);return{arrayValue:{values:t}}}class Cu extends Iu{constructor(e){super(),this.elements=e}}function b(i,e){let t=w(e);for(const o of i.elements)t=t.filter(l=>!_s(l,o));return{arrayValue:{values:t}}}class f extends Iu{constructor(e,t){super(),this.M=e,this.k=t}}function p(i){return pi(i.integerValue||i.doubleValue)}function w(i){return rl(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class W{constructor(e,t){this.field=e,this.transform=t}}class vt{constructor(e,t){this.version=e,this.transformResults=t}}class At{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xn(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class jn{}function Ir(i,e,t){i instanceof tu?function(o,l,d){const y=o.value.clone(),T=kd(o.fieldTransforms,l,d.transformResults);y.setAll(T),l.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,e,t):i instanceof Va?function(o,l,d){if(!xn(o.precondition,l))return void l.convertToUnknownDocument(d.version);const y=kd(o.fieldTransforms,l,d.transformResults),T=l.data;T.setAll(Nd(o)),T.setAll(y),l.convertToFoundDocument(d.version,T).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function kr(i,e,t){var l;i instanceof tu?function(o,l,d){if(!xn(o.precondition,l))return;const y=o.value.clone(),T=Su(o.fieldTransforms,d,l);y.setAll(T),l.convertToFoundDocument(Tu(l),y).setHasLocalMutations()}(i,e,t):i instanceof Va?function(o,l,d){if(!xn(o.precondition,l))return;const y=Su(o.fieldTransforms,d,l),T=l.data;T.setAll(Nd(o)),T.setAll(y),l.convertToFoundDocument(Tu(l),T).setHasLocalMutations()}(i,e,t):xn(i.precondition,l=e)&&l.convertToNoDocument(Fn.min())}function Hs(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),d=eu(o.transform,l||null);null!=d&&(null==t&&(t=mt.empty()),t.set(o.field,d))}return t||null}function Yo(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&br(t,o,(l,d)=>function Ee(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Du&&o instanceof Du||t instanceof Cu&&o instanceof Cu?br(t.elements,o.elements,_s):t instanceof f&&o instanceof f?_s(t.k,o.k):t instanceof wu&&o instanceof wu);var t,o}(l,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function Tu(i){return i.isFoundDocument()?i.version:Fn.min()}class tu extends jn{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}}class Va extends jn{constructor(e,t,o,l,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=d,this.type=1}}function Nd(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function kd(i,e,t){const o=new Map;Vn(i.length===t.length);for(let l=0;l<t.length;l++){const d=i[l],y=d.transform,T=e.data.field(d.field);o.set(d.field,ya(y,T,t[l]))}return o}function Su(i,e,t){const o=new Map;for(const l of i){const d=l.transform,y=t.data.field(l.field);o.set(l.field,sf(d,y,e))}return o}class Ba extends jn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Au extends jn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Fd{constructor(e){this.count=e}}var Wi,Fr;function Ll(i){switch(i){default:return vn();case Et.CANCELLED:case Et.UNKNOWN:case Et.DEADLINE_EXCEEDED:case Et.RESOURCE_EXHAUSTED:case Et.INTERNAL:case Et.UNAVAILABLE:case Et.UNAUTHENTICATED:return!1;case Et.INVALID_ARGUMENT:case Et.NOT_FOUND:case Et.ALREADY_EXISTS:case Et.PERMISSION_DENIED:case Et.FAILED_PRECONDITION:case Et.ABORTED:case Et.OUT_OF_RANGE:case Et.UNIMPLEMENTED:case Et.DATA_LOSS:return!0}}function Ld(i){if(void 0===i)return ri("GRPC error has no .code"),Et.UNKNOWN;switch(i){case Wi.OK:return Et.OK;case Wi.CANCELLED:return Et.CANCELLED;case Wi.UNKNOWN:return Et.UNKNOWN;case Wi.DEADLINE_EXCEEDED:return Et.DEADLINE_EXCEEDED;case Wi.RESOURCE_EXHAUSTED:return Et.RESOURCE_EXHAUSTED;case Wi.INTERNAL:return Et.INTERNAL;case Wi.UNAVAILABLE:return Et.UNAVAILABLE;case Wi.UNAUTHENTICATED:return Et.UNAUTHENTICATED;case Wi.INVALID_ARGUMENT:return Et.INVALID_ARGUMENT;case Wi.NOT_FOUND:return Et.NOT_FOUND;case Wi.ALREADY_EXISTS:return Et.ALREADY_EXISTS;case Wi.PERMISSION_DENIED:return Et.PERMISSION_DENIED;case Wi.FAILED_PRECONDITION:return Et.FAILED_PRECONDITION;case Wi.ABORTED:return Et.ABORTED;case Wi.OUT_OF_RANGE:return Et.OUT_OF_RANGE;case Wi.UNIMPLEMENTED:return Et.UNIMPLEMENTED;case Wi.DATA_LOSS:return Et.DATA_LOSS;default:return vn()}}(Fr=Wi||(Wi={}))[Fr.OK=0]="OK",Fr[Fr.CANCELLED=1]="CANCELLED",Fr[Fr.UNKNOWN=2]="UNKNOWN",Fr[Fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fr[Fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fr[Fr.NOT_FOUND=5]="NOT_FOUND",Fr[Fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fr[Fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fr[Fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fr[Fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fr[Fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fr[Fr.ABORTED=10]="ABORTED",Fr[Fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fr[Fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fr[Fr.INTERNAL=13]="INTERNAL",Fr[Fr.UNAVAILABLE=14]="UNAVAILABLE",Fr[Fr.DATA_LOSS=15]="DATA_LOSS";class xu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,d]of o)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(t,o)=>{for(const[l,d]of o)e(l,d)})}isEmpty(){return jo(this.inner)}size(){return this.innerSize}}class is{constructor(e,t){this.comparator=e,this.root=t||us.EMPTY}insert(e,t){return new is(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,us.BLACK,null,null))}remove(e){return new is(this.comparator,this.root.remove(e,this.comparator).copy(null,null,us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class us{constructor(e,t,o,l,d){this.key=e,this.value=t,this.color=null!=o?o:us.RED,this.left=null!=l?l:us.EMPTY,this.right=null!=d?d:us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,d){return new us(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const d=o(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===d?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return us.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vn();const e=this.left.check();if(e!==this.right.check())throw vn();return e+(this.isRed()?0:1)}}us.EMPTY=null,us.RED=!0,us.BLACK=!1,us.EMPTY=new class{constructor(){this.size=0}get key(){throw vn()}get value(){throw vn()}get color(){throw vn()}get left(){throw vn()}get right(){throw vn()}copy(i,e,t,o,l){return this}insert(i,e,t){return new us(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Di{constructor(e){this.comparator=e,this.data=new is(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vd(this.data.getIterator())}getIteratorFrom(e){return new Vd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Di)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Di(this.comparator);return t.data=e,t}}class Vd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vl(i){return i.hasNext()?i.getNext():void 0}const ls=new is(fn.comparator);function qo(){return ls}const ay=new is(fn.comparator);function xc(){return ay}function Bl(){return new xu(i=>i.toString(),(i,e)=>i.isEqual(e))}const uy=new is(fn.comparator),ly=new Di(fn.comparator);function Kr(...i){let e=ly;for(const t of i)e=e.add(t);return e}const cy=new Di(_n);function Bd(){return cy}class $d{constructor(e,t,o,l,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,t)),new $d(Fn.min(),o,Bd(),qo(),Kr())}}class Ud{constructor(e,t,o,l,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ud(Ii.EMPTY_BYTE_STRING,t,Kr(),Kr(),Kr())}}class Mu{constructor(e,t,o,l){this.O=e,this.removedTargetIds=t,this.key=o,this.F=l}}class Gs{constructor(e,t){this.targetId=e,this.$=t}}class jd{constructor(e,t,o=Ii.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class uf{constructor(){this.B=0,this.L=$l(),this.U=Ii.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Kr(),t=Kr(),o=Kr();return this.L.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:vn()}}),new Ud(this.U,this.q,e,t,o)}J(){this.K=!1,this.L=$l()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class sg{constructor(e){this.nt=e,this.st=new Map,this.it=qo(),this.rt=Fs(),this.ot=new Di(_n)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:vn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,l)=>{this.ft(l)&&t(l)})}_t(e){const t=e.targetId,o=e.$.count,l=this.wt(t);if(l){const d=l.target;if(il(d))if(0===o){const y=new fn(d.path);this.ct(t,y,Jt.newNoDocument(y,Fn.min()))}else Vn(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((d,y)=>{const T=this.wt(y);if(T){if(d.current&&il(T.target)){const H=new fn(T.target.path);null!==this.it.get(H)||this.It(y,H)||this.ct(y,H,Jt.newNoDocument(H,e))}d.j&&(t.set(y,d.H()),d.J())}});let o=Kr();this.rt.forEach((d,y)=>{let T=!0;y.forEachWhile(H=>{const Y=this.wt(H);return!Y||2===Y.purpose||(T=!1,!1)}),T&&(o=o.add(d))}),this.it.forEach((d,y)=>y.setReadTime(e));const l=new $d(e,t,this.ot,this.it,o);return this.it=qo(),this.rt=Fs(),this.ot=new Di(_n),l}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const l=this.lt(e);this.It(e,t)?l.Y(t,1):l.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new uf,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Di(_n),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Wt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new uf),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Fs(){return new is(fn.comparator)}function $l(){return new is(fn.comparator)}const lf={asc:"ASCENDING",desc:"DESCENDING"},dy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class hy{constructor(e,t){this.databaseId=e,this.N=t}}function Ul(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function og(i,e){return i.N?e.toBase64():e.toUint8Array()}function ag(i,e){return Ul(i,e.toTimestamp())}function xs(i){return Vn(!!i),Fn.fromTimestamp(function(e){const t=fo(e);return new Ar(t.seconds,t.nanos)}(i))}function Hd(i,e){return(t=i,new Or(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ug(i){const e=Or.fromString(i);return Vn(_y(e)),e}function Mc(i,e){return Hd(i.databaseId,e.path)}function Ko(i,e){const t=ug(e);if(t.get(1)!==i.databaseId.projectId)throw new Ft(Et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ft(Et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new fn(cg(t))}function cf(i,e){return Hd(i.databaseId,e)}function lg(i){const e=ug(i);return 4===e.length?Or.emptyPath():cg(e)}function pl(i){return new Or(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cg(i){return Vn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function dg(i,e,t){return{name:Mc(i,e),fields:t.value.mapValue.fields}}function Rc(i,e,t){const o=Ko(i,e.name),l=xs(e.updateTime),d=new mt({mapValue:{fields:e.fields}}),y=Jt.newFoundDocument(o,l,d);return t&&y.setHasCommittedMutations(),t?y.setHasCommittedMutations():y}function Oc(i,e){let t;if(e instanceof tu)t={update:dg(i,e.key,e.value)};else if(e instanceof Ba)t={delete:Mc(i,e.key)};else if(e instanceof Va)t={update:dg(i,e.key,e.data),updateMask:O_(e.fieldMask)};else{if(!(e instanceof Au))return vn();t={verify:Mc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,d){const y=d.transform;if(y instanceof wu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Du)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Cu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof f)return{fieldPath:d.field.canonicalString(),increment:y.k};throw vn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:ag(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:vn()),t;var l}function df(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?At.updateTime(xs(l.updateTime)):void 0!==l.exists?At.exists(l.exists):At.none():At.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(d,y){let T=null;"setToServerValue"in y?(Vn("REQUEST_TIME"===y.setToServerValue),T=new wu):"appendMissingElements"in y?T=new Du(y.appendMissingElements.values||[]):"removeAllFromArray"in y?T=new Cu(y.removeAllFromArray.values||[]):"increment"in y?T=new f(d,y.increment):vn();const H=zi.fromServerFormat(y.fieldPath);return new W(H,T)}(i,l)):[];var l;if(e.update){const l=Ko(i,e.update.name),d=new mt({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new ha((e.updateMask.fieldPaths||[]).map(Y=>zi.fromServerFormat(Y)));return new Va(l,d,y,t,o)}return new tu(l,d,t,o)}if(e.delete){const l=Ko(i,e.delete);return new Ba(l,t)}if(e.verify){const l=Ko(i,e.verify);return new Au(l,t)}return vn()}function hf(i,e){return{documents:[cf(i,e.path)]}}function hg(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=cf(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=cf(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(H){if(0===H.length)return;const Y=H.map(Re=>function(We){if("=="===We.op){if(Rl(We.value))return{unaryFilter:{field:jl(We.field),op:"IS_NAN"}};if(pa(We.value))return{unaryFilter:{field:jl(We.field),op:"IS_NULL"}}}else if("!="===We.op){if(Rl(We.value))return{unaryFilter:{field:jl(We.field),op:"IS_NOT_NAN"}};if(pa(We.value))return{unaryFilter:{field:jl(We.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(We.field),op:vy(We.op),value:We.value}}}(Re));return 1===Y.length?Y[0]:{compositeFilter:{op:"AND",filters:Y}}}(e.filters);l&&(t.structuredQuery.where=l);const d=function(H){if(0!==H.length)return H.map(Y=>{return{field:jl((Re=Y).field),direction:yy(Re.dir)};var Re})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const y=(Y=e.limit,i.N||vs(Y)?Y:{value:Y});var Y,T,H;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(H=e.endAt).inclusive,values:H.position}),t}function fg(i){let e=lg(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){Vn(1===o);const Re=t.from[0];Re.allDescendants?l=Re.collectionId:e=e.child(Re.collectionId)}let d=[];t.where&&(d=pg(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(Re=>{return new Oo(Hl((We=Re).field),function(bt){switch(bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(We.direction));var We}));let T=null;t.limit&&(T=function(Re){let We;return We="object"==typeof Re?Re.value:Re,vs(We)?null:We}(t.limit));let H=null;var Re;t.startAt&&(H=new Ro((Re=t.startAt).values||[],!!Re.before));let Y=null;return t.endAt&&(Y=function(Re){return new Ro(Re.values||[],!Re.before)}(t.endAt)),Rd(e,l,y,d,T,"F",H,Y)}function pg(i){return i?void 0!==i.unaryFilter?[$a(i)]:void 0!==i.fieldFilter?[Gl(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>pg(e)).reduce((e,t)=>e.concat(t)):vn():[]}function yy(i){return lf[i]}function vy(i){return dy[i]}function jl(i){return{fieldPath:i.canonicalString()}}function Hl(i){return zi.fromServerFormat(i.fieldPath)}function Gl(i){return wi.create(Hl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vn()}}(i.fieldFilter.op),i.fieldFilter.value)}function $a(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Hl(i.unaryFilter.field);return wi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Hl(i.unaryFilter.field);return wi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Hl(i.unaryFilter.field);return wi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Hl(i.unaryFilter.field);return wi.create(l,"!=",{nullValue:"NULL_VALUE"});default:return vn()}}function O_(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _y(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function zs(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=va(e)),e=P_(i.get(t),e);return va(e)}function P_(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const d=i.charAt(l);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function va(i){return i+"\x01\x01"}function Zo(i){const e=i.length;if(Vn(e>=2),2===e)return Vn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Or.emptyPath();const t=e-2,o=[];let l="";for(let d=0;d<e;){const y=i.indexOf("\x01",d);switch((y<0||y>t)&&vn(),i.charAt(y+1)){case"\x01":const T=i.substring(d,y);let H;0===l.length?H=T:(l+=T,H=l,l=""),o.push(H);break;case"\x10":l+=i.substring(d,y),l+="\0";break;case"\x11":l+=i.substring(d,y+1);break;default:vn()}d=y+2}return new Or(o)}const Gd=["userId","batchId"];function zd(i,e){return[i,zs(e)]}function ff(i,e,t){return[i,zs(e),t]}const Pc={},gg=["prefixPath","collectionGroup","readTime","documentId"],mg=["prefixPath","collectionGroup","documentId"],pf=["collectionGroup","readTime","prefixPath","documentId"],gf=["canonicalId","targetId"],yg=["targetId","path"],N_=["path","targetId"],zl=["collectionId","parent"],mf=["indexId","uid"],vg=["uid","sequenceNumber"],Ey=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yf=["indexId","uid","orderedDocumentKey"],by=["userId","collectionPath","documentId"],Iy=["userId","collectionPath","largestBatchId"],wy=["userId","collectionGroup","largestBatchId"],_g=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Dy=[..._g,"documentOverlays"],Eg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bg=[...Eg,"indexConfiguration","indexState","indexEntries"],Wd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Tt((o,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,l)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Tt?t:Tt.resolve(t)}catch(t){return Tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Tt.reject(t)}static resolve(e){return new Tt((t,o)=>{t(e)})}static reject(e){return new Tt((t,o)=>{o(e)})}static waitFor(e){return new Tt((t,o)=>{let l=0,d=0,y=!1;e.forEach(T=>{++l,T.next(()=>{++d,y&&d===l&&t()},H=>o(H))}),y=!0,d===l&&t()})}static or(e){let t=Tt.resolve(!1);for(const o of e)t=t.next(l=>l?Tt.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,d)=>{o.push(t.call(this,l,d))}),this.waitFor(o)}}class Yd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Gi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Wl(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const l=Yl(o.target.error);this.At.reject(new Wl(e,l))}}static open(e,t,o,l){try{return new Yd(t,e.transaction(l,o))}catch(d){throw new Wl(t,d)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Wt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new wg(t)}}class _a{constructor(e,t,o){this.name=e,this.version=t,this.bt=o,12.2===_a.Vt((0,ot.z$)())&&ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Wt("SimpleDb","Removing database:",e),Ru(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,ot.hl)())return!1;if(_a.St())return!0;const e=(0,ot.z$)(),t=_a.Vt(e),o=0<t&&t<10,l=_a.Dt(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,te.Z)(function*(){return t.db||(Wt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=y=>{o(y.target.result)},d.onblocked=()=>{l(new Wl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=y=>{const T=y.target.error;l("VersionError"===T.name?new Ft(Et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new Ft(Et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new Wl(e,T))},d.onupgradeneeded=y=>{Wt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',y.oldVersion),t.bt.kt(y.target.result,d.transaction,y.oldVersion,t.version).next(()=>{Wt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var d=this;return(0,te.Z)(function*(){const y="readonly"===t;let T=0;for(;;){++T;try{d.db=yield d.Nt(e);const H=Yd.open(d.db,e,y?"readonly":"readwrite",o),Y=l(H).next(Re=>(H.Pt(),Re)).catch(Re=>(H.abort(Re),Tt.reject(Re))).toPromise();return Y.catch(()=>{}),yield H.Rt,Y}catch(H){const Y="FirebaseError"!==H.name&&T<3;if(Wt("SimpleDb","Transaction failed with error:",H.message,"Retrying:",Y),d.close(),!Y)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ig{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Ru(this.Ft.delete())}}class Wl extends Ft{constructor(e,t){super(Et.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function No(i){return"IndexedDbTransactionError"===i.name}class wg{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Wt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Wt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ru(o)}add(e){return Wt("SimpleDb","ADD",this.store.name,e,e),Ru(this.store.add(e))}get(e){return Ru(this.store.get(e)).next(t=>(void 0===t&&(t=null),Wt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Wt("SimpleDb","DELETE",this.store.name,e),Ru(this.store.delete(e))}count(){return Wt("SimpleDb","COUNT",this.store.name),Ru(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),d=[];return this.Kt(l,(y,T)=>{d.push(T)}).next(()=>d)}{const l=this.store.getAll(o.range);return new Tt((d,y)=>{l.onerror=T=>{y(T.target.error)},l.onsuccess=T=>{d(T.target.result)}})}}Gt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Tt((l,d)=>{o.onerror=y=>{d(y.target.error)},o.onsuccess=y=>{l(y.target.result)}})}Qt(e,t){Wt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const l=this.cursor(o);return this.Kt(l,(d,y,T)=>T.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.Kt(l,t)}zt(e){const t=this.cursor({});return new Tt((o,l)=>{t.onerror=d=>{const y=Yl(d.target.error);l(y)},t.onsuccess=d=>{const y=d.target.result;y?e(y.primaryKey,y.value).next(T=>{T?y.continue():o()}):o()}})}Kt(e,t){const o=[];return new Tt((l,d)=>{e.onerror=y=>{d(y.target.error)},e.onsuccess=y=>{const T=y.target.result;if(!T)return void l();const H=new Ig(T),Y=t(T.primaryKey,T.value,H);if(Y instanceof Tt){const Re=Y.catch(We=>(H.done(),Tt.reject(We)));o.push(Re)}H.isDone?l():null===H.Lt?T.continue():T.continue(H.Lt)}}).next(()=>Tt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ru(i){return new Tt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=Yl(o.target.error);t(l)}})}let Dg=!1;function Yl(i){const e=_a.Vt((0,ot.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Ft("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Dg||(Dg=!0,setTimeout(()=>{throw o},0)),o}}return i}class Cg extends vf{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Is(i,e){const t=dn(i);return _a.xt(t.Ht,e)}class qd{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&Ir(d,e,o[l])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&kr(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&kr(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),l=o;this.applyToLocalView(l),o.isValidDocument()||l.convertToNoDocument(Fn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kr())}isEqual(e){return this.batchId===e.batchId&&br(this.mutations,e.mutations,(t,o)=>Yo(t,o))&&br(this.baseMutations,e.baseMutations,(t,o)=>Yo(t,o))}}class Kd{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){Vn(e.mutations.length===o.length);let l=uy;const d=e.mutations;for(let y=0;y<d.length;y++)l=l.insert(d[y].key,o[y].version);return new Kd(e,t,o,l)}}class Nc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nu{constructor(e,t,o,l,d=Fn.min(),y=Fn.min(),T=Ii.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=T}withSequenceNumber(e){return new nu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class kc{constructor(e){this.Jt=e}}function _f(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ql(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Mc(l=i.Jt,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Ul(l,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Ou(e.version)};else{if(!e.isUnknownDocument())return vn();o.unknownDocument={path:t.path.toArray(),version:Ou(e.version)}}var l,d;return o}function ql(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Ou(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ru(i){const e=new Ar(i.seconds,i.nanoseconds);return Fn.fromTimestamp(e)}function Ua(i,e){const t=(e.baseMutations||[]).map(d=>df(i.Jt,d));for(let d=0;d<e.mutations.length-1;++d){const y=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(y.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>df(i.Jt,d)),l=Ar.fromMillis(e.localWriteTimeMs);return new qd(e.batchId,l,t,o)}function Fc(i){const e=ru(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?ru(i.lastLimboFreeSnapshotVersion):Fn.min();let o;var l;return void 0!==i.query.documents?(Vn(1===(l=i.query).documents.length),o=yo(ll(lg(l.documents[0])))):o=yo(fg(i.query)),new nu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Ii.fromBase64String(i.resumeToken))}function Ef(i,e){const t=Ou(e.snapshotVersion),o=Ou(e.lastLimboFreeSnapshotVersion);let l;l=il(e.target)?hf(i.Jt,e.target):hg(i.Jt,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mo(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function bf(i){const e=fg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Cc(e,e.limit,"L"):e}function If(i,e){return new Nc(e.largestBatchId,df(i.Jt,e.overlayMutation))}function wf(i,e){const t=e.path.lastSegment();return[i,zs(e.path.popLast()),t]}class Df{getBundleMetadata(e,t){return Cf(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:ru(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Cf(e).put({bundleId:(o=t).id,createTime:Ou(xs(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Cy(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:bf(l.bundledQuery),readTime:ru(l.readTime)};var l})}saveNamedQuery(e,t){return Cy(e).put({name:(o=t).name,readTime:Ou(xs(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Cf(i){return Is(i,"bundles")}function Cy(i){return Is(i,"namedQueries")}class Xd{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Xd(e,t.uid||"")}getOverlay(e,t){return Lc(e).get(wf(this.userId,t)).next(o=>o?If(this.M,o):null)}saveOverlays(e,t,o){const l=[];return o.forEach((d,y)=>{const T=new Nc(t,y);l.push(this.Xt(e,T))}),Tt.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(y=>l.add(zs(y.getCollectionPath())));const d=[];return l.forEach(y=>{const T=IDBKeyRange.bound([this.userId,y,o],[this.userId,y,o+1],!1,!0);d.push(Lc(e).Qt("collectionPathOverlayIndex",T))}),Tt.waitFor(d)}getOverlaysForCollection(e,t,o){const l=Bl(),d=zs(t),y=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Lc(e).qt("collectionPathOverlayIndex",y).next(T=>{for(const H of T){const Y=If(this.M,H);l.set(Y.getKey(),Y)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const d=Bl();let y;const T=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Lc(e).Wt({index:"collectionGroupOverlayIndex",range:T},(H,Y,Re)=>{const We=If(this.M,Y);d.size()<l||We.largestBatchId===y?(d.set(We.getKey(),We),y=We.largestBatchId):Re.done()}).next(()=>d)}Xt(e,t){return Lc(e).put(function(o,l,d){const[y,T,H]=wf(l,d.mutation.key);return{userId:l,collectionPath:T,documentId:H,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Oc(o.Jt,d.mutation)}}(this.M,this.userId,t))}}function Lc(i){return Is(i,"documentOverlays")}class Pu{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(pi(e.integerValue));else if("doubleValue"in e){const o=pi(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),xi(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ks(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?x(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):vn()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const l of Object.keys(o))this.re(l,t),this.te(o[l],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const l of o)this.te(l,t)}ae(e,t){this.ne(t,37),fn.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Ty(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Tg(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const d=Ty(255&t[l]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}Pu.fe=new Pu;class Ea{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const l=t.codePointAt(0);this._e(240|l>>>18),this._e(128|63&l>>>12),this._e(128|63&l>>>6),this._e(128|63&l)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const l=t.codePointAt(0);this.ge(240|l>>>18),this.ge(128|63&l>>>12),this.ge(128|63&l>>>6),this.ge(128|63&l)}}this.ye()}Te(e){const t=this.Ee(e),o=Tg(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Re(e){const t=this.Ee(e),o=Tg(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(l){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,l,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class Sy{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Sg{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Vc{constructor(){this.De=new Ea,this.Ce=new Sy(this.De),this.xe=new Sg(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Nu{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Nu(this.indexId,this.documentKey,this.arrayValue,o)}}function gl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Ag(i.arrayValue,e.arrayValue),0!==t?t:(t=Ag(i.directionalValue,e.directionalValue),0!==t?t:fn.comparator(i.documentKey,e.documentKey)))}function Ag(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class xg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=rr(e);if(void 0!==t&&!this.Be(t))return!1;const o=mr(e);let l=0,d=0;for(;l<o.length&&this.Be(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Fe){const y=o[l];if(!this.Le(this.Fe,y)||!this.Ue(this.Me[d++],y))return!1;++l}for(;l<o.length;++l){const y=o[l];if(d>=this.Me.length||!this.Ue(this.Me[d++],y))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Ay{constructor(){this.qe=new Tf}addToCollectionParentIndex(e,t){return this.qe.add(t),Tt.resolve()}getCollectionParents(e,t){return Tt.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Tt.resolve()}deleteFieldIndex(e,t){return Tt.resolve()}getDocumentsMatchingTarget(e,t){return Tt.resolve(null)}getFieldIndex(e,t){return Tt.resolve(null)}getFieldIndexes(e,t){return Tt.resolve([])}getNextCollectionGroupToUpdate(e){return Tt.resolve(null)}updateCollectionGroup(e,t,o){return Tt.resolve()}updateIndexEntries(e,t){return Tt.resolve()}}class Tf{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new Di(Or.comparator),d=!l.has(o);return this.index[t]=l.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Di(Or.comparator)).toArray()}}const Kl=new Uint8Array(0);class yr{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Tf,this.Ge=new xu(o=>mo(o),(o,l)=>zo(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const d={collectionId:o,parent:zs(l)};return Sf(e).put(d)}return Tt.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[Ai(t),""],!1,!0);return Sf(e).qt(l).next(d=>{for(const y of d){if(y.collectionId!==t)break;o.push(Zo(y.parent))}return o})}addFieldIndex(e,t){const o=Bc(e),l={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(y=>[y.fieldPath.canonicalString(),y.kind])};var d;return delete l.indexId,o.add(l).next()}deleteFieldIndex(e,t){const o=Bc(e),l=ml(e),d=Zl(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Zl(e);let l=!0;const d=new Map;return Tt.forEach(this.Qe(t),y=>this.getFieldIndex(e,y).next(T=>{l&&(l=!!T),d.set(y,T)})).next(()=>{if(l){let y=Kr();const T=[];return Tt.forEach(d,(H,Y)=>{var Re;Wt("IndexedDbIndexManager",`Using index ${Re=H,`id=${Re.indexId}|cg=${Re.collectionGroup}|f=${Re.fields.map(Jr=>`${Jr.fieldPath}:${Jr.kind}`).join(",")}`} to execute ${mo(t)}`);const We=function(Jr,Bi){const Ci=rr(Bi);if(void 0===Ci)return null;for(const $i of sl(Jr,Ci.fieldPath))switch($i.op){case"array-contains-any":return $i.value.arrayValue.values||[];case"array-contains":return[$i.value]}return null}(Y,H),bt=function(Jr,Bi){const Ci=new Map;for(const $i of mr(Bi))for(const Vs of sl(Jr,$i.fieldPath))switch(Vs.op){case"==":case"in":Ci.set($i.fieldPath.canonicalString(),Vs.value);break;case"not-in":case"!=":return Ci.set($i.fieldPath.canonicalString(),Vs.value),Array.from(Ci.values())}return null}(Y,H),Lt=function(Jr,Bi){const Ci=[];let $i=!0;for(const Vs of mr(Bi)){const Aa=0===Vs.kind?Ad(Jr,Vs.fieldPath,Jr.startAt):_u(Jr,Vs.fieldPath,Jr.startAt);if(!Aa.value)return null;Ci.push(Aa.value),$i&&($i=Aa.inclusive)}return new Ro(Ci,$i)}(Y,H),$t=function(Jr,Bi){const Ci=[];let $i=!0;for(const Vs of mr(Bi)){const Aa=0===Vs.kind?_u(Jr,Vs.fieldPath,Jr.endAt):Ad(Jr,Vs.fieldPath,Jr.endAt);if(!Aa.value)return null;Ci.push(Aa.value),$i&&($i=Aa.inclusive)}return new Ro(Ci,$i)}(Y,H),Cn=this.je(H,Y,Lt),pr=this.je(H,Y,$t),Oi=this.We(H,Y,bt),ds=this.ze(H.indexId,We,Cn,!!Lt&&Lt.inclusive,pr,!!$t&&$t.inclusive,Oi);return Tt.forEach(ds,Jr=>o.Gt(Jr,t.limit).next(Bi=>{Bi.forEach(Ci=>{const $i=fn.fromSegments(Ci.documentKey);y.has($i)||(y=y.add($i),T.push($i))})}))}).next(()=>T)}return Tt.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,o,l,d,y,T){const H=(null!=t?t.length:1)*Math.max(null!=o?o.length:1,null!=d?d.length:1),Y=H/(null!=t?t.length:1),Re=[];for(let We=0;We<H;++We){const bt=t?this.He(t[We/Y]):Kl,Lt=o?this.Je(e,bt,o[We%Y],l):this.Ye(e),$t=d?this.Xe(e,bt,d[We%Y],y):this.Ye(e+1);Re.push(...this.createRange(Lt,$t,T.map(Cn=>this.Je(e,bt,Cn,!0))))}return Re}Je(e,t,o,l){const d=new Nu(e,fn.empty(),t,o);return l?d:d.ke()}Xe(e,t,o,l){const d=new Nu(e,fn.empty(),t,o);return l?d.ke():d}Ye(e){return new Nu(e,fn.empty(),Kl,Kl)}getFieldIndex(e,t){const o=new xg(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{const y=d.filter(T=>o.$e(T));return y.sort((T,H)=>H.fields.length-T.fields.length),y.length>0?y[0]:null})}Ze(e,t){const o=new Vc;for(const l of mr(e)){const d=t.data.field(l.fieldPath);if(null==d)return null;const y=o.Ne(l.kind);Pu.fe.Zt(d,y)}return o.Se()}He(e){const t=new Vc;return Pu.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const o=new Vc;return Pu.fe.Zt(ns(this.databaseId,t),o.Ne(function(l){const d=mr(l);return 0===d.length?0:d[d.length-1].kind}(e))),o.Se()}We(e,t,o){if(null===o)return[];let l=[];l.push(new Vc);let d=0;for(const y of mr(e)){const T=o[d++];for(const H of l)if(this.en(t,y.fieldPath)&&rl(T))l=this.nn(l,y,T);else{const Y=H.Ne(y.kind);Pu.fe.Zt(T,Y)}}return this.sn(l)}je(e,t,o){return null==o?null:this.We(e,t,o.position)}sn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}nn(e,t,o){const l=[...e],d=[];for(const y of o.arrayValue.values||[])for(const T of l){const H=new Vc;H.seed(T.Se()),Pu.fe.Zt(y,H.Ne(t.kind)),d.push(H)}return d}en(e,t){return!!e.filters.find(o=>o instanceof wi&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Bc(e),l=ml(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(d=>{const y=[];return Tt.forEach(d,T=>l.get([T.indexId,this.uid]).next(H=>{y.push(function(Y,Re){const We=Re?new rs(Re.sequenceNumber,new As(ru(Re.readTime),new fn(Zo(Re.documentKey)),Re.largestBatchId)):rs.empty(),bt=Y.fields.map(([Lt,$t])=>new lr(zi.fromServerFormat(Lt),$t));return new Jn(Y.indexId,Y.collectionGroup,bt,We)}(T,H))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const d=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:_n(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=Bc(e),d=ml(e);return this.rn(e).next(y=>l.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(T=>Tt.forEach(T,H=>{return d.put({indexId:H.indexId,uid:this.user.uid||"",sequenceNumber:y,readTime:Ou((bt=o).readTime),documentKey:zs(bt.documentKey.path),largestBatchId:bt.largestBatchId});var bt})))}updateIndexEntries(e,t){const o=new Map;return Tt.forEach(t,(l,d)=>{const y=o.get(l.collectionGroup);return(y?Tt.resolve(y):this.getFieldIndexes(e,l.collectionGroup)).next(T=>(o.set(l.collectionGroup,T),Tt.forEach(T,H=>this.on(e,l,H).next(Y=>{const Re=this.un(d,H);return Y.isEqual(Re)?Tt.resolve():this.an(e,d,H,Y,Re)}))))})}cn(e,t,o,l){return Zl(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.tn(o,t.key),documentKey:t.key.path.toArray()})}hn(e,t,o,l){return Zl(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.tn(o,t.key),t.key.path.toArray()])}on(e,t,o){const l=Zl(e);let d=new Di(gl);return l.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,t)])},(y,T)=>{d=d.add(new Nu(o.indexId,t,T.arrayValue,T.directionalValue))}).next(()=>d)}un(e,t){let o=new Di(gl);const l=this.Ze(t,e);if(null==l)return o;const d=rr(t);if(null!=d){const y=e.data.field(d.fieldPath);if(rl(y))for(const T of y.arrayValue.values||[])o=o.add(new Nu(t.indexId,e.key,this.He(T),l))}else o=o.add(new Nu(t.indexId,e.key,Kl,l));return o}an(e,t,o,l,d){Wt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const y=[];return function(T,H,Y,Re,We){const bt=T.getIterator(),Lt=H.getIterator();let $t=Vl(bt),Cn=Vl(Lt);for(;$t||Cn;){let pr=!1,Oi=!1;if($t&&Cn){const ds=Y($t,Cn);ds<0?Oi=!0:ds>0&&(pr=!0)}else null!=$t?Oi=!0:pr=!0;pr?(Re(Cn),Cn=Vl(Lt)):Oi?(We($t),$t=Vl(bt)):($t=Vl(bt),Cn=Vl(Lt))}}(l,d,gl,T=>{y.push(this.cn(e,t,o,T))},T=>{y.push(this.hn(e,t,o,T))}),Tt.waitFor(y)}rn(e){let t=1;return ml(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,d)=>{d.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((y,T)=>gl(y,T)).filter((y,T,H)=>!T||0!==gl(y,H[T-1]));const l=[];l.push(e);for(const y of o){const T=gl(y,e),H=gl(y,t);if(0===T)l[0]=e.ke();else if(T>0&&H<0)l.push(y),l.push(y.ke());else if(H>0)break}l.push(t);const d=[];for(let y=0;y<l.length;y+=2)d.push(IDBKeyRange.bound([l[y].indexId,this.uid,l[y].arrayValue,l[y].directionalValue,Kl,[]],[l[y+1].indexId,this.uid,l[y+1].arrayValue,l[y+1].directionalValue,Kl,[]]));return d}}function Sf(i){return Is(i,"collectionParents")}function Zl(i){return Is(i,"indexEntries")}function Bc(i){return Is(i,"indexConfiguration")}function ml(i){return Is(i,"indexState")}const Xo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class no{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mg(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),d=[],y=IDBKeyRange.only(t.batchId);let T=0;const H=o.Wt({range:y},(Re,We,bt)=>(T++,bt.delete()));d.push(H.next(()=>{Vn(1===T)}));const Y=[];for(const Re of t.mutations){const We=ff(e,Re.key.path,t.batchId);d.push(l.delete(We)),Y.push(Re.key)}return Tt.waitFor(d).next(()=>Y)}function Xl(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw vn();e=i.noDocument}return JSON.stringify(e).length}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class ba{constructor(e,t,o,l){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=l,this.ln={}}static Yt(e,t,o,l){Vn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new ba(d,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return iu(e).Wt({index:"userMutationsIndex",range:o},(l,d,y)=>{t=!1,y.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const d=ku(e),y=iu(e);return y.add({}).next(T=>{Vn("number"==typeof T);const H=new qd(T,t,o,l),Y=function(bt,Lt,$t){const Cn=$t.baseMutations.map(Oi=>Oc(bt.Jt,Oi)),pr=$t.mutations.map(Oi=>Oc(bt.Jt,Oi));return{userId:Lt,batchId:$t.batchId,localWriteTimeMs:$t.localWriteTime.toMillis(),baseMutations:Cn,mutations:pr}}(this.M,this.userId,H),Re=[];let We=new Di((bt,Lt)=>_n(bt.canonicalString(),Lt.canonicalString()));for(const bt of l){const Lt=ff(this.userId,bt.key.path,T);We=We.add(bt.key.path.popLast()),Re.push(y.put(Y)),Re.push(d.put(Lt,Pc))}return We.forEach(bt=>{Re.push(this.indexManager.addToCollectionParentIndex(e,bt))}),e.addOnCommittedListener(()=>{this.ln[T]=H.keys()}),Tt.waitFor(Re).next(()=>H)})}lookupMutationBatch(e,t){return iu(e).get(t).next(o=>o?(Vn(o.userId===this.userId),Ua(this.M,o)):null)}fn(e,t){return this.ln[t]?Tt.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.ln[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return iu(e).Wt({index:"userMutationsIndex",range:l},(y,T,H)=>{T.userId===this.userId&&(Vn(T.batchId>=o),d=Ua(this.M,T)),H.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return iu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(l,d,y)=>{o=d.batchId,y.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return iu(e).qt("userMutationsIndex",t).next(o=>o.map(l=>Ua(this.M,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=zd(this.userId,t.path),l=IDBKeyRange.lowerBound(o),d=[];return ku(e).Wt({range:l},(y,T,H)=>{const[Y,Re,We]=y,bt=Zo(Re);if(Y===this.userId&&t.path.isEqual(bt))return iu(e).get(We).next(Lt=>{if(!Lt)throw vn();Vn(Lt.userId===this.userId),d.push(Ua(this.M,Lt))});H.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Di(_n);const l=[];return t.forEach(d=>{const y=zd(this.userId,d.path),T=IDBKeyRange.lowerBound(y),H=ku(e).Wt({range:T},(Y,Re,We)=>{const[bt,Lt,$t]=Y,Cn=Zo(Lt);bt===this.userId&&d.path.isEqual(Cn)?o=o.add($t):We.done()});l.push(H)}),Tt.waitFor(l).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,d=zd(this.userId,o),y=IDBKeyRange.lowerBound(d);let T=new Di(_n);return ku(e).Wt({range:y},(H,Y,Re)=>{const[We,bt,Lt]=H,$t=Zo(bt);We===this.userId&&o.isPrefixOf($t)?$t.length===l&&(T=T.add(Lt)):Re.done()}).next(()=>this.dn(e,T))}dn(e,t){const o=[],l=[];return t.forEach(d=>{l.push(iu(e).get(d).next(y=>{if(null===y)throw vn();Vn(y.userId===this.userId),o.push(Ua(this.M,y))}))}),Tt.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return Mg(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Tt.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Tt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return ku(e).Wt({range:o},(d,y,T)=>{if(d[0]===this.userId){const H=Zo(d[1]);l.push(H)}else T.done()}).next(()=>{Vn(0===l.length)})})}containsKey(e,t){return Qd(e,this.userId,t)}wn(e){return xy(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Qd(i,e,t){const o=zd(e,t.path),l=o[1],d=IDBKeyRange.lowerBound(o);let y=!1;return ku(i).Wt({range:d,jt:!0},(T,H,Y)=>{const[Re,We,bt]=T;Re===e&&We===l&&(y=!0),Y.done()}).next(()=>y)}function iu(i){return Is(i,"mutations")}function ku(i){return Is(i,"documentMutations")}function xy(i){return Is(i,"mutationQueues")}class Fu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Fu(0)}static yn(){return new Fu(-1)}}class k_{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const o=new Fu(t.highestTargetId);return t.highestTargetId=o.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Fn.fromTimestamp(new Ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.pn(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.In(e,l)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(t,o),this.In(e,o))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>su(e).delete(t.targetId)).next(()=>this.pn(e)).next(o=>(Vn(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,t,o){let l=0;const d=[];return su(e).Wt((y,T)=>{const H=Fc(T);H.sequenceNumber<=t&&null===o.get(H.targetId)&&(l++,d.push(this.removeTargetData(e,H)))}).next(()=>Tt.waitFor(d)).next(()=>l)}forEachTarget(e,t){return su(e).Wt((o,l)=>{const d=Fc(l);t(d)})}pn(e){return $c(e).get("targetGlobalKey").next(t=>(Vn(null!==t),t))}In(e,t){return $c(e).put("targetGlobalKey",t)}Tn(e,t){return su(e).put(Ef(this.M,t))}En(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=mo(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return su(e).Wt({range:l,index:"queryTargetsIndex"},(y,T,H)=>{const Y=Fc(T);zo(t,Y.target)&&(d=Y,H.done())}).next(()=>d)}addMatchingKeys(e,t,o){const l=[],d=ja(e);return t.forEach(y=>{const T=zs(y.path);l.push(d.put({targetId:o,path:T})),l.push(this.referenceDelegate.addReference(e,o,y))}),Tt.waitFor(l)}removeMatchingKeys(e,t,o){const l=ja(e);return Tt.forEach(t,d=>{const y=zs(d.path);return Tt.waitFor([l.delete([o,y]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,t){const o=ja(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=ja(e);let d=Kr();return l.Wt({range:o,jt:!0},(y,T,H)=>{const Y=Zo(y[1]),Re=new fn(Y);d=d.add(Re)}).next(()=>d)}containsKey(e,t){const o=zs(t.path),l=IDBKeyRange.bound([o],[Ai(o)],!1,!0);let d=0;return ja(e).Wt({index:"documentTargetsIndex",jt:!0,range:l},([y,T],H,Y)=>{0!==y&&(d++,Y.done())}).next(()=>d>0)}Et(e,t){return su(e).get(t).next(o=>o?Fc(o):null)}}function su(i){return Is(i,"targets")}function $c(i){return Is(i,"targetGlobal")}function ja(i){return Is(i,"targetDocuments")}function ou(i){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,te.Z)(function*(i){if(i.code!==Et.FAILED_PRECONDITION||i.message!==Wd)throw i;Wt("LocalStore","Unexpectedly lost primary lease")}),Uc.apply(this,arguments)}function My([i,e],[t,o]){const l=_n(i,t);return 0===l?_n(e,o):l}class Ry{constructor(e){this.An=e,this.buffer=new Di(My),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();My(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Oy{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const o=this.Vn?3e5:6e4;Wt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,te.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(l){No(l)?Wt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield ou(l)}yield t.Sn(e)}))}}class Py{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Tt.resolve(un.A);const o=new Ry(t);return this.Dn.forEachTarget(e,l=>o.bn(l.sequenceNumber)).next(()=>this.Dn.xn(e,l=>o.bn(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Dn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector","Garbage collection skipped; disabled"),Tt.resolve(Xo)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xo):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let o,l,d,y,T,H,Y;const Re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(We=>(We>this.params.maximumSequenceNumbersToCollect?(Wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${We}`),l=this.params.maximumSequenceNumbersToCollect):l=We,y=Date.now(),this.nthSequenceNumber(e,l))).next(We=>(o=We,T=Date.now(),this.removeTargets(e,o,t))).next(We=>(d=We,H=Date.now(),this.removeOrphanedDocuments(e,o))).next(We=>(Y=Date.now(),to()<=je.in.DEBUG&&Wt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-Re}ms\n\tDetermined least recently used ${l} in `+(T-y)+`ms\n\tRemoved ${d} targets in `+(H-T)+`ms\n\tRemoved ${We} documents in `+(Y-H)+`ms\nTotal Duration: ${Y-Re}ms`),Tt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:We})))}}class Ny{constructor(e,t){this.db=e,this.garbageCollector=new Py(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}kn(e){let t=0;return this.xn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(o,l)=>t(l))}addReference(e,t,o){return jc(e,o)}removeReference(e,t,o){return jc(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return jc(e,t)}On(e,t){return function(o,l){let d=!1;return xy(o).zt(y=>Qd(o,y,l).next(T=>(T&&(d=!0),Tt.resolve(!T)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Mn(e,(y,T)=>{if(T<=t){const H=this.On(e,y).next(Y=>{if(!Y)return d++,o.getEntry(e,y).next(()=>(o.removeEntry(y,Fn.min()),ja(e).delete([0,zs(y.path)])))});l.push(H)}}).next(()=>Tt.waitFor(l)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return jc(e,t)}Mn(e,t){const o=ja(e);let l,d=un.A;return o.Wt({index:"documentTargetsIndex"},([y,T],{path:H,sequenceNumber:Y})=>{0===y?(d!==un.A&&t(new fn(Zo(l)),d),d=Y,l=H):d=un.A}).next(()=>{d!==un.A&&t(new fn(Zo(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jc(i,e){return ja(i).put((o=i.currentSequenceNumber,{targetId:0,path:zs(e.path),sequenceNumber:o}));var o}class ky{constructor(){this.changes=new xu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Tt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fy{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Lu(e).put(o)}removeEntry(e,t,o){return Lu(e).delete(function(l,d){const y=l.path.toArray();return[y.slice(0,y.length-2),y[y.length-2],ql(d),y[y.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Fn(e,o)))}getEntry(e,t){let o=Jt.newInvalidDocument(t);return Lu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Hc(t))},(l,d)=>{o=this.$n(t,d)}).next(()=>o)}Bn(e,t){let o={size:0,document:Jt.newInvalidDocument(t)};return Lu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Hc(t))},(l,d)=>{o={document:this.$n(t,d),size:Xl(d)}}).next(()=>o)}getEntries(e,t){let o=qo();return this.Ln(e,t,(l,d)=>{const y=this.$n(l,d);o=o.insert(l,y)}).next(()=>o)}Un(e,t){let o=qo(),l=new is(fn.comparator);return this.Ln(e,t,(d,y)=>{const T=this.$n(d,y);o=o.insert(d,T),l=l.insert(d,Xl(y))}).next(()=>({documents:o,qn:l}))}Ln(e,t,o){if(t.isEmpty())return Tt.resolve();let l=new Di(Ly);t.forEach(H=>l=l.add(H));const d=IDBKeyRange.bound(Hc(l.first()),Hc(l.last())),y=l.getIterator();let T=y.getNext();return Lu(e).Wt({index:"documentKeyIndex",range:d},(H,Y,Re)=>{const We=fn.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;T&&Ly(T,We)<0;)o(T,null),T=y.getNext();T&&T.isEqual(We)&&(o(T,Y),T=y.hasNext()?y.getNext():null),T?Re.Ut(Hc(T)):Re.done()}).next(()=>{for(;T;)o(T,null),T=y.hasNext()?y.getNext():null})}getAllFromCollection(e,t,o){const l=[t.popLast().toArray(),t.lastSegment(),ql(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lu(e).qt(IDBKeyRange.bound(l,d,!0)).next(y=>{let T=qo();for(const H of y){const Y=this.$n(fn.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);T=T.insert(Y.key,Y)}return T})}getAllFromCollectionGroup(e,t,o,l){let d=qo();const y=Jd(t,o),T=Jd(t,As.max());return Lu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,T,!0)},(H,Y,Re)=>{const We=this.$n(fn.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);d=d.insert(We.key,We),d.size===l&&Re.done()}).next(()=>d)}newChangeBuffer(e){return new F_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Af(e).get("remoteDocumentGlobalKey").next(t=>(Vn(!!t),t))}Fn(e,t){return Af(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const o=function Zd(i,e){let t;if(e.document)t=Rc(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=fn.fromSegments(e.noDocument.path),l=ru(e.noDocument.readTime);t=Jt.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return vn();{const o=fn.fromSegments(e.unknownDocument.path),l=ru(e.unknownDocument.version);t=Jt.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new Ar(o[0],o[1]);return Fn.fromTimestamp(l)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(Fn.min()))return o}return Jt.newInvalidDocument(e)}}class F_ extends ky{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new xu(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new Di((d,y)=>_n(d.canonicalString(),y.canonicalString()));return this.changes.forEach((d,y)=>{const T=this.Gn.get(d);if(t.push(this.Kn.removeEntry(e,d,T.readTime)),y.isValidDocument()){const H=_f(this.Kn.M,y);l=l.add(d.path.popLast()),o+=Xl(H)-T.size,t.push(this.Kn.addEntry(e,d,H))}else if(o-=T.size,this.trackRemovals){const H=_f(this.Kn.M,y.convertToNoDocument(Fn.min()));t.push(this.Kn.addEntry(e,d,H))}}),l.forEach(d=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Kn.updateMetadata(e,o)),Tt.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:o,qn:l})=>(l.forEach((d,y)=>{this.Gn.set(d,{size:y,readTime:o.get(d).readTime})}),o))}}function Af(i){return Is(i,"remoteDocumentGlobal")}function Lu(i){return Is(i,"remoteDocumentsV14")}function Hc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jd(i,e){const t=e.documentKey.path.toArray();return[i,ql(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ly(i,e){const t=i.path.toArray(),o=e.path.toArray();let l=0;for(let d=0;d<t.length-2&&d<o.length-2;++d)if(l=_n(t[d],o[d]),l)return l;return l=_n(t.length,o.length),l||(l=_n(t[t.length-2],o[o.length-2]),l||_n(t[t.length-1],o[o.length-1]))}class L_{constructor(e){this.M=e}kt(e,t,o,l){const d=new Yd("createOrUpgrade",t);var T;o<1&&l>=1&&(e.createObjectStore("owner"),(T=e).createObjectStore("mutationQueues",{keyPath:"userId"}),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gd,{unique:!0}),T.createObjectStore("documentMutations"),Vy(e),function(T){T.createObjectStore("remoteDocuments")}(e));let y=Tt.resolve();return o<3&&l>=3&&(0!==o&&(function(T){T.deleteObjectStore("targetDocuments"),T.deleteObjectStore("targets"),T.deleteObjectStore("targetGlobal")}(e),Vy(e)),y=y.next(()=>function(T){const H=T.store("targetGlobal"),Y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fn.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",Y)}(d))),o<4&&l>=4&&(0!==o&&(y=y.next(()=>function(T,H){return H.store("mutations").qt().next(Y=>{T.deleteObjectStore("mutations"),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gd,{unique:!0});const Re=H.store("mutations"),We=Y.map(bt=>Re.put(bt));return Tt.waitFor(We)})}(e,d))),y=y.next(()=>{!function(T){T.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(y=y.next(()=>this.Qn(d))),o<6&&l>=6&&(y=y.next(()=>(function(T){T.createObjectStore("remoteDocumentGlobal")}(e),this.jn(d)))),o<7&&l>=7&&(y=y.next(()=>this.Wn(d))),o<8&&l>=8&&(y=y.next(()=>this.zn(e,d))),o<9&&l>=9&&(y=y.next(()=>{!function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(y=y.next(()=>this.Hn(d))),o<11&&l>=11&&(y=y.next(()=>{(function(T){T.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(T){T.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(y=y.next(()=>{!function(T){const H=T.createObjectStore("documentOverlays",{keyPath:by});H.createIndex("collectionPathOverlayIndex",Iy,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",wy,{unique:!1})}(e)})),o<13&&l>=13&&(y=y.next(()=>function(T){const H=T.createObjectStore("remoteDocumentsV14",{keyPath:gg});H.createIndex("documentKeyIndex",mg),H.createIndex("collectionGroupIndex",pf)}(e)).next(()=>this.Jn(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(y=y.next(()=>{!function(T){T.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),T.createObjectStore("indexState",{keyPath:mf}).createIndex("sequenceNumberIndex",vg,{unique:!1}),T.createObjectStore("indexEntries",{keyPath:Ey}).createIndex("documentKeyIndex",yf,{unique:!1})}(e)})),y}jn(e){let t=0;return e.store("remoteDocuments").Wt((o,l)=>{t+=Xl(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(l=>Tt.forEach(l,d=>{const y=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",y).next(T=>Tt.forEach(T,H=>{Vn(H.userId===d.userId);const Y=Ua(this.M,H);return Mg(e,d.userId,Y).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return o.Wt((y,T)=>{const H=new Or(y),Y=[0,zs(H)];d.push(t.get(Y).next(Re=>Re?Tt.resolve():t.put({targetId:0,path:zs(H),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Tt.waitFor(d))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:zl});const o=t.store("collectionParents"),l=new Tf,d=y=>{if(l.add(y)){const T=y.lastSegment(),H=y.popLast();return o.put({collectionId:T,parent:zs(H)})}};return t.store("remoteDocuments").Wt({jt:!0},(y,T)=>{const H=new Or(y);return d(H.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([y,T,H],Y)=>{const Re=Zo(T);return d(Re.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((o,l)=>{const d=Fc(l),y=Ef(this.M,d);return t.put(y)})}Jn(e,t){const o=t.store("remoteDocuments"),l=[];return o.Wt((d,y)=>{const T=t.store("remoteDocumentsV14"),H=(Y=y,Y.document?new fn(Or.fromString(Y.document.name).popFirst(5)):Y.noDocument?fn.fromSegments(Y.noDocument.path):Y.unknownDocument?fn.fromSegments(Y.unknownDocument.path):vn()).path.toArray();var Y;const Re={prefixPath:H.slice(0,H.length-2),collectionGroup:H[H.length-2],documentId:H[H.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};l.push(T.put(Re))}).next(()=>Tt.waitFor(l))}}function Vy(i){i.createObjectStore("targetDocuments",{keyPath:yg}).createIndex("documentTargetsIndex",N_,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gf,{unique:!0}),i.createObjectStore("targetGlobal")}const Rg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Og{constructor(e,t,o,l,d,y,T,H,Y,Re,We=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Yn=d,this.window=y,this.document=T,this.Xn=Y,this.Zn=Re,this.ts=We,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=bt=>Promise.resolve(),!Og.vt())throw new Ft(Et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ny(this,l),this.hs=t+"main",this.M=new kc(H),this.ls=new _a(this.hs,this.ts,new L_(this.M)),this.fs=new k_(this.referenceDelegate,this.M),this.ds=new Fy(this.M),this._s=new Df,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===Re&&ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ft(Et.FAILED_PRECONDITION,Rg);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new un(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var o=(0,te.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,te.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,te.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(No(e))return Wt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Wt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return eh(e).get("owner").next(t=>Tt.resolve(this.bs(t)))}Vs(e){return xf(e).delete(this.clientId)}vs(){var e=this;return(0,te.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Is(o,"clientMetadata");return l.qt().next(d=>{const y=e.Ds(d,18e5),T=d.filter(H=>-1===y.indexOf(H));return Tt.forEach(T,H=>l.delete(H.clientId)).next(()=>T)})}).catch(()=>[]);if(e.ws)for(const o of t)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Tt.resolve(!0):eh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ft(Et.FAILED_PRECONDITION,Rg);return!1}}return!(!this.networkEnabled||!this.inForeground)||xf(e).qt().next(o=>void 0===this.Ds(o,5e3).find(l=>{if(this.clientId!==l.clientId){const y=!this.inForeground&&l.inForeground,T=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||y&&T)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Wt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,te.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Cg(t,un.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(o=>this.Ss(o.updateTimeMs,t)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>xf(e).qt().next(t=>this.Ds(t,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return ba.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new yr(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Xd.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,o){Wt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",d=14===(y=this.ts)?bg:13===y?Eg:12===y?Dy:11===y?_g:void vn();var y;let T;return this.ls.runTransaction(e,l,d,H=>(T=new Cg(H,this.es?this.es.next():un.A),"readwrite-primary"===t?this.Es(T).next(Y=>!!Y||this.As(T)).next(Y=>{if(!Y)throw ri(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ft(Et.FAILED_PRECONDITION,Wd);return o(T)}).next(Y=>this.Ps(T).next(()=>Y)):this.$s(T).next(()=>o(T)))).then(H=>(T.raiseOnCommittedEvent(),H))}$s(e){return eh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ft(Et.FAILED_PRECONDITION,Rg)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eh(e).put("owner",t)}static vt(){return _a.vt()}Rs(e){const t=eh(e);return t.get("owner").next(o=>this.bs(o)?(Wt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Tt.resolve())}Ss(e,t){const o=Date.now();return!(e<o-t||e>o&&(ri(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,ot.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const o=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Wt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ri("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){ri("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function eh(i){return Is(i,"owner")}function xf(i){return Is(i,"clientMetadata")}function Pg(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class V_{constructor(e,t,o){this.ds=e,this.Bs=t,this.indexManager=o}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Us(e,t,o))}Us(e,t,o){return this.ds.getEntry(e,t).next(l=>{for(const d of o)d.applyToLocalView(l);return l})}qs(e,t){e.forEach((o,l)=>{for(const d of t)d.applyToLocalView(l)})}Ks(e,t){return this.ds.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.qs(t,o))}Qs(e,t,o){return fn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.js(e,t.path):cl(t)?this.Ws(e,t,o):this.zs(e,t,o);var l}js(e,t){return this.Ls(e,new fn(t)).next(o=>{let l=xc();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}Ws(e,t,o){const l=t.collectionGroup;let d=xc();return this.indexManager.getCollectionParents(e,l).next(y=>Tt.forEach(y,T=>{const H=(Y=t,Re=T.child(l),new Wo(Re,null,Y.explicitOrderBy.slice(),Y.filters.slice(),Y.limit,Y.limitType,Y.startAt,Y.endAt));var Y,Re;return this.zs(e,H,o).next(Y=>{Y.forEach((Re,We)=>{d=d.insert(Re,We)})})}).next(()=>d))}zs(e,t,o){let l;return this.ds.getAllFromCollection(e,t.path,o).next(d=>(l=d,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(d=>{for(const y of d)for(const T of y.mutations){const H=T.key;let Y=l.get(H);null==Y&&(Y=Jt.newInvalidDocument(H),l=l.insert(H,Y)),kr(T,Y,y.localWriteTime),Y.isFoundDocument()||(l=l.remove(H))}}).next(()=>(l.forEach((d,y)=>{kl(t,y)||(l=l.remove(d))}),l))}}class Ng{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Hs=o,this.Js=l}static Ys(e,t){let o=Kr(),l=Kr();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new Ng(e,t.fromCache,o,l)}}class au{Xs(e){this.Zs=e}Qs(e,t,o,l){return 0===(d=t).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||o.isEqual(Fn.min())?this.ti(e,t):this.Zs.Ks(e,l).next(d=>{const y=this.ei(t,d);return(Pl(t)||Eu(t))&&this.ni(t.limitType,y,l,o)?this.ti(e,t):(to()<=je.in.DEBUG&&Wt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hl(t)),this.Zs.Qs(e,t,Mi(o,-1)).next(T=>(y.forEach(H=>{T=T.insert(H.key,H)}),T)))});var d}ei(e,t){let o=new Di(Tc(e));return t.forEach((l,d)=>{kl(e,d)&&(o=o.add(d))}),o}ni(e,t,o,l){if(o.size!==t.size)return!0;const d="F"===e?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}ti(e,t){return to()<=je.in.DEBUG&&Wt("QueryEngine","Using full collection scan to execute query:",hl(t)),this.Zs.Qs(e,t,As.min())}}class Mf{constructor(e,t,o,l){this.persistence=e,this.si=t,this.M=l,this.ii=new is(_n),this.ri=new xu(d=>mo(d),zo),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(o)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new V_(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function kg(i,e,t,o){return new Mf(i,e,t,o)}function Rf(i,e){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,te.Z)(function*(i,e){const t=dn(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.Bs.getAllMutationBatches(o).next(d=>(l=d,t.ai(e),t.Bs.getAllMutationBatches(o))).next(d=>{const y=[],T=[];let H=Kr();for(const Y of l){y.push(Y.batchId);for(const Re of Y.mutations)H=H.add(Re.key)}for(const Y of d){T.push(Y.batchId);for(const Re of Y.mutations)H=H.add(Re.key)}return t.ci.Ks(o,H).next(Y=>({hi:Y,removedBatchIds:y,addedBatchIds:T}))})})}),Gc.apply(this,arguments)}function Fg(i,e){const t=dn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),d=t.ui.newChangeBuffer({trackRemovals:!0});return function(y,T,H,Y){const Re=H.batch,We=Re.keys();let bt=Tt.resolve();return We.forEach(Lt=>{bt=bt.next(()=>Y.getEntry(T,Lt)).next($t=>{const Cn=H.docVersions.get(Lt);Vn(null!==Cn),$t.version.compareTo(Cn)<0&&(Re.applyToRemoteDocument($t,H),$t.isValidDocument()&&($t.setReadTime(H.commitVersion),Y.addEntry($t)))})}),bt.next(()=>y.Bs.removeMutationBatch(T,Re))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.Bs.performConsistencyCheck(o)).next(()=>t.ci.Ks(o,l))})}function th(i){const e=dn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function By(i,e){const t=dn(i),o=e.snapshotVersion;let l=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const y=t.ui.newChangeBuffer({trackRemovals:!0});l=t.ii;const T=[];e.targetChanges.forEach((Y,Re)=>{const We=l.get(Re);if(!We)return;T.push(t.fs.removeMatchingKeys(d,Y.removedDocuments,Re).next(()=>t.fs.addMatchingKeys(d,Y.addedDocuments,Re)));let bt=We.withSequenceNumber(d.currentSequenceNumber);var Lt,$t,Cn;e.targetMismatches.has(Re)?bt=bt.withResumeToken(Ii.EMPTY_BYTE_STRING,Fn.min()).withLastLimboFreeSnapshotVersion(Fn.min()):Y.resumeToken.approximateByteSize()>0&&(bt=bt.withResumeToken(Y.resumeToken,o)),l=l.insert(Re,bt),$t=bt,Cn=Y,(0===(Lt=We).resumeToken.approximateByteSize()||$t.snapshotVersion.toMicroseconds()-Lt.snapshotVersion.toMicroseconds()>=3e8||Cn.addedDocuments.size+Cn.modifiedDocuments.size+Cn.removedDocuments.size>0)&&T.push(t.fs.updateTargetData(d,bt))});let H=qo();if(e.documentUpdates.forEach(Y=>{e.resolvedLimboDocuments.has(Y)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(d,Y))}),T.push(uu(d,y,e.documentUpdates).next(Y=>{H=Y})),!o.isEqual(Fn.min())){const Y=t.fs.getLastRemoteSnapshotVersion(d).next(Re=>t.fs.setTargetsMetadata(d,d.currentSequenceNumber,o));T.push(Y)}return Tt.waitFor(T).next(()=>y.apply(d)).next(()=>t.ci.Gs(d,H)).next(()=>H)}).then(d=>(t.ii=l,d))}function uu(i,e,t){let o=Kr();return t.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let d=qo();return t.forEach((y,T)=>{const H=l.get(y);T.isNoDocument()&&T.version.isEqual(Fn.min())?(e.removeEntry(y,T.readTime),d=d.insert(y,T)):!H.isValidDocument()||T.version.compareTo(H.version)>0||0===T.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(T),d=d.insert(y,T)):Wt("LocalStore","Ignoring outdated watch update for ",y,". Current version:",H.version," Watch version:",T.version)}),d})}function Lg(i,e){const t=dn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(o,e)))}function Ql(i,e){const t=dn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.fs.getTargetData(o,e).next(d=>d?(l=d,Tt.resolve(l)):t.fs.allocateTargetId(o).next(y=>(l=new nu(e,y,0,o.currentSequenceNumber),t.fs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.ii.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.ii=t.ii.insert(o.targetId,o),t.ri.set(e,o.targetId)),o})}function Vu(i,e,t){return Of.apply(this,arguments)}function Of(){return Of=(0,te.Z)(function*(i,e,t){const o=dn(i),l=o.ii.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,y=>o.persistence.referenceDelegate.removeTarget(y,l)))}catch(y){if(!No(y))throw y;Wt("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}o.ii=o.ii.remove(e),o.ri.delete(l.target)}),Of.apply(this,arguments)}function zc(i,e,t){const o=dn(i);let l=Fn.min(),d=Kr();return o.persistence.runTransaction("Execute query","readonly",y=>function(T,H,Y){const Re=dn(T),We=Re.ri.get(Y);return void 0!==We?Tt.resolve(Re.ii.get(We)):Re.fs.getTargetData(H,Y)}(o,y,yo(e)).next(T=>{if(T)return l=T.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(y,T.targetId).next(H=>{d=H})}).next(()=>o.si.Qs(y,e,t?l:Fn.min(),t?d:Kr())).next(T=>(Jl(o,fl(e),T),{documents:T,li:d})))}function Vg(i,e){const t=dn(i),o=dn(t.fs),l=t.ii.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",d=>o.Et(d,e).next(y=>y?y.target:null))}function Bg(i,e){const t=dn(i),o=t.oi.get(e)||Fn.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.ui.getAllFromCollectionGroup(l,e,Mi(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Jl(t,e,l),l))}function Jl(i,e,t){let o=Fn.min();t.forEach((l,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.oi.set(e,o)}function Wc(){return Wc=(0,te.Z)(function*(i,e,t,o){const l=dn(i);let d=Kr(),y=qo();for(const Y of t){const Re=e.fi(Y.metadata.name);Y.document&&(d=d.add(Re));const We=e.di(Y);We.setReadTime(e._i(Y.metadata.readTime)),y=y.insert(Re,We)}const T=l.ui.newChangeBuffer({trackRemovals:!0}),H=yield Ql(l,(Y=o,yo(ll(Or.fromString(`__bundle__/docs/${Y}`)))));var Y;return l.persistence.runTransaction("Apply bundle documents","readwrite",Y=>uu(Y,T,y).next(Re=>(T.apply(Y),Re)).next(Re=>l.fs.removeMatchingKeysForTargetId(Y,H.targetId).next(()=>l.fs.addMatchingKeys(Y,d,H.targetId)).next(()=>l.ci.Gs(Y,Re)).next(()=>Re)))}),Wc.apply(this,arguments)}function tc(i,e){return yl.apply(this,arguments)}function yl(){return yl=(0,te.Z)(function*(i,e,t=Kr()){const o=yield Ql(i,yo(bf(e.bundledQuery))),l=dn(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const y=xs(e.readTime);if(o.snapshotVersion.compareTo(y)>=0)return l._s.saveNamedQuery(d,e);const T=o.withResumeToken(Ii.EMPTY_BYTE_STRING,y);return l.ii=l.ii.insert(T.targetId,T),l.fs.updateTargetData(d,T).next(()=>l.fs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>l.fs.addMatchingKeys(d,t,o.targetId)).next(()=>l._s.saveNamedQuery(d,e))})}),yl.apply(this,arguments)}class nc{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return Tt.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var o;return this.wi.set(t.id,{id:(o=t).id,version:o.version,createTime:xs(o.createTime)}),Tt.resolve()}getNamedQuery(e,t){return Tt.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(o=t).name,query:bf(o.bundledQuery),readTime:xs(o.readTime)}),Tt.resolve();var o}}class $y{constructor(){this.overlays=new is(fn.comparator),this.gi=new Map}getOverlay(e,t){return Tt.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((l,d)=>{this.Xt(e,t,d)}),Tt.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.gi.get(o);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.gi.delete(o)),Tt.resolve()}getOverlaysForCollection(e,t,o){const l=Bl(),d=t.length+1,y=new fn(t.child("")),T=this.overlays.getIteratorFrom(y);for(;T.hasNext();){const H=T.getNext().value,Y=H.getKey();if(!t.isPrefixOf(Y.path))break;Y.path.length===d&&H.largestBatchId>o&&l.set(H.getKey(),H)}return Tt.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let d=new is((Y,Re)=>Y-Re);const y=this.overlays.getIterator();for(;y.hasNext();){const Y=y.getNext().value;if(Y.getKey().getCollectionGroup()===t&&Y.largestBatchId>o){let Re=d.get(Y.largestBatchId);null===Re&&(Re=Bl(),d=d.insert(Y.largestBatchId,Re)),Re.set(Y.getKey(),Y)}}const T=Bl(),H=d.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((Y,Re)=>T.set(Y,Re)),!(T.size()>=l)););return Tt.resolve(T)}Xt(e,t,o){if(null===o)return;const l=this.overlays.get(o.key);if(null!==l){const y=this.gi.get(l.largestBatchId).delete(o.key);this.gi.set(l.largestBatchId,y)}this.overlays=this.overlays.insert(o.key,new Nc(t,o));let d=this.gi.get(t);void 0===d&&(d=Kr(),this.gi.set(t,d)),this.gi.set(t,d.add(o.key))}}class nh{constructor(){this.yi=new Di(ws.pi),this.Ii=new Di(ws.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const o=new ws(e,t);this.yi=this.yi.add(o),this.Ii=this.Ii.add(o)}Ei(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Ai(new ws(e,t))}Ri(e,t){e.forEach(o=>this.removeReference(o,t))}Pi(e){const t=new fn(new Or([])),o=new ws(t,e),l=new ws(t,e+1),d=[];return this.Ii.forEachInRange([o,l],y=>{this.Ai(y),d.push(y.key)}),d}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new fn(new Or([])),o=new ws(t,e),l=new ws(t,e+1);let d=Kr();return this.Ii.forEachInRange([o,l],y=>{d=d.add(y.key)}),d}containsKey(e){const t=new ws(e,0),o=this.yi.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ws{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return fn.comparator(e.key,t.key)||_n(e.vi,t.vi)}static Ti(e,t){return _n(e.vi,t.vi)||fn.comparator(e.key,t.key)}}class Pf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Di(ws.pi)}checkEmpty(e){return Tt.resolve(0===this.Bs.length)}addMutationBatch(e,t,o,l){const d=this.Si;this.Si++;const y=new qd(d,t,o,l);this.Bs.push(y);for(const T of l)this.Di=this.Di.add(new ws(T.key,d)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Tt.resolve(y)}lookupMutationBatch(e,t){return Tt.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.xi(t+1),d=l<0?0:l;return Tt.resolve(this.Bs.length>d?this.Bs[d]:null)}getHighestUnacknowledgedBatchId(){return Tt.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return Tt.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ws(t,0),l=new ws(t,Number.POSITIVE_INFINITY),d=[];return this.Di.forEachInRange([o,l],y=>{const T=this.Ci(y.vi);d.push(T)}),Tt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Di(_n);return t.forEach(l=>{const d=new ws(l,0),y=new ws(l,Number.POSITIVE_INFINITY);this.Di.forEachInRange([d,y],T=>{o=o.add(T.vi)})}),Tt.resolve(this.Ni(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let d=o;fn.isDocumentKey(d)||(d=d.child(""));const y=new ws(new fn(d),0);let T=new Di(_n);return this.Di.forEachWhile(H=>{const Y=H.key.path;return!!o.isPrefixOf(Y)&&(Y.length===l&&(T=T.add(H.vi)),!0)},y),Tt.resolve(this.Ni(T))}Ni(e){const t=[];return e.forEach(o=>{const l=this.Ci(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Vn(0===this.ki(t.batchId,"removed")),this.Bs.shift();let o=this.Di;return Tt.forEach(t.mutations,l=>{const d=new ws(l.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Di=o})}_n(e){}containsKey(e,t){const o=new ws(t,0),l=this.Di.firstAfterOrEqual(o);return Tt.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return Tt.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Nf{constructor(e){this.Mi=e,this.docs=new is(fn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),d=l?l.size:0,y=this.Mi(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:y}),this.size+=y-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Tt.resolve(o?o.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let o=qo();return t.forEach(l=>{const d=this.docs.get(l);o=o.insert(l,d?d.document.mutableCopy():Jt.newInvalidDocument(l))}),Tt.resolve(o)}getAllFromCollection(e,t,o){let l=qo();const d=new fn(t.child("")),y=this.docs.getIteratorFrom(d);for(;y.hasNext();){const{key:T,value:{document:H}}=y.getNext();if(!t.isPrefixOf(T.path))break;T.path.length>t.length+1||ma(Go(H),o)<=0||(l=l.insert(H.key,H.mutableCopy()))}return Tt.resolve(l)}getAllFromCollectionGroup(e,t,o,l){vn()}Oi(e,t){return Tt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new $g(this)}getSize(e){return Tt.resolve(this.size)}}class $g extends ky{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.Kn.addEntry(e,l)):this.Kn.removeEntry(o)}),Tt.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class rh{constructor(e){this.persistence=e,this.Fi=new xu(t=>mo(t),zo),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this.$i=0,this.Bi=new nh,this.targetCount=0,this.Li=Fu.gn()}forEachTarget(e,t){return this.Fi.forEach((o,l)=>t(l)),Tt.resolve()}getLastRemoteSnapshotVersion(e){return Tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Tt.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.$i&&(this.$i=t),Tt.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Fu(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Tt.resolve()}updateTargetData(e,t){return this.Tn(t),Tt.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Tt.resolve()}removeTargets(e,t,o){let l=0;const d=[];return this.Fi.forEach((y,T)=>{T.sequenceNumber<=t&&null===o.get(T.targetId)&&(this.Fi.delete(y),d.push(this.removeMatchingKeysForTargetId(e,T.targetId)),l++)}),Tt.waitFor(d).next(()=>l)}getTargetCount(e){return Tt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Fi.get(t)||null;return Tt.resolve(o)}addMatchingKeys(e,t,o){return this.Bi.Ei(t,o),Tt.resolve()}removeMatchingKeys(e,t,o){this.Bi.Ri(t,o);const l=this.persistence.referenceDelegate,d=[];return l&&t.forEach(y=>{d.push(l.markPotentiallyOrphaned(e,y))}),Tt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),Tt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Bi.Vi(t);return Tt.resolve(o)}containsKey(e,t){return Tt.resolve(this.Bi.containsKey(t))}}class Uy{constructor(e,t){this.Ui={},this.overlays={},this.es=new un(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new rh(this),this.indexManager=new Ay,this.ds=new Nf(o=>this.referenceDelegate.qi(o)),this.M=new kc(t),this._s=new nc(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $y,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ui[e.toKey()];return o||(o=new Pf(t,this.referenceDelegate),this.Ui[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,o){Wt("MemoryPersistence","Starting transaction:",e);const l=new Ug(this.es.next());return this.referenceDelegate.Ki(),o(l).next(d=>this.referenceDelegate.Gi(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Qi(e,t){return Tt.or(Object.values(this.Ui).map(o=>()=>o.containsKey(e,t)))}}class Ug extends vf{constructor(e){super(),this.currentSequenceNumber=e}}class jg{constructor(e){this.persistence=e,this.ji=new nh,this.Wi=null}static zi(e){return new jg(e)}get Hi(){if(this.Wi)return this.Wi;throw vn()}addReference(e,t,o){return this.ji.addReference(o,t),this.Hi.delete(o.toString()),Tt.resolve()}removeReference(e,t,o){return this.ji.removeReference(o,t),this.Hi.add(o.toString()),Tt.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),Tt.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(l=>this.Hi.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(d=>this.Hi.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tt.forEach(this.Hi,o=>{const l=fn.fromPath(o);return this.Ji(e,l).next(d=>{d||t.removeEntry(l,Fn.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(o=>{o?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return Tt.or([()=>Tt.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function kf(i,e){return`firestore_clients_${i}_${e}`}function Ff(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Lf(i,e){return`firestore_targets_${i}_${e}`}class Yc{constructor(e,t,o,l){this.user=e,this.batchId=t,this.state=o,this.error=l}static Yi(e,t,o){const l=JSON.parse(o);let d,y="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return y&&l.error&&(y="string"==typeof l.error.message&&"string"==typeof l.error.code,y&&(d=new Ft(l.error.code,l.error.message))),y?new Yc(e,t,l.state,d):(ri("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qc{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Yi(e,t){const o=JSON.parse(t);let l,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(l=new Ft(o.error.code,o.error.message))),d?new qc(e,o.state,l):(ri("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ih{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const o=JSON.parse(t);let l="object"==typeof o&&o.activeTargetIds instanceof Array,d=Bd();for(let y=0;l&&y<o.activeTargetIds.length;++y)l=go(o.activeTargetIds[y]),d=d.add(o.activeTargetIds[y]);return l?new ih(e,d):(ri("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ro{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ro(t.clientId,t.onlineState):(ri("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Vf{constructor(){this.activeTargetIds=Bd()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bf{constructor(e,t,o,l,d){this.window=e,this.Yn=t,this.persistenceKey=o,this.er=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new is(_n),this.started=!1,this.rr=[];const y=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ur=kf(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Vf),this.cr=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(T){return`firestore_bundle_loaded_v2_${T}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,te.Z)(function*(){const t=yield e.syncEngine.Fs();for(const l of t){if(l===e.er)continue;const d=e.getItem(kf(e.persistenceKey,l));if(d){const y=ih.Yi(l,d);y&&(e.ir=e.ir.insert(y.clientId,y))}}e.wr();const o=e.storage.getItem(e.dr);if(o){const l=e.mr(o);l&&e.gr(l)}for(const l of e.rr)e.sr(l);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((o,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,o){this.pr(e,t,o),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Lf(this.persistenceKey,e));if(o){const l=qc.Yi(e,o);l&&(t=l.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Lf(this.persistenceKey,e))}updateQueryState(e,t,o){this.Er(e,t,o)}handleUserChange(e,t,o){t.forEach(l=>{this.Ir(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Wt("SharedClientState","READ",e,t),t}setItem(e,t){Wt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Wt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Wt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ur)return void ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,te.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const l=t.Pr(o.key);return t.br(l,null)}{const l=t.Vr(o.key,o.newValue);if(l)return t.br(l.clientId,l)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const l=t.vr(o.key,o.newValue);if(l)return t.Sr(l)}}else if(t.lr.test(o.key)){if(null!==o.newValue){const l=t.Dr(o.key,o.newValue);if(l)return t.Cr(l)}}else if(o.key===t.dr){if(null!==o.newValue){const l=t.mr(o.newValue);if(l)return t.gr(l)}}else if(o.key===t.ar){const l=function(d){let y=un.A;if(null!=d)try{const T=JSON.parse(d);Vn("number"==typeof T),y=T}catch(T){ri("SharedClientState","Failed to read sequence number from WebStorage",T)}return y}(o.newValue);l!==un.A&&t.sequenceNumberHandler(l)}else if(o.key===t._r){const l=t.Nr(o.newValue);yield Promise.all(l.map(d=>t.syncEngine.kr(d)))}}else t.rr.push(o)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,o){const l=new Yc(this.currentUser,e,t,o),d=Ff(this.persistenceKey,this.currentUser,e);this.setItem(d,l.Xi())}Ir(e){const t=Ff(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,o){const l=Lf(this.persistenceKey,e),d=new qc(e,t,o);this.setItem(l,d.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const o=this.Pr(e);return ih.Yi(o,t)}vr(e,t){const o=this.hr.exec(e),l=Number(o[1]);return Yc.Yi(new Si(void 0!==o[2]?o[2]:null),l,t)}Dr(e,t){const o=this.lr.exec(e),l=Number(o[1]);return qc.Yi(l,t)}mr(e){return ro.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Wt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const o=t?this.ir.insert(e,t):this.ir.remove(e),l=this.yr(this.ir),d=this.yr(o),y=[],T=[];return d.forEach(H=>{l.has(H)||y.push(H)}),l.forEach(H=>{d.has(H)||T.push(H)}),this.syncEngine.Fr(y,T).then(()=>{this.ir=o})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=Bd();return e.forEach((o,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class jy{constructor(){this.$r=new Vf,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,o){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Vf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class B_{Lr(e){}shutdown(){}}class $f{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Wt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Wt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Hy{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Uf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,o,l,d){const y=this.uo(e,t);Wt("RestConnection","Sending: ",y,o);const T={};return this.ao(T,l,d),this.co(e,y,T,o).then(H=>(Wt("RestConnection","Received: ",H),H),H=>{throw ts("RestConnection",`${e} failed with error: `,H,"url: ",y,"request:",o),H})}ho(e,t,o,l,d){return this.oo(e,t,o,l,d)}ao(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ns,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,d)=>e[d]=l),o&&o.headers.forEach((l,d)=>e[d]=l)}uo(e,t){return`${this.io}/v1/${t}:${$_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,o,l){return new Promise((d,y)=>{const T=new js;T.listenOnce(Qr.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case Xa.NO_ERROR:const Y=T.getResponseJson();Wt("Connection","XHR received:",JSON.stringify(Y)),d(Y);break;case Xa.TIMEOUT:Wt("Connection",'RPC "'+e+'" timed out'),y(new Ft(Et.DEADLINE_EXCEEDED,"Request time out"));break;case Xa.HTTP_ERROR:const Re=T.getStatus();if(Wt("Connection",'RPC "'+e+'" failed with status:',Re,"response text:",T.getResponseText()),Re>0){const We=T.getResponseJson().error;if(We&&We.status&&We.message){const bt=function(Lt){const $t=Lt.toLowerCase().replace(/_/g,"-");return Object.values(Et).indexOf($t)>=0?$t:Et.UNKNOWN}(We.status);y(new Ft(bt,We.message))}else y(new Ft(Et.UNKNOWN,"Server responded with status "+T.getStatus()))}else y(new Ft(Et.UNAVAILABLE,"Connection failed."));break;default:vn()}}finally{Wt("Connection",'RPC "'+e+'" completed.')}});const H=JSON.stringify(l);T.send(t,"POST",H,o,15)})}lo(e,t,o){const l=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=nl(),y=la(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(T.xmlHttpFactory=new co({})),this.ao(T.initMessageHeaders,t,o),(0,ot.uI)()||(0,ot.b$)()||(0,ot.d)()||(0,ot.w1)()||(0,ot.Mn)()||(0,ot.ru)()||(T.httpHeadersOverwriteParam="$httpHeaders");const H=l.join("");Wt("Connection","Creating WebChannel: "+H,T);const Y=d.createWebChannel(H,T);let Re=!1,We=!1;const bt=new Hy({Wr:$t=>{We?Wt("Connection","Not sending because WebChannel is closed:",$t):(Re||(Wt("Connection","Opening WebChannel transport."),Y.open(),Re=!0),Wt("Connection","WebChannel sending:",$t),Y.send($t))},zr:()=>Y.close()}),Lt=($t,Cn,pr)=>{$t.listen(Cn,Oi=>{try{pr(Oi)}catch(ds){setTimeout(()=>{throw ds},0)}})};return Lt(Y,Do.EventType.OPEN,()=>{We||Wt("Connection","WebChannel transport opened.")}),Lt(Y,Do.EventType.CLOSE,()=>{We||(We=!0,Wt("Connection","WebChannel transport closed"),bt.no())}),Lt(Y,Do.EventType.ERROR,$t=>{We||(We=!0,ts("Connection","WebChannel transport errored:",$t),bt.no(new Ft(Et.UNAVAILABLE,"The operation could not be completed")))}),Lt(Y,Do.EventType.MESSAGE,$t=>{var Cn;if(!We){const pr=$t.data[0];Vn(!!pr);const Oi=pr,ds=Oi.error||(null===(Cn=Oi[0])||void 0===Cn?void 0:Cn.error);if(ds){Wt("Connection","WebChannel received error:",ds);const Jr=ds.status;let Bi=function($i){const Vs=Wi[$i];if(void 0!==Vs)return Ld(Vs)}(Jr),Ci=ds.message;void 0===Bi&&(Bi=Et.INTERNAL,Ci="Unknown error status: "+Jr+" with message "+ds.message),We=!0,bt.no(new Ft(Bi,Ci)),Y.close()}else Wt("Connection","WebChannel received:",pr),bt.so(pr)}}),Lt(y,ca.STAT_EVENT,$t=>{$t.stat===wo.PROXY?Wt("Connection","Detected buffering proxy"):$t.stat===wo.NOPROXY&&Wt("Connection","Detected no buffering proxy")}),setTimeout(()=>{bt.eo()},0),bt}}function jf(){return"undefined"!=typeof window?window:null}function sh(){return"undefined"!=typeof document?document:null}function Kc(i){return new hy(i,!0)}class Hf{constructor(e,t,o=1e3,l=1.5,d=6e4){this.Yn=e,this.timerId=t,this.fo=o,this._o=l,this.wo=d,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),o=Math.max(0,Date.now()-this.po),l=Math.max(0,t-o);l>0&&Wt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,l,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class Gf{constructor(e,t,o,l,d,y,T,H){this.Yn=e,this.Ro=o,this.Po=l,this.bo=d,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=T,this.listener=H,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Hf(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,te.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,te.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var o=this;return(0,te.Z)(function*(){o.$o(),o.Bo(),o.Do.cancel(),o.Vo++,4!==e?o.Do.reset():t&&t.code===Et.RESOURCE_EXHAUSTED?(ri(t.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),o.Do.Io()):t&&t.code===Et.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Lo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Vo===t&&this.qo(o,l)},o=>{e(()=>{const l=new Ft(Et.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ko(l)})})}qo(e,t){const o=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{o(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(l=>{o(()=>this.Ko(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}No(){var e=this;this.state=5,this.Do.To((0,te.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Wt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Wt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gy extends Gf{constructor(e,t,o,l,d,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,y),this.M=d}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function py(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:vn(),l=e.targetChange.targetIds||[],d=function(H,Y){return H.N?(Vn(void 0===Y||"string"==typeof Y),Ii.fromBase64String(Y||"")):(Vn(void 0===Y||Y instanceof Uint8Array),Ii.fromUint8Array(Y||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,T=y&&function(H){const Y=void 0===H.code?Et.UNKNOWN:Ld(H.code);return new Ft(Y,H.message||"")}(y);t=new jd(o,l,d,T||null)}else if("documentChange"in e){const o=e.documentChange,l=Ko(i,o.document.name),d=xs(o.document.updateTime),y=new mt({mapValue:{fields:o.document.fields}}),T=Jt.newFoundDocument(l,d,y);t=new Mu(o.targetIds||[],o.removedTargetIds||[],T.key,T)}else if("documentDelete"in e){const o=e.documentDelete,l=Ko(i,o.document),d=o.readTime?xs(o.readTime):Fn.min(),y=Jt.newNoDocument(l,d);t=new Mu([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const o=e.documentRemove,l=Ko(i,o.document);t=new Mu([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return vn();{const o=e.filter,d=new Fd(o.count||0);t=new Gs(o.targetId,d)}}var H;return t}(this.M,e),o=function(l){if(!("targetChange"in l))return Fn.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Fn.min():d.readTime?xs(d.readTime):Fn.min()}(e);return this.listener.Qo(t,o)}jo(e){const t={};t.database=pl(this.M),t.addTarget=function(l,d){let y;const T=d.target;return y=il(T)?{documents:hf(l,T)}:{query:hg(l,T)},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?y.resumeToken=og(l,d.resumeToken):d.snapshotVersion.compareTo(Fn.min())>0&&(y.readTime=Ul(l,d.snapshotVersion.toTimestamp())),y}(this.M,e);const o=function my(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Fo(t)}Wo(e){const t={};t.database=pl(this.M),t.removeTarget=e,this.Fo(t)}}class Hg extends Gf{constructor(e,t,o,l,d,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,y),this.M=d,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function gy(i,e){return i&&i.length>0?(Vn(void 0!==e),i.map(t=>function(o,l){let d=xs(o.updateTime?o.updateTime:l);return d.isEqual(Fn.min())&&(d=xs(l)),new vt(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=xs(e.commitTime);return this.listener.Yo(o,t)}return Vn(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=pl(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Oc(this.M,o))};this.Fo(t)}}class zy extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.M=l,this.tu=!1}eu(){if(this.tu)throw new Ft(Et.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.bo.oo(e,t,o,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ft(Et.UNKNOWN,l.toString())})}ho(e,t,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.bo.ho(e,t,o,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ft(Et.UNKNOWN,l.toString())})}terminate(){this.tu=!0}}class Wy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(ri(t),this.iu=!1):Wt("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Gg{constructor(e,t,o,l,d){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=d,this._u.Lr(T=>{o.enqueueAndForget((0,te.Z)(function*(){var H;Bu(y)&&(Wt("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,te.Z)(function*(Y){const Re=dn(Y);Re.fu.add(4),yield io(Re),Re.wu.set("Unknown"),Re.fu.delete(4),yield rc(Re)}),function(Y){return H.apply(this,arguments)})(y))}))}),this.wu=new Wy(o,l)}}function rc(i){return zf.apply(this,arguments)}function zf(){return zf=(0,te.Z)(function*(i){if(Bu(i))for(const e of i.du)yield e(!0)}),zf.apply(this,arguments)}function io(i){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,te.Z)(function*(i){for(const e of i.du)yield e(!1)}),Zc.apply(this,arguments)}function oh(i,e){const t=dn(i);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),qf(t)?Yf(t):oc(t).xo()&&zg(t,e))}function Xc(i,e){const t=dn(i),o=oc(t);t.lu.delete(e),o.xo()&&Wf(t,e),0===t.lu.size&&(o.xo()?o.Mo():Bu(t)&&t.wu.set("Unknown"))}function zg(i,e){i.mu.Z(e.targetId),oc(i).jo(e)}function Wf(i,e){i.mu.Z(e),oc(i).Wo(e)}function Yf(i){i.mu=new sg({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.lu.get(e)||null}),oc(i).start(),i.wu.ru()}function qf(i){return Bu(i)&&!oc(i).Co()&&i.lu.size>0}function Bu(i){return 0===dn(i).fu.size}function ah(i){i.mu=void 0}function Yy(i){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,te.Z)(function*(i){i.lu.forEach((e,t)=>{zg(i,e)})}),Kf.apply(this,arguments)}function uh(i,e){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,te.Z)(function*(i,e){ah(i),qf(i)?(i.wu.au(e),Yf(i)):i.wu.set("Unknown")}),Qc.apply(this,arguments)}function qy(i,e,t){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,te.Z)(function*(i,e,t){if(i.wu.set("Online"),e instanceof jd&&2===e.state&&e.cause)try{yield(o=(0,te.Z)(function*(l,d){const y=d.cause;for(const T of d.targetIds)l.lu.has(T)&&(yield l.remoteSyncer.rejectListen(T,y),l.lu.delete(T),l.mu.removeTarget(T))}),function(l,d){return o.apply(this,arguments)})(i,e)}catch(o){Wt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield ic(i,o)}else if(e instanceof Mu?i.mu.ut(e):e instanceof Gs?i.mu._t(e):i.mu.ht(e),!t.isEqual(Fn.min()))try{const o=yield th(i.localStore);t.compareTo(o)>=0&&(yield function(l,d){const y=l.mu.yt(d);return y.targetChanges.forEach((T,H)=>{if(T.resumeToken.approximateByteSize()>0){const Y=l.lu.get(H);Y&&l.lu.set(H,Y.withResumeToken(T.resumeToken,d))}}),y.targetMismatches.forEach(T=>{const H=l.lu.get(T);if(!H)return;l.lu.set(T,H.withResumeToken(Ii.EMPTY_BYTE_STRING,H.snapshotVersion)),Wf(l,T);const Y=new nu(H.target,T,1,H.sequenceNumber);zg(l,Y)}),l.remoteSyncer.applyRemoteEvent(y)}(i,t))}catch(o){Wt("RemoteStore","Failed to raise snapshot:",o),yield ic(i,o)}var o}),Jc.apply(this,arguments)}function ic(i,e,t){return lh.apply(this,arguments)}function lh(){return lh=(0,te.Z)(function*(i,e,t){if(!No(e))throw e;i.fu.add(1),yield io(i),i.wu.set("Offline"),t||(t=()=>th(i.localStore)),i.asyncQueue.enqueueRetryable((0,te.Z)(function*(){Wt("RemoteStore","Retrying IndexedDB access"),yield t(),i.fu.delete(1),yield rc(i)}))}),lh.apply(this,arguments)}function Wg(i,e){return e().catch(t=>ic(i,t,e))}function sc(i){return ed.apply(this,arguments)}function ed(){return ed=(0,te.Z)(function*(i){const e=dn(i),t=Ha(e);let o=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;U_(e);)try{const l=yield Lg(e.localStore,o);if(null===l){0===e.hu.length&&t.Mo();break}o=l.batchId,Ky(e,l)}catch(l){yield ic(e,l)}Zf(e)&&Xf(e)}),ed.apply(this,arguments)}function U_(i){return Bu(i)&&i.hu.length<10}function Ky(i,e){i.hu.push(e);const t=Ha(i);t.xo()&&t.Ho&&t.Jo(e.mutations)}function Zf(i){return Bu(i)&&!Ha(i).Co()&&i.hu.length>0}function Xf(i){Ha(i).start()}function Yg(i){return ch.apply(this,arguments)}function ch(){return ch=(0,te.Z)(function*(i){Ha(i).Zo()}),ch.apply(this,arguments)}function qg(i){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,te.Z)(function*(i){const e=Ha(i);for(const t of i.hu)e.Jo(t.mutations)}),Ia.apply(this,arguments)}function dh(i,e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,te.Z)(function*(i,e,t){const o=i.hu.shift(),l=Kd.from(o,e,t);yield Wg(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield sc(i)}),Qf.apply(this,arguments)}function Zy(i,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,te.Z)(function*(i,e){var t;e&&Ha(i).Ho&&(yield(t=(0,te.Z)(function*(o,l){if(Ll(d=l.code)&&d!==Et.ABORTED){const y=o.hu.shift();Ha(o).ko(),yield Wg(o,()=>o.remoteSyncer.rejectFailedWrite(y.batchId,l)),yield sc(o)}var d}),function(o,l){return t.apply(this,arguments)})(i,e)),Zf(i)&&Xf(i)}),Kg.apply(this,arguments)}function hh(i,e){return fh.apply(this,arguments)}function fh(){return fh=(0,te.Z)(function*(i,e){const t=dn(i);t.asyncQueue.verifyOperationInProgress(),Wt("RemoteStore","RemoteStore received new credentials");const o=Bu(t);t.fu.add(3),yield io(t),o&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield rc(t)}),fh.apply(this,arguments)}function td(i,e){return vl.apply(this,arguments)}function vl(){return vl=(0,te.Z)(function*(i,e){const t=dn(i);e?(t.fu.delete(2),yield rc(t)):e||(t.fu.add(2),yield io(t),t.wu.set("Unknown"))}),vl.apply(this,arguments)}function oc(i){return i.gu||(i.gu=function(e,t,o){const l=dn(e);return l.eu(),new Gy(t,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{Hr:Yy.bind(null,i),Yr:uh.bind(null,i),Qo:qy.bind(null,i)}),i.du.push(function(){var e=(0,te.Z)(function*(t){t?(i.gu.ko(),qf(i)?Yf(i):i.wu.set("Unknown")):(yield i.gu.stop(),ah(i))});return function(t){return e.apply(this,arguments)}}())),i.gu}function Ha(i){return i.yu||(i.yu=function(e,t,o){const l=dn(e);return l.eu(),new Hg(t,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{Hr:Yg.bind(null,i),Yr:Zy.bind(null,i),Xo:qg.bind(null,i),Yo:dh.bind(null,i)}),i.du.push(function(){var e=(0,te.Z)(function*(t){t?(i.yu.ko(),yield sc(i)):(yield i.yu.stop(),i.hu.length>0&&(Wt("RemoteStore",`Stopping write stream with ${i.hu.length} pending writes`),i.hu=[]))});return function(t){return e.apply(this,arguments)}}())),i.yu}class ph{constructor(e,t,o,l,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=d,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,o,l,d){const y=Date.now()+o,T=new ph(e,t,y,l,d);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ft(Et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _l(i,e){if(ri("AsyncQueue",`${e}: ${i}`),No(i))return new Ft(Et.UNAVAILABLE,`${e}: ${i}`);throw i}class El{constructor(e){this.comparator=e?(t,o)=>e(t,o)||fn.comparator(t.key,o.key):(t,o)=>fn.comparator(t.key,o.key),this.keyedMap=xc(),this.sortedSet=new is(this.comparator)}static emptySet(e){return new El(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=o.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new El;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Zg{constructor(){this.pu=new is(fn.comparator)}track(e){const t=e.doc.key,o=this.pu.get(t);o?0!==e.type&&3===o.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==o.type?this.pu=this.pu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.pu=this.pu.remove(t):1===e.type&&2===o.type?this.pu=this.pu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):vn():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,o)=>{e.push(o)}),e}}class $u{constructor(e,t,o,l,d,y,T,H){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=d,this.fromCache=y,this.syncStateChanged=T,this.excludesMetadataChanges=H}static fromInitialDocuments(e,t,o,l){const d=[];return t.forEach(y=>{d.push({type:0,doc:y})}),new $u(e,t,El.emptySet(t),d,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class Xy{constructor(){this.Tu=void 0,this.listeners=[]}}class Qy{constructor(){this.queries=new xu(e=>dl(e),Nl),this.onlineState="Unknown",this.Eu=new Set}}function gh(i,e){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,te.Z)(function*(i,e){const t=dn(i),o=e.query;let l=!1,d=t.queries.get(o);if(d||(l=!0,d=new Xy),l)try{d.Tu=yield t.onListen(o)}catch(y){const T=_l(y,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(T)}t.queries.set(o,d),d.listeners.push(e),e.Au(t.onlineState),d.Tu&&e.Ru(d.Tu)&&ep(t)}),Uu.apply(this,arguments)}function mh(i,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,te.Z)(function*(i,e){const t=dn(i),o=e.query;let l=!1;const d=t.queries.get(o);if(d){const y=d.listeners.indexOf(e);y>=0&&(d.listeners.splice(y,1),l=0===d.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),Jf.apply(this,arguments)}function Jy(i,e){const t=dn(i);let o=!1;for(const l of e){const y=t.queries.get(l.query);if(y){for(const T of y.listeners)T.Ru(l)&&(o=!0);y.Tu=l}}o&&ep(t)}function ac(i,e,t){const o=dn(i),l=o.queries.get(e);if(l)for(const d of l.listeners)d.onError(t);o.queries.delete(e)}function ep(i){i.Eu.forEach(e=>{e.next()})}class tp{constructor(e,t,o){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}Ru(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new $u(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=$u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class ev{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class Xg{constructor(e){this.M=e}fi(e){return Ko(this.M,e)}di(e){return e.metadata.exists?Rc(this.M,e.document,!1):Jt.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return xs(e)}}class wa{constructor(e,t,o){this.Nu=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yh(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=Or.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,o=new Xg(this.M);for(const l of e)if(l.metadata.queries){const d=o.fi(l.metadata.name);for(const y of l.metadata.queries){const T=(t.get(y)||Kr()).add(d);t.set(y,T)}}return t}complete(){var e=this;return(0,te.Z)(function*(){const t=yield function ec(i,e,t,o){return Wc.apply(this,arguments)}(e.localStore,new Xg(e.M),e.documents,e.Nu.id),o=e.Mu(e.documents);for(const l of e.queries)yield tc(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function yh(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class np{constructor(e){this.key=e}}class rp{constructor(e){this.key=e}}class ip{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Kr(),this.mutatedKeys=Kr(),this.Uu=Tc(e),this.qu=new El(this.Uu)}get Ku(){return this.$u}Gu(e,t){const o=t?t.Qu:new Zg,l=t?t.qu:this.qu;let d=t?t.mutatedKeys:this.mutatedKeys,y=l,T=!1;const H=Pl(this.query)&&l.size===this.query.limit?l.last():null,Y=Eu(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Re,We)=>{const bt=l.get(Re),Lt=kl(this.query,We)?We:null,$t=!!bt&&this.mutatedKeys.has(bt.key),Cn=!!Lt&&(Lt.hasLocalMutations||this.mutatedKeys.has(Lt.key)&&Lt.hasCommittedMutations);let pr=!1;bt&&Lt?bt.data.isEqual(Lt.data)?$t!==Cn&&(o.track({type:3,doc:Lt}),pr=!0):this.ju(bt,Lt)||(o.track({type:2,doc:Lt}),pr=!0,(H&&this.Uu(Lt,H)>0||Y&&this.Uu(Lt,Y)<0)&&(T=!0)):!bt&&Lt?(o.track({type:0,doc:Lt}),pr=!0):bt&&!Lt&&(o.track({type:1,doc:bt}),pr=!0,(H||Y)&&(T=!0)),pr&&(Lt?(y=y.add(Lt),d=Cn?d.add(Re):d.delete(Re)):(y=y.delete(Re),d=d.delete(Re)))}),Pl(this.query)||Eu(this.query))for(;y.size>this.query.limit;){const Re=Pl(this.query)?y.last():y.first();y=y.delete(Re.key),d=d.delete(Re.key),o.track({type:1,doc:Re})}return{qu:y,Qu:o,ni:T,mutatedKeys:d}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const d=e.Qu.Iu();d.sort((Y,Re)=>function(We,bt){const Lt=$t=>{switch($t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vn()}};return Lt(We)-Lt(bt)}(Y.type,Re.type)||this.Uu(Y.doc,Re.doc)),this.Wu(o);const y=t?this.zu():[],T=0===this.Lu.size&&this.current?1:0,H=T!==this.Bu;return this.Bu=T,0!==d.length||H?{snapshot:new $u(this.query,e.qu,l,d,e.mutatedKeys,0===T,H,!1),Hu:y}:{Hu:y}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Zg,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Kr(),this.qu.forEach(o=>{this.Ju(o.key)&&(this.Lu=this.Lu.add(o.key))});const t=[];return e.forEach(o=>{this.Lu.has(o)||t.push(new rp(o))}),this.Lu.forEach(o=>{e.has(o)||t.push(new np(o))}),t}Yu(e){this.$u=e.li,this.Lu=Kr();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return $u.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Qg{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class tv{constructor(e){this.key=e,this.Zu=!1}}class nv{constructor(e,t,o,l,d,y){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=y,this.ta={},this.ea=new xu(T=>dl(T),Nl),this.na=new Map,this.sa=new Set,this.ia=new is(fn.comparator),this.ra=new Map,this.oa=new nh,this.ua={},this.aa=new Map,this.ca=Fu.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function rv(i,e){return sp.apply(this,arguments)}function sp(){return sp=(0,te.Z)(function*(i,e){const t=Hu(i);let o,l;const d=t.ea.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),l=d.view.Xu();else{const y=yield Ql(t.localStore,yo(e));t.isPrimaryClient&&oh(t.remoteStore,y);const T=t.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,l=yield vh(t,e,o,"current"===T)}return l}),sp.apply(this,arguments)}function vh(i,e,t,o){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,te.Z)(function*(i,e,t,o){i.la=(Re,We,bt)=>{return(Lt=(0,te.Z)(function*($t,Cn,pr,Oi){let ds=Cn.view.Gu(pr);ds.ni&&(ds=yield zc($t.localStore,Cn.query,!1).then(({documents:Ci})=>Cn.view.Gu(Ci,ds)));const Jr=Oi&&Oi.targetChanges.get(Cn.targetId),Bi=Cn.view.applyChanges(ds,$t.isPrimaryClient,Jr);return id($t,Cn.targetId,Bi.Hu),Bi.snapshot}),function($t,Cn,pr,Oi){return Lt.apply(this,arguments)})(i,Re,We,bt);var Lt};const l=yield zc(i.localStore,e,!0),d=new ip(e,l.li),y=d.Gu(l.documents),T=Ud.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),H=d.applyChanges(y,i.isPrimaryClient,T);id(i,t,H.Hu);const Y=new Qg(e,t,d);return i.ea.set(e,Y),i.na.has(t)?i.na.get(t).push(e):i.na.set(t,[e]),H.snapshot}),Jg.apply(this,arguments)}function em(i,e){return op.apply(this,arguments)}function op(){return op=(0,te.Z)(function*(i,e){const t=dn(i),o=t.ea.get(e),l=t.na.get(o.targetId);if(l.length>1)return t.na.set(o.targetId,l.filter(d=>!Nl(d,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Vu(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Xc(t.remoteStore,o.targetId),rd(t,o.targetId)}).catch(ou))):(rd(t,o.targetId),yield Vu(t.localStore,o.targetId,!0))}),op.apply(this,arguments)}function tm(){return tm=(0,te.Z)(function*(i,e,t){const o=Gu(i);try{const l=yield function(d,y){const T=dn(d),H=Ar.now(),Y=y.reduce((We,bt)=>We.add(bt.key),Kr());let Re;return T.persistence.runTransaction("Locally write mutations","readwrite",We=>T.ci.Ks(We,Y).next(bt=>{Re=bt;const Lt=[];for(const $t of y){const Cn=Hs($t,Re.get($t.key));null!=Cn&&Lt.push(new Va($t.key,Cn,Kt(Cn.value.mapValue),At.exists(!0)))}return T.Bs.addMutationBatch(We,H,Lt,y)})).then(We=>(We.applyToLocalDocumentSet(Re),{batchId:We.batchId,changes:Re}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(d,y,T){let H=d.ua[d.currentUser.toKey()];H||(H=new is(_n)),H=H.insert(y,T),d.ua[d.currentUser.toKey()]=H}(o,l.batchId,t),yield lu(o,l.changes),yield sc(o.remoteStore)}catch(l){const d=_l(l,"Failed to persist write");t.reject(d)}}),tm.apply(this,arguments)}function sv(i,e){return nd.apply(this,arguments)}function nd(){return nd=(0,te.Z)(function*(i,e){const t=dn(i);try{const o=yield By(t.localStore,e);e.targetChanges.forEach((l,d)=>{const y=t.ra.get(d);y&&(Vn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?y.Zu=!0:l.modifiedDocuments.size>0?Vn(y.Zu):l.removedDocuments.size>0&&(Vn(y.Zu),y.Zu=!1))}),yield lu(t,o,e)}catch(o){yield ou(o)}}),nd.apply(this,arguments)}function nm(i,e,t){const o=dn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.ea.forEach((d,y)=>{const T=y.view.Au(e);T.snapshot&&l.push(T.snapshot)}),function(d,y){const T=dn(d);T.onlineState=y;let H=!1;T.queries.forEach((Y,Re)=>{for(const We of Re.listeners)We.Au(y)&&(H=!0)}),H&&ep(T)}(o.eventManager,e),l.length&&o.ta.Qo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function rm(i,e,t){return _h.apply(this,arguments)}function _h(){return _h=(0,te.Z)(function*(i,e,t){const o=dn(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.ra.get(e),d=l&&l.key;if(d){let y=new is(fn.comparator);y=y.insert(d,Jt.newNoDocument(d,Fn.min()));const T=Kr().add(d),H=new $d(Fn.min(),new Map,new Di(_n),y,T);yield sv(o,H),o.ia=o.ia.remove(d),o.ra.delete(e),sd(o)}else yield Vu(o.localStore,e,!1).then(()=>rd(o,e,t)).catch(ou)}),_h.apply(this,arguments)}function j_(i,e){return ko.apply(this,arguments)}function ko(){return ko=(0,te.Z)(function*(i,e){const t=dn(i),o=e.batch.batchId;try{const l=yield Fg(t.localStore,e);ap(t,o,null),bh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield lu(t,l)}catch(l){yield ou(l)}}),ko.apply(this,arguments)}function H_(i,e,t){return im.apply(this,arguments)}function im(){return im=(0,te.Z)(function*(i,e,t){const o=dn(i);try{const l=yield function(d,y){const T=dn(d);return T.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let Y;return T.Bs.lookupMutationBatch(H,y).next(Re=>(Vn(null!==Re),Y=Re.keys(),T.Bs.removeMutationBatch(H,Re))).next(()=>T.Bs.performConsistencyCheck(H)).next(()=>T.ci.Ks(H,Y))})}(o.localStore,e);ap(o,e,t),bh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield lu(o,l)}catch(l){yield ou(l)}}),im.apply(this,arguments)}function Eh(){return Eh=(0,te.Z)(function*(i,e){const t=dn(i);Bu(t.remoteStore)||Wt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const y=dn(d);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",T=>y.Bs.getHighestUnacknowledgedBatchId(T))}(t.localStore);if(-1===o)return void e.resolve();const l=t.aa.get(o)||[];l.push(e),t.aa.set(o,l)}catch(o){const l=_l(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Eh.apply(this,arguments)}function bh(i,e){(i.aa.get(e)||[]).forEach(t=>{t.resolve()}),i.aa.delete(e)}function ap(i,e,t){const o=dn(i);let l=o.ua[o.currentUser.toKey()];if(l){const d=l.get(e);d&&(t?d.reject(t):d.resolve(),l=l.remove(e)),o.ua[o.currentUser.toKey()]=l}}function rd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.na.get(e))i.ea.delete(o),t&&i.ta.fa(o,t);i.na.delete(e),i.isPrimaryClient&&i.oa.Pi(e).forEach(o=>{i.oa.containsKey(o)||up(i,o)})}function up(i,e){i.sa.delete(e.path.canonicalString());const t=i.ia.get(e);null!==t&&(Xc(i.remoteStore,t),i.ia=i.ia.remove(e),i.ra.delete(t),sd(i))}function id(i,e,t){for(const o of t)o instanceof np?(i.oa.addReference(o.key,e),ov(i,o)):o instanceof rp?(Wt("SyncEngine","Document no longer in limbo: "+o.key),i.oa.removeReference(o.key,e),i.oa.containsKey(o.key)||up(i,o.key)):vn()}function ov(i,e){const t=e.key,o=t.path.canonicalString();i.ia.get(t)||i.sa.has(o)||(Wt("SyncEngine","New document in limbo: "+t),i.sa.add(o),sd(i))}function sd(i){for(;i.sa.size>0&&i.ia.size<i.maxConcurrentLimboResolutions;){const e=i.sa.values().next().value;i.sa.delete(e);const t=new fn(Or.fromString(e)),o=i.ca.next();i.ra.set(o,new tv(t)),i.ia=i.ia.insert(t,o),oh(i.remoteStore,new nu(yo(ll(t.path)),o,2,un.A))}}function lu(i,e,t){return lp.apply(this,arguments)}function lp(){return lp=(0,te.Z)(function*(i,e,t){const o=dn(i),l=[],d=[],y=[];var T;o.ea.isEmpty()||(o.ea.forEach((T,H)=>{y.push(o.la(H,e,t).then(Y=>{if(Y){o.isPrimaryClient&&o.sharedClientState.updateQueryState(H.targetId,Y.fromCache?"not-current":"current"),l.push(Y);const Re=Ng.Ys(H.targetId,Y);d.push(Re)}}))}),yield Promise.all(y),o.ta.Qo(l),yield(T=(0,te.Z)(function*(H,Y){const Re=dn(H);try{yield Re.persistence.runTransaction("notifyLocalViewChanges","readwrite",We=>Tt.forEach(Y,bt=>Tt.forEach(bt.Hs,Lt=>Re.persistence.referenceDelegate.addReference(We,bt.targetId,Lt)).next(()=>Tt.forEach(bt.Js,Lt=>Re.persistence.referenceDelegate.removeReference(We,bt.targetId,Lt)))))}catch(We){if(!No(We))throw We;Wt("LocalStore","Failed to update sequence numbers: "+We)}for(const We of Y){const bt=We.targetId;if(!We.fromCache){const Lt=Re.ii.get(bt),Cn=Lt.withLastLimboFreeSnapshotVersion(Lt.snapshotVersion);Re.ii=Re.ii.insert(bt,Cn)}}}),function(H,Y){return T.apply(this,arguments)})(o.localStore,d))}),lp.apply(this,arguments)}function av(i,e){return cp.apply(this,arguments)}function cp(){return cp=(0,te.Z)(function*(i,e){const t=dn(i);if(!t.currentUser.isEqual(e)){Wt("SyncEngine","User change. New user:",e.toKey());const o=yield Rf(t.localStore,e);t.currentUser=e,(l=t).aa.forEach(y=>{y.forEach(T=>{T.reject(new Ft(Et.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.aa.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield lu(t,o.hi)}var l}),cp.apply(this,arguments)}function uv(i,e){const t=dn(i),o=t.ra.get(e);if(o&&o.Zu)return Kr().add(o.key);{let l=Kr();const d=t.na.get(e);if(!d)return l;for(const y of d){const T=t.ea.get(y);l=l.unionWith(T.view.Ku)}return l}}function lv(i,e){return uc.apply(this,arguments)}function uc(){return uc=(0,te.Z)(function*(i,e){const t=dn(i),o=yield zc(t.localStore,e.query,!0),l=e.view.Yu(o);return t.isPrimaryClient&&id(t,e.targetId,l.Hu),l}),uc.apply(this,arguments)}function lc(i,e){return dp.apply(this,arguments)}function dp(){return dp=(0,te.Z)(function*(i,e){const t=dn(i);return Bg(t.localStore,e).then(o=>lu(t,o))}),dp.apply(this,arguments)}function od(i,e,t,o){return hp.apply(this,arguments)}function hp(){return hp=(0,te.Z)(function*(i,e,t,o){const l=dn(i),d=yield function(y,T){const H=dn(y),Y=dn(H.Bs);return H.persistence.runTransaction("Lookup mutation documents","readonly",Re=>Y.fn(Re,T).next(We=>We?H.ci.Ks(Re,We):Tt.resolve(null)))}(l.localStore,e);var T;null!==d?("pending"===t?yield sc(l.remoteStore):"acknowledged"===t||"rejected"===t?(ap(l,e,o||null),bh(l,e),T=e,dn(dn(l.localStore).Bs)._n(T)):vn(),yield lu(l,d)):Wt("SyncEngine","Cannot apply mutation batch with id: "+e)}),hp.apply(this,arguments)}function ad(){return ad=(0,te.Z)(function*(i,e){const t=dn(i);if(Hu(t),Gu(t),!0===e&&!0!==t.ha){const o=t.sharedClientState.getAllActiveQueryTargets(),l=yield Da(t,o.toArray());t.ha=!0,yield td(t.remoteStore,!0);for(const d of l)oh(t.remoteStore,d)}else if(!1===e&&!1!==t.ha){const o=[];let l=Promise.resolve();t.na.forEach((d,y)=>{t.sharedClientState.isLocalQueryTarget(y)?o.push(y):l=l.then(()=>(rd(t,y),Vu(t.localStore,y,!0))),Xc(t.remoteStore,y)}),yield l,yield Da(t,o),function(d){const y=dn(d);y.ra.forEach((T,H)=>{Xc(y.remoteStore,H)}),y.oa.bi(),y.ra=new Map,y.ia=new is(fn.comparator)}(t),t.ha=!1,yield td(t.remoteStore,!1)}}),ad.apply(this,arguments)}function Da(i,e,t){return bl.apply(this,arguments)}function bl(){return bl=(0,te.Z)(function*(i,e,t){const o=dn(i),l=[],d=[];for(const y of e){let T;const H=o.na.get(y);if(H&&0!==H.length){T=yield Ql(o.localStore,yo(H[0]));for(const Y of H){const Re=o.ea.get(Y),We=yield lv(o,Re);We.snapshot&&d.push(We.snapshot)}}else{const Y=yield Vg(o.localStore,y);T=yield Ql(o.localStore,Y),yield vh(o,Ls(Y),y,!1)}l.push(T)}return o.ta.Qo(d),l}),bl.apply(this,arguments)}function Ls(i){return Rd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Il(i){const e=dn(i);return dn(dn(e.localStore).persistence).Fs()}function Ih(i,e,t,o){return vo.apply(this,arguments)}function vo(){return vo=(0,te.Z)(function*(i,e,t,o){const l=dn(i);if(l.ha)return void Wt("SyncEngine","Ignoring unexpected query state notification.");const d=l.na.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const y=yield Bg(l.localStore,fl(d[0])),T=$d.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield lu(l,y,T);break}case"rejected":yield Vu(l.localStore,e,!0),rd(l,e,o);break;default:vn()}}),vo.apply(this,arguments)}function fp(i,e,t){return ju.apply(this,arguments)}function ju(){return ju=(0,te.Z)(function*(i,e,t){const o=Hu(i);if(o.ha){for(const l of e){if(o.na.has(l)){Wt("SyncEngine","Adding an already active target "+l);continue}const d=yield Vg(o.localStore,l),y=yield Ql(o.localStore,d);yield vh(o,Ls(d),y.targetId,!1),oh(o.remoteStore,y)}for(const l of t)o.na.has(l)&&(yield Vu(o.localStore,l,!1).then(()=>{Xc(o.remoteStore,l),rd(o,l)}).catch(ou))}}),ju.apply(this,arguments)}function Hu(i){const e=dn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=sv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rm.bind(null,e),e.ta.Qo=Jy.bind(null,e.eventManager),e.ta.fa=ac.bind(null,e.eventManager),e}function Gu(i){const e=dn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H_.bind(null,e),e}class wl{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,te.Z)(function*(){t.M=Kc(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return kg(this.persistence,new au,e.initialUser,this.M)}wa(e){return new Uy(jg.zi,this.M)}_a(e){return new jy}terminate(){var e=this;return(0,te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Dl extends wl{constructor(e,t,o){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,te.Z)(function*(){yield t().call(o,e),yield o.ya.initialize(o,e),yield Gu(o.ya.syncEngine),yield sc(o.ya.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ga(e){return kg(this.persistence,new au,e.initialUser,this.M)}ma(e){return new Oy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=Pg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?no.withCacheSize(this.cacheSizeBytes):no.DEFAULT;return new Og(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,jf(),sh(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new jy}}class dc extends Dl{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,te.Z)(function*(){yield t().call(o,e);const l=o.ya.syncEngine;o.sharedClientState instanceof Bf&&(o.sharedClientState.syncEngine={Mr:od.bind(null,l),Or:Ih.bind(null,l),Fr:fp.bind(null,l),Fs:Il.bind(null,l),kr:lc.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var d=(0,te.Z)(function*(y){yield function cv(i,e){return ad.apply(this,arguments)}(o.ya.syncEngine,y),o.gcScheduler&&(y&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):y||o.gcScheduler.stop())});return function(y){return d.apply(this,arguments)}}())})()}_a(e){const t=jf();if(!Bf.vt(t))throw new Ft(Et.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Pg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bf(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class zu{initialize(e,t){var o=this;return(0,te.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>nm(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=av.bind(null,o.syncEngine),yield td(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qy}createDatastore(e){const t=Kc(e.databaseInfo.databaseId),o=new Uf(e.databaseInfo);return new zy(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,d=T=>nm(this.syncEngine,T,0),y=$f.vt()?new $f:new B_,new Gg(t,o,l,d,y);var t,o,l,d,y}createSyncEngine(e,t){return function(o,l,d,y,T,H,Y){const Re=new nv(o,l,d,y,T,H);return Y&&(Re.ha=!0),Re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,te.Z)(function*(t){const o=dn(t);Wt("RemoteStore","RemoteStore shutting down."),o.fu.add(5),yield io(o),o._u.shutdown(),o.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Cl(i,e=10240){let t=0;return{read:()=>(0,te.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ud{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class om{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Gi,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(o=>{o&&o.xu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,te.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,te.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,te.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const o=e.Ea.decode(t),l=Number(o);isNaN(l)&&e.Pa(`length string (${o}) is not valid number`);const d=yield e.ba(l);return new ev(JSON.parse(d),t.length+l)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,te.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}ba(e){var t=this;return(0,te.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const o=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,te.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class am{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ft(Et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,te.Z)(function*(d,y){const T=dn(d),H=pl(T.M)+"/documents",Y={documents:y.map(Lt=>Mc(T.M,Lt))},Re=yield T.ho("BatchGetDocuments",H,Y),We=new Map;Re.forEach(Lt=>{const $t=function fy(i,e){return"found"in e?function(t,o){Vn(!!o.found);const l=Ko(t,o.found.name),d=xs(o.found.updateTime),y=new mt({mapValue:{fields:o.found.fields}});return Jt.newFoundDocument(l,d,y)}(i,e):"missing"in e?function(t,o){Vn(!!o.missing),Vn(!!o.readTime);const l=Ko(t,o.missing),d=xs(o.readTime);return Jt.newNoDocument(l,d)}(i,e):vn()}(T.M,Lt);We.set($t.key.toString(),$t)});const bt=[];return y.forEach(Lt=>{const $t=We.get(Lt.toString());Vn(!!$t),bt.push($t)}),bt}),function(d,y){return l.apply(this,arguments)})(t.datastore,e);var l;return o.forEach(l=>t.recordVersion(l)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ba(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,l)=>{const d=fn.fromPath(l);e.mutations.push(new Au(d,e.precondition(d)))}),yield(o=(0,te.Z)(function*(l,d){const y=dn(l),T=pl(y.M)+"/documents",H={writes:d.map(Y=>Oc(y.M,Y))};yield y.oo("Commit",T,H)}),function(l,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vn();t=Fn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Ft(Et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?At.updateTime(t):At.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fn.min()))throw new Ft(Et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(t)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class um{constructor(e,t,o,l){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=l,this.Sa=5,this.Do=new Hf(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,te.Z)(function*(){const t=new am(e.datastore),o=e.Ca(t);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.xa(d)}))}).catch(l=>{e.xa(l)})}))}Ca(e){try{const t=this.updateFunction(e);return!vs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ll(t)}return!1}}class lm{constructor(e,t,o,l){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=Si.UNAUTHENTICATED,this.clientId=An.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var y=(0,te.Z)(function*(T){Wt("FirestoreClient","Received user=",T.uid),yield d.authCredentialListener(T),d.user=T});return function(T){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(o,y=>(Wt("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ft(Et.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=_l(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function pp(i,e){return wh.apply(this,arguments)}function wh(){return wh=(0,te.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Wt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,te.Z)(function*(d){o.isEqual(d)||(yield Rf(e.localStore,d),o=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),wh.apply(this,arguments)}function gp(i,e){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,te.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield mp(i);Wt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>hh(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,d)=>hh(e.remoteStore,d)),i.onlineComponents=e}),Dh.apply(this,arguments)}function mp(i){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,te.Z)(function*(i){return i.offlineComponents||(Wt("FirestoreClient","Using default OfflineComponentProvider"),yield pp(i,new wl)),i.offlineComponents}),Ch.apply(this,arguments)}function Th(i){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,te.Z)(function*(i){return i.onlineComponents||(Wt("FirestoreClient","Using default OnlineComponentProvider"),yield gp(i,new zu)),i.onlineComponents}),Sh.apply(this,arguments)}function yp(i){return mp(i).then(e=>e.persistence)}function vp(i){return mp(i).then(e=>e.localStore)}function cm(i){return Th(i).then(e=>e.remoteStore)}function Ah(i){return Th(i).then(e=>e.syncEngine)}function hc(i){return xh.apply(this,arguments)}function xh(){return xh=(0,te.Z)(function*(i){const e=yield Th(i),t=e.eventManager;return t.onListen=rv.bind(null,e.syncEngine),t.onUnlisten=em.bind(null,e.syncEngine),t}),xh.apply(this,arguments)}function dm(i,e,t={}){const o=new Gi;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(l,d,y,T,H){const Y=new ud({next:We=>{d.enqueueAndForget(()=>mh(l,Re));const bt=We.docs.has(y);!bt&&We.fromCache?H.reject(new Ft(Et.UNAVAILABLE,"Failed to get document because the client is offline.")):bt&&We.fromCache&&T&&"server"===T.source?H.reject(new Ft(Et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(We)},error:We=>H.reject(We)}),Re=new tp(ll(y.path),Y,{includeMetadataChanges:!0,Cu:!0});return gh(l,Re)}(yield hc(i),i.asyncQueue,e,t,o)})),o.promise}function Mh(i,e,t={}){const o=new Gi;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(l,d,y,T,H){const Y=new ud({next:We=>{d.enqueueAndForget(()=>mh(l,Re)),We.fromCache&&"server"===T.source?H.reject(new Ft(Et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(We)},error:We=>H.reject(We)}),Re=new tp(y,Y,{includeMetadataChanges:!0,Cu:!0});return gh(l,Re)}(yield hc(i),i.asyncQueue,e,t,o)})),o.promise}const hm=new Map;function Rh(i,e,t){if(!t)throw new Ft(Et.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function pv(i,e,t,o){if(!0===e&&!0===o)throw new Ft(Et.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function fm(i){if(!fn.isDocumentKey(i))throw new Ft(Et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Tl(i){if(fn.isDocumentKey(i))throw new Ft(Et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Oh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":vn()}function Lr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ft(Et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Oh(i);throw new Ft(Et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function pm(i,e){if(e<=0)throw new Ft(Et.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Ep{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ft(Et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ft(Et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wu{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ep({}),this._settingsFrozen=!1,e instanceof po?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ft(Et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(l.options.projectId)}(e))}get app(){if(!this._app)throw new Ft(Et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ft(Et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ep(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new E;switch(t.type){case"gapi":const o=t.client;return Vn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new J(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ft(Et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hm.get(e);t&&(Wt("ComponentProvider","Removing Datastore"),hm.delete(e),t.terminate())}(this),Promise.resolve()}}class gi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gi(this.firestore,e,this._key)}}class Ws{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class Ga extends Ws{constructor(e,t,o){super(e,t,ll(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gi(this.firestore,null,new fn(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function gm(i,e,...t){if(i=(0,ot.m9)(i),Rh("collection","path",e),i instanceof Wu){const o=Or.fromString(e,...t);return Tl(o),new Ga(i,null,o)}{if(!(i instanceof gi||i instanceof Ga))throw new Ft(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Or.fromString(e,...t));return Tl(o),new Ga(i.firestore,null,o)}}function Ph(i,e,...t){if(i=(0,ot.m9)(i),1===arguments.length&&(e=An.R()),Rh("doc","path",e),i instanceof Wu){const o=Or.fromString(e,...t);return fm(o),new gi(i,null,new fn(o))}{if(!(i instanceof gi||i instanceof Ga))throw new Ft(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Or.fromString(e,...t));return fm(o),new gi(i.firestore,i instanceof Ga?i.converter:null,new fn(o))}}function bp(i,e){return i=(0,ot.m9)(i),e=(0,ot.m9)(e),(i instanceof gi||i instanceof Ga)&&(e instanceof gi||e instanceof Ga)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function mm(i,e){return i=(0,ot.m9)(i),e=(0,ot.m9)(e),i instanceof Ws&&e instanceof Ws&&i.firestore===e.firestore&&Nl(i._query,e._query)&&i.converter===e.converter}class ym{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Hf(this,"async_queue_retry"),this.qa=()=>{const t=sh();t&&Wt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=sh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=sh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Gi;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,te.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!No(t))throw t;Wt("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(o=>{throw this.$a=o,this.Ba=!1,ri("INTERNAL UNHANDLED ERROR: ",function(d){let y=d.message||"";return d.stack&&(y=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),y}(o)),o}).then(o=>(this.Ba=!1,o))));return this.ka=t,t}enqueueAfterDelay(e,t,o){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const l=ph.createAndSchedule(this,e,t,o,d=>this.ja(d));return this.Fa.push(l),l}Ka(){this.$a&&vn()}verifyOperationInProgress(){}Wa(){var e=this;return(0,te.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function Nh(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Ip{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class mi extends Wu{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new ym,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||wp(this),this._firestoreClient.terminate()}}function Ri(i){return i._firestoreClient||wp(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function wp(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new To(i._databaseId,d,i._persistenceKey,(T=t).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,T.useFetchStreams));var d,T;i._firestoreClient=new lm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function vm(i,e,t){const o=new Gi;return i.asyncQueue.enqueue((0,te.Z)(function*(){try{yield pp(i,t),yield gp(i,e),o.resolve()}catch(l){if(!("FirebaseError"===(d=l).name?d.code===Et.FAILED_PRECONDITION||d.code===Et.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var d})).then(()=>o.promise)}function Bh(i){if(i._initialized||i._terminated)throw new Ft(Et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class za{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ft(Et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ca(Ii.fromBase64String(e))}catch(t){throw new Ft(Et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ca(Ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yu{constructor(e){this._methodName=e}}class fc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ft(Et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ft(Et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _n(this._lat,e._lat)||_n(this._long,e._long)}}const Em=/^__.*__$/;class yv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Va(e,this.data,this.fieldMask,t,this.fieldTransforms):new tu(e,this.data,t,this.fieldTransforms)}}class Sp{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ap(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vn()}}class pc{constructor(e,t,o,l,d,y){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=l,void 0===d&&this.Ya(),this.fieldTransforms=d||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new pc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Za({path:o,ec:!1});return l.nc(e),l}sc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Za({path:o,ec:!1});return l.Ya(),l}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Yi(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(Ap(this.Xa)&&Em.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class bm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||Kc(e)}ac(e,t,o,l=!1){return new pc({Xa:e,methodName:t,uc:o,path:zi.emptyPath(),ec:!1,oc:l},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Sl(i){const e=i._freezeSettings(),t=Kc(i._databaseId);return new bm(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ld(i,e,t,o,l,d={}){const y=i.ac(d.merge||d.mergeFields?2:0,e,t,l);Op("Data must be an object, but it was:",y,o);const T=Rp(o,y);let H,Y;if(d.merge)H=new ha(y.fieldMask),Y=y.fieldTransforms;else if(d.mergeFields){const Re=[];for(const We of d.mergeFields){const bt=Pp(e,We,t);if(!y.contains(bt))throw new Ft(Et.INVALID_ARGUMENT,`Field '${bt}' is specified in your field mask but missing from your input data.`);Np(Re,bt)||Re.push(bt)}H=new ha(Re),Y=y.fieldTransforms.filter(We=>H.covers(We.field))}else H=null,Y=y.fieldTransforms;return new yv(new mt(T),H,Y)}class gc extends Yu{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gc}}function xp(i,e,t){return new pc({Xa:3,uc:e.settings.uc,methodName:i._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class cd extends Yu{_toFieldTransform(e){return new W(e.path,new wu)}isEqual(e){return e instanceof cd}}class Im extends Yu{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=xp(this,e,!0),o=this.cc.map(d=>qu(d,t)),l=new Du(o);return new W(e.path,l)}isEqual(e){return this===e}}class wm extends Yu{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=xp(this,e,!0),o=this.cc.map(d=>qu(d,t)),l=new Cu(o);return new W(e.path,l)}isEqual(e){return this===e}}class Dm extends Yu{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new f(e.M,Pd(e.M,this.hc));return new W(e.path,t)}isEqual(e){return this===e}}function $h(i,e,t,o){const l=i.ac(1,e,t);Op("Data must be an object, but it was:",l,o);const d=[],y=mt.empty();Ss(o,(H,Y)=>{const Re=jh(e,H,t);Y=(0,ot.m9)(Y);const We=l.sc(Re);if(Y instanceof gc)d.push(Re);else{const bt=qu(Y,We);null!=bt&&(d.push(Re),y.set(Re,bt))}});const T=new ha(d);return new Sp(y,T,l.fieldTransforms)}function Uh(i,e,t,o,l,d){const y=i.ac(1,e,t),T=[Pp(e,o,t)],H=[l];if(d.length%2!=0)throw new Ft(Et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let bt=0;bt<d.length;bt+=2)T.push(Pp(e,d[bt])),H.push(d[bt+1]);const Y=[],Re=mt.empty();for(let bt=T.length-1;bt>=0;--bt)if(!Np(Y,T[bt])){const Lt=T[bt];let $t=H[bt];$t=(0,ot.m9)($t);const Cn=y.sc(Lt);if($t instanceof gc)Y.push(Lt);else{const pr=qu($t,Cn);null!=pr&&(Y.push(Lt),Re.set(Lt,pr))}}const We=new ha(Y);return new Sp(Re,We,y.fieldTransforms)}function Mp(i,e,t,o=!1){return qu(t,i.ac(o?4:3,e))}function qu(i,e){if(vv(i=(0,ot.m9)(i)))return Op("Unsupported field value:",e,i),Rp(i,e);if(i instanceof Yu)return function(t,o){if(!Ap(o.Xa))throw o.rc(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.rc(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,o){const l=[];let d=0;for(const y of t){let T=qu(y,o.ic(d));null==T&&(T={nullValue:"NULL_VALUE"}),l.push(T),d++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,ot.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Pd(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Ar.fromDate(t);return{timestampValue:Ul(o.M,l)}}if(t instanceof Ar){const l=new Ar(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ul(o.M,l)}}if(t instanceof fc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ca)return{bytesValue:og(o.M,t._byteString)};if(t instanceof gi){const l=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(l))throw o.rc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Hd(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.rc(`Unsupported field value: ${Oh(t)}`)}(i,e)}function Rp(i,e){const t={};return jo(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(i,(o,l)=>{const d=qu(l,e.tc(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function vv(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ar||i instanceof fc||i instanceof Ca||i instanceof gi||i instanceof Yu)}function Op(i,e,t){if(!vv(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Oh(t);throw e.rc("an object"===o?i+" a custom object":i+" "+o)}var o}function Pp(i,e,t){if((e=(0,ot.m9)(e))instanceof za)return e._internalPath;if("string"==typeof e)return jh(i,e);throw Yi("Field path arguments must be of type string or ",i,!1,void 0,t)}const Cm=new RegExp("[~\\*/\\[\\]]");function jh(i,e,t){if(e.search(Cm)>=0)throw Yi(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new za(...e.split("."))._internalPath}catch(o){throw Yi(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Yi(i,e,t,o,l){const d=o&&!o.isEmpty(),y=void 0!==l;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let H="";return(d||y)&&(H+=" (found",d&&(H+=` in field ${o}`),y&&(H+=` in document ${l}`),H+=")"),new Ft(Et.INVALID_ARGUMENT,T+i+H)}function Np(i,e){return i.some(t=>t.isEqual(e))}class dd{constructor(e,t,o,l,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _v(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _v extends dd{data(){return super.data()}}function hd(i,e){return"string"==typeof e?jh(i,e):e instanceof za?e._internalPath:e._delegate._internalPath}class Al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends dd{constructor(e,t,o,l,d,y){super(e,t,o,l,y),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(hd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class mc extends Wa{data(e={}){return super.data(e)}}class Fo{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new mc(this._firestore,this._userDataWriter,o.key,o,new Al(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ft(Et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(y=>({type:"added",doc:new mc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Al(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>l||3!==y.type).map(y=>{const T=new mc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Al(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let H=-1,Y=-1;return 0!==y.type&&(H=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),1!==y.type&&(d=d.add(y.doc),Y=d.indexOf(y.doc.key)),{type:Ev(y.type),doc:T,oldIndex:H,newIndex:Y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ev(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vn()}}function Tm(i,e){return i instanceof Wa&&e instanceof Wa?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Fo&&e instanceof Fo&&i._firestore===e._firestore&&mm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function kp(i){if(Eu(i)&&0===i.explicitOrderBy.length)throw new Ft(Et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fd{}function cu(i,...e){for(const t of e)i=t._apply(i);return i}class Q_ extends fd{constructor(e,t,o){super(),this.lc=e,this.fc=t,this.dc=o,this.type="where"}_apply(e){const t=Sl(e.firestore),o=function(l,d,y,T,H,Y,Re){let We;if(H.isKeyField()){if("array-contains"===Y||"array-contains-any"===Y)throw new Ft(Et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Y}' queries on documentId().`);if("in"===Y||"not-in"===Y){Hh(Re,Y);const Lt=[];for(const $t of Re)Lt.push(Om(T,l,$t));We={arrayValue:{values:Lt}}}else We=Om(T,l,Re)}else"in"!==Y&&"not-in"!==Y&&"array-contains-any"!==Y||Hh(Re,Y),We=Mp(y,"where",Re,"in"===Y||"not-in"===Y);const bt=wi.create(H,Y,We);return function(Lt,$t){if($t.S()){const pr=bu(Lt);if(null!==pr&&!pr.isEqual($t.field))throw new Ft(Et.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${pr.toString()}' and '${$t.field.toString()}'`);const Oi=Dc(Lt);null!==Oi&&yc(0,$t.field,Oi)}const Cn=function(pr,Oi){for(const ds of pr.filters)if(Oi.indexOf(ds.op)>=0)return ds.op;return null}(Lt,function(pr){switch(pr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($t.op));if(null!==Cn)throw new Ft(Et.INVALID_ARGUMENT,Cn===$t.op?`Invalid query. You cannot use more than one '${$t.op.toString()}' filter.`:`Invalid query. You cannot use '${$t.op.toString()}' filters with '${Cn.toString()}' filters.`)}(l,bt),bt}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Ws(e.firestore,e.converter,function(l,d){const y=l.filters.concat([d]);return new Wo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),y,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}class Fp extends fd{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(o,l,d){if(null!==o.startAt)throw new Ft(Et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ft(Et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new Oo(l,d);return function(T,H){if(null===Dc(T)){const Y=bu(T);null!==Y&&yc(0,Y,H.field)}}(o,y),y}(e._query,this.lc,this._c);return new Ws(e.firestore,e.converter,function(o,l){const d=o.explicitOrderBy.concat([l]);return new Wo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Am extends fd{constructor(e,t,o){super(),this.type=e,this.wc=t,this.mc=o}_apply(e){return new Ws(e.firestore,e.converter,Cc(e._query,this.wc,this.mc))}}class Qo extends fd{constructor(e,t,o){super(),this.type=e,this.gc=t,this.yc=o}_apply(e){const t=Rm(e,this.type,this.gc,this.yc);return new Ws(e.firestore,e.converter,(l=t,new Wo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class Lp extends fd{constructor(e,t,o){super(),this.type=e,this.gc=t,this.yc=o}_apply(e){const t=Rm(e,this.type,this.gc,this.yc);return new Ws(e.firestore,e.converter,(l=t,new Wo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function Rm(i,e,t,o){if(t[0]=(0,ot.m9)(t[0]),t[0]instanceof dd)return function(l,d,y,T,H){if(!T)throw new Ft(Et.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const Y=[];for(const Re of Po(l))if(Re.field.isKeyField())Y.push(ns(d,T.key));else{const We=T.data.field(Re.field);if(fa(We))throw new Ft(Et.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===We){const bt=Re.field.canonicalString();throw new Ft(Et.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${bt}' (used as the orderBy) does not exist.`)}Y.push(We)}return new Ro(Y,H)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=Sl(i.firestore);return function(d,y,T,H,Y,Re){const We=d.explicitOrderBy;if(Y.length>We.length)throw new Ft(Et.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const bt=[];for(let Lt=0;Lt<Y.length;Lt++){const $t=Y[Lt];if(We[Lt].field.isKeyField()){if("string"!=typeof $t)throw new Ft(Et.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof $t}`);if(!cl(d)&&-1!==$t.indexOf("/"))throw new Ft(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${$t}' contains a slash.`);const Cn=d.path.child(Or.fromString($t));if(!fn.isDocumentKey(Cn))throw new Ft(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${Cn}' is not because it contains an odd number of segments.`);const pr=new fn(Cn);bt.push(ns(y,pr))}else{const Cn=Mp(T,H,$t);bt.push(Cn)}}return new Ro(bt,Re)}(i._query,i.firestore._databaseId,l,e,t,o)}}function Om(i,e,t){if("string"==typeof(t=(0,ot.m9)(t))){if(""===t)throw new Ft(Et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cl(e)&&-1!==t.indexOf("/"))throw new Ft(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Or.fromString(t));if(!fn.isDocumentKey(o))throw new Ft(Et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ns(i,new fn(o))}if(t instanceof gi)return ns(i,t._key);throw new Ft(Et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(t)}.`)}function Hh(i,e){if(!Array.isArray(i)||0===i.length)throw new Ft(Et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Ft(Et.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function yc(i,e,t){if(!t.isEqual(e))throw new Ft(Et.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Vp{convertValue(e,t="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vn()}}convertObject(e,t){const o={};return Ss(e.fields,(l,d)=>{o[l]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new fc(pi(e.latitude),pi(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ii(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Co(e));default:return null}}convertTimestamp(e){const t=fo(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Or.fromString(e);Vn(_y(o));const l=new po(o.get(1),o.get(3)),d=new fn(o.popFirst(5));return l.isEqual(t)||ri(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function pd(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class wv extends Vp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gi(this.firestore,null,t)}}class Bp{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sl(e)}set(e,t,o){this._verifyNotCommitted();const l=du(e,this._firestore),d=pd(l.converter,t,o),y=ld(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,o);return this._mutations.push(y.toMutation(l._key,At.none())),this}update(e,t,o,...l){this._verifyNotCommitted();const d=du(e,this._firestore);let y;return y="string"==typeof(t=(0,ot.m9)(t))||t instanceof za?Uh(this._dataReader,"WriteBatch.update",d._key,t,o,l):$h(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(y.toMutation(d._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=du(e,this._firestore);return this._mutations=this._mutations.concat(new Ba(t._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ft(Et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function du(i,e){if((i=(0,ot.m9)(i)).firestore!==e)throw new Ft(Et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class xl extends Vp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gi(this.firestore,null,t)}}function Up(i,e,t){i=Lr(i,gi);const o=Lr(i.firestore,mi),l=pd(i.converter,e,t);return Ml(o,[ld(Sl(o),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,At.none())])}function jp(i,e,t,...o){i=Lr(i,gi);const l=Lr(i.firestore,mi),d=Sl(l);let y;return y="string"==typeof(e=(0,ot.m9)(e))||e instanceof za?Uh(d,"updateDoc",i._key,e,t,o):$h(d,"updateDoc",i._key,e),Ml(l,[y.toMutation(i._key,At.exists(!0))])}function Hp(i,...e){var t,o,l;i=(0,ot.m9)(i);let d={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||Nh(e[y])||(d=e[y],y++);const T={includeMetadataChanges:d.includeMetadataChanges};if(Nh(e[y])){const We=e[y];e[y]=null===(t=We.next)||void 0===t?void 0:t.bind(We),e[y+1]=null===(o=We.error)||void 0===o?void 0:o.bind(We),e[y+2]=null===(l=We.complete)||void 0===l?void 0:l.bind(We)}let H,Y,Re;if(i instanceof gi)Y=Lr(i.firestore,mi),Re=ll(i._key.path),H={next:We=>{e[y]&&e[y](Gp(Y,i,We))},error:e[y+1],complete:e[y+2]};else{const We=Lr(i,Ws);Y=Lr(We.firestore,mi),Re=We._query;const bt=new xl(Y);H={next:Lt=>{e[y]&&e[y](new Fo(Y,bt,We,Lt))},error:e[y+1],complete:e[y+2]},kp(i._query)}return function(We,bt,Lt,$t){const Cn=new ud($t),pr=new tp(bt,Cn,Lt);return We.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return gh(yield hc(We),pr)})),()=>{Cn.Ia(),We.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return mh(yield hc(We),pr)}))}}(Ri(Y),Re,T,H)}function Ml(i,e){return function(t,o){const l=new Gi;return t.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function iv(i,e,t){return tm.apply(this,arguments)}(yield Ah(t),o,l)})),l.promise}(Ri(i),e)}function Gp(i,e,t){const o=t.docs.get(e._key),l=new xl(i);return new Wa(i,l,e._key,o,new Al(t.hasPendingWrites,t.fromCache),e.converter)}class Dv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sl(e)}get(e){const t=du(e,this._firestore),o=new wv(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return vn();const d=l[0];if(d.isFoundDocument())return new dd(this._firestore,o,d.key,d,t.converter);if(d.isNoDocument())return new dd(this._firestore,o,t._key,null,t.converter);throw vn()})}set(e,t,o){const l=du(e,this._firestore),d=pd(l.converter,t,o),y=ld(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,o);return this._transaction.set(l._key,y),this}update(e,t,o,...l){const d=du(e,this._firestore);let y;return y="string"==typeof(t=(0,ot.m9)(t))||t instanceof za?Uh(this._dataReader,"Transaction.update",d._key,t,o,l):$h(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,y),this}delete(e){const t=du(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=du(e,this._firestore),o=new xl(this._firestore);return super.get(e).then(l=>new Wa(this._firestore,o,t._key,l._document,new Al(!1,!1),t.converter))}}function zp(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ft("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function $m(){if("undefined"==typeof Uint8Array)throw new Ft("unimplemented","Uint8Arrays are not available in this environment.")}function Um(){if(!function Td(){return"undefined"!=typeof atob}())throw new Ft("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Ns=Ye.SDK_VERSION,(0,Ye._registerComponent)(new be.wA("firestore",(t,{options:o})=>{const l=t.getProvider("app").getImmediate(),d=new mi(l,new O(t.getProvider("auth-internal")),new He(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC")),(0,Ye.registerVersion)(ho,"3.4.8",i),(0,Ye.registerVersion)(ho,"3.4.8","esm2017")}();class gd{constructor(e){this._delegate=e}static fromBase64String(e){return Um(),new gd(Ca.fromBase64String(e))}static fromUint8Array(e){return $m(),new gd(Ca.fromUint8Array(e))}toBase64(){return Um(),this._delegate.toBase64()}toUint8Array(){return $m(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Wp(i){return function jm(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class Hm{enableIndexedDbPersistence(e,t){return function Dp(i,e){Bh(i=Lr(i,mi));const t=Ri(i),o=i._freezeSettings(),l=new zu;return vm(t,l,new Dl(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Cp(i){Bh(i=Lr(i,mi));const e=Ri(i),t=i._freezeSettings(),o=new zu;return vm(e,o,new dc(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function kh(i){if(i._initialized&&!i._terminated)throw new Ft(Et.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{yield(t=(0,te.Z)(function*(o){if(!_a.vt())return Promise.resolve();const l=o+"main";yield _a.delete(l)}),function(o){return t.apply(this,arguments)})(Pg(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Yp{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof po||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ts("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function gv(i,e,t,o={}){var l;const d=(i=Lr(i,Wu))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&ts("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let y,T;if("string"==typeof o.mockUserToken)y=o.mockUserToken,T=Si.MOCK_USER;else{y=(0,ot.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new Ft(Et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Si(H)}i._authCredentials=new _(new D(y,T))}}(this._delegate,e,t,o)}enableNetwork(){return function Tp(i){return function dv(i){return i.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield yp(i),t=yield cm(i);return e.setNetworkEnabled(!0),function(o){const l=dn(o);return l.fu.delete(0),rc(l)}(t)}))}(Ri(i=Lr(i,mi)))}(this._delegate)}disableNetwork(){return function Z_(i){return function hv(i){return i.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield yp(i),t=yield cm(i);return e.setNetworkEnabled(!1),(o=(0,te.Z)(function*(l){const d=dn(l);d.fu.add(0),yield io(d),d.wu.set("Offline")}),function(l){return o.apply(this,arguments)})(t);var o}))}(Ri(i=Lr(i,mi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,pv("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Fh(i){return function(e){const t=new Gi;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function sm(i,e){return Eh.apply(this,arguments)}(yield Ah(e),t)})),t.promise}(Ri(i=Lr(i,mi)))}(this._delegate)}onSnapshotsInSync(e){return function Vm(i,e){return function fv(i,e){const t=new ud(e);return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return o=yield hc(i),l=t,dn(o).Eu.add(l),void l.next();var o,l})),()=>{t.Ia(),i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return o=yield hc(i),l=t,void dn(o).Eu.delete(l);var o,l}))}}(Ri(i=Lr(i,mi)),Nh(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ft("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ed(this,gm(this._delegate,e))}catch(t){throw Ys(t,"collection()","Firestore.collection()")}}doc(e){try{return new Lo(this,Ph(this._delegate,e))}catch(t){throw Ys(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new cs(this,function mv(i,e){if(i=Lr(i,Wu),Rh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ft(Et.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ws(i,null,(t=e,new Wo(Or.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ys(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Cv(i,e){return function z_(i,e){const t=new Gi;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){const o=yield(l=i,Th(l).then(d=>d.datastore));var l;new um(i.asyncQueue,o,e,t).run()})),t.promise}(Ri(i=Lr(i,mi)),t=>e(new Dv(i,t)))}(this._delegate,t=>e(new qp(this,t)))}batch(){return Ri(this._delegate),new Kp(new Bp(this._delegate,e=>Ml(this._delegate,e)))}loadBundle(e){return function Lh(i,e){const t=Ri(i=Lr(i,mi)),o=new Ip;return function W_(i,e,t,o){const l=function(d,y){let T;return T="string"==typeof d?(new TextEncoder).encode(d):d,H=function(H,Y){if(H instanceof Uint8Array)return Cl(H,Y);if(H instanceof ArrayBuffer)return Cl(new Uint8Array(H),Y);if(H instanceof ReadableStream)return H.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(T),new om(H,y);var H}(t,Kc(e));i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){!function cc(i,e,t){const o=dn(i);var l;(l=(0,te.Z)(function*(d,y,T){try{const H=yield y.getMetadata();if(yield function(bt,Lt){const $t=dn(bt),Cn=xs(Lt.createTime);return $t.persistence.runTransaction("hasNewerBundle","readonly",pr=>$t._s.getBundleMetadata(pr,Lt.id)).then(pr=>!!pr&&pr.createTime.compareTo(Cn)>=0)}(d.localStore,H))return yield y.close(),T._completeWith({taskState:"Success",documentsLoaded:(bt=H).totalDocuments,bytesLoaded:bt.totalBytes,totalDocuments:bt.totalDocuments,totalBytes:bt.totalBytes}),Promise.resolve(new Set);T._updateProgress(yh(H));const Y=new wa(H,d.localStore,y.M);let Re=yield y.da();for(;Re;){const bt=yield Y.ku(Re);bt&&T._updateProgress(bt),Re=yield y.da()}const We=yield Y.complete();return yield lu(d,We.Fu,void 0),yield function(bt,Lt){const $t=dn(bt);return $t.persistence.runTransaction("Save bundle","readwrite",Cn=>$t._s.saveBundleMetadata(Cn,Lt))}(d.localStore,H),T._completeWith(We.progress),Promise.resolve(We.Ou)}catch(H){return ts("SyncEngine",`Loading bundle failed with ${H}`),T._failWith(H),Promise.resolve(new Set)}var bt}),function(d,y,T){return l.apply(this,arguments)})(o,e,t).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Ah(i),l,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Vh(i,e){return function Y_(i,e){return i.asyncQueue.enqueue((0,te.Z)(function*(){return function(t,o){const l=dn(t);return l.persistence.runTransaction("Get named query","readonly",d=>l._s.getNamedQuery(d,o))}(yield vp(i),e)}))}(Ri(i=Lr(i,mi)),e).then(t=>t?new Ws(i,null,t.query):null)}(this._delegate,e).then(t=>t?new cs(this,t):null)}}class md extends Vp{constructor(e){super(),this.firestore=e}convertBytes(e){return new gd(new Ca(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Lo.forKey(t,this.firestore,null)}}class qp{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new md(e)}get(e){const t=Xu(e);return this._delegate.get(t).then(o=>new yd(this._firestore,new Wa(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const l=Xu(e);return o?(zp("Transaction.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const d=Xu(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...l),this}delete(e){const t=Xu(e);return this._delegate.delete(t),this}}class Kp{constructor(e){this._delegate=e}set(e,t,o){const l=Xu(e);return o?(zp("WriteBatch.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const d=Xu(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...l),this}delete(e){const t=Xu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ku{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new mc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vd(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Ku.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let d=l.get(t);return d||(d=new Ku(e,new md(e),t),l.set(t,d)),d}}Ku.INSTANCES=new WeakMap;class Lo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new md(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Ft("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Lo(t,new gi(t._delegate,o,new fn(e)))}static forKey(e,t,o){return new Lo(t,new gi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Ed(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ed(this.firestore,gm(this._delegate,e))}catch(t){throw Ys(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ot.m9)(e))instanceof gi&&bp(this._delegate,e)}set(e,t){t=zp("DocumentReference.set",t);try{return t?Up(this._delegate,e,t):Up(this._delegate,e)}catch(o){throw Ys(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?jp(this._delegate,e):jp(this._delegate,e,t,...o)}catch(l){throw Ys(l,"updateDoc()","DocumentReference.update()")}}delete(){return function Fm(i){return Ml(Lr(i.firestore,mi),[new Ba(i._key,At.none())])}(this._delegate)}onSnapshot(...e){const t=Zp(e),o=Zu(e,l=>new yd(this.firestore,new Wa(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Hp(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Pm(i){i=Lr(i,gi);const e=Lr(i.firestore,mi),t=Ri(e),o=new xl(e);return function G_(i,e){const t=new Gi;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(o=(0,te.Z)(function*(l,d,y){try{const T=yield function(H,Y){const Re=dn(H);return Re.persistence.runTransaction("read document","readonly",We=>Re.ci.Ls(We,Y))}(l,d);T.isFoundDocument()?y.resolve(T):T.isNoDocument()?y.resolve(null):y.reject(new Ft(Et.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(T){const H=_l(T,`Failed to get document '${d} from cache`);y.reject(H)}}),function(l,d,y){return o.apply(this,arguments)})(yield vp(i),e,t);var o})),t.promise}(t,i._key).then(l=>new Wa(e,o,i._key,l,new Al(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Nm(i){i=Lr(i,gi);const e=Lr(i.firestore,mi);return dm(Ri(e),i._key,{source:"server"}).then(t=>Gp(e,i,t))}(this._delegate):function Gh(i){i=Lr(i,gi);const e=Lr(i.firestore,mi);return dm(Ri(e),i._key).then(t=>Gp(e,i,t))}(this._delegate),t.then(o=>new yd(this.firestore,new Wa(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Lo(this.firestore,this._delegate.withConverter(e?Ku.getInstance(this.firestore,e):null))}}function Ys(i,e,t){return i.message=i.message.replace(e,t),i}function Zp(i){for(const e of i)if("object"==typeof e&&!Wp(e))return e;return{}}function Zu(i,e){var t,o;let l;return l=Wp(i[0])?i[0]:Wp(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(e(d))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class yd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Lo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Tm(this._delegate,e._delegate)}}class vd extends yd{data(e){const t=this._delegate.data(e);return function Uo(i,e){i||vn()}(void 0!==t),t}}class cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new md(e)}where(e,t,o){try{return new cs(this.firestore,cu(this._delegate,function Sm(i,e,t){const o=e,l=hd("where",i);return new Q_(l,o,t)}(e,t,o)))}catch(l){throw Ys(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new cs(this.firestore,cu(this._delegate,function Ta(i,e="asc"){const t=e,o=hd("orderBy",i);return new Fp(o,t)}(e,t)))}catch(o){throw Ys(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new cs(this.firestore,cu(this._delegate,function xm(i){return pm("limit",i),new Am("limit",i,"F")}(e)))}catch(t){throw Ys(t,"limit()","Query.limit()")}}limitToLast(e){try{return new cs(this.firestore,cu(this._delegate,function Ya(i){return pm("limitToLast",i),new Am("limitToLast",i,"L")}(e)))}catch(t){throw Ys(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new cs(this.firestore,cu(this._delegate,function Sa(...i){return new Qo("startAt",i,!0)}(...e)))}catch(t){throw Ys(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new cs(this.firestore,cu(this._delegate,function Mm(...i){return new Qo("startAfter",i,!1)}(...e)))}catch(t){throw Ys(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new cs(this.firestore,cu(this._delegate,function bv(...i){return new Lp("endBefore",i,!1)}(...e)))}catch(t){throw Ys(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new cs(this.firestore,cu(this._delegate,function Iv(...i){return new Lp("endAt",i,!0)}(...e)))}catch(t){throw Ys(t,"endAt()","Query.endAt()")}}isEqual(e){return mm(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function zh(i){i=Lr(i,Ws);const e=Lr(i.firestore,mi),t=Ri(e),o=new xl(e);return function _p(i,e){const t=new Gi;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(o=(0,te.Z)(function*(l,d,y){try{const T=yield zc(l,d,!0),H=new ip(d,T.li),Y=H.Gu(T.documents),Re=H.applyChanges(Y,!1);y.resolve(Re.snapshot)}catch(T){const H=_l(T,`Failed to execute query '${d} against cache`);y.reject(H)}}),function(l,d,y){return o.apply(this,arguments)})(yield vp(i),e,t);var o})),t.promise}(t,i._query).then(l=>new Fo(e,o,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function km(i){i=Lr(i,Ws);const e=Lr(i.firestore,mi),t=Ri(e),o=new xl(e);return Mh(t,i._query,{source:"server"}).then(l=>new Fo(e,o,i,l))}(this._delegate):function $p(i){i=Lr(i,Ws);const e=Lr(i.firestore,mi),t=Ri(e),o=new xl(e);return kp(i._query),Mh(t,i._query).then(l=>new Fo(e,o,i,l))}(this._delegate),t.then(o=>new _d(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Zp(e),o=Zu(e,l=>new _d(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Hp(this._delegate,t,o)}withConverter(e){return new cs(this.firestore,this._delegate.withConverter(e?Ku.getInstance(this.firestore,e):null))}}class t0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new vd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _d{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new t0(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new vd(this._firestore,o))})}isEqual(e){return Tm(this._delegate,e._delegate)}}class Ed extends cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Lo(this.firestore,e):null}doc(e){try{return new Lo(this.firestore,void 0===e?Ph(this._delegate):Ph(this._delegate,e))}catch(t){throw Ys(t,"doc()","CollectionReference.doc()")}}add(e){return function Lm(i,e){const t=Lr(i.firestore,mi),o=Ph(i),l=pd(i.converter,e);return Ml(t,[ld(Sl(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,At.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new Lo(this.firestore,t))}isEqual(e){return bp(this._delegate,e._delegate)}withConverter(e){return new Ed(this.firestore,this._delegate.withConverter(e?Ku.getInstance(this.firestore,e):null))}}function Xu(i){return Lr(i,gi)}class Wh{constructor(...e){this._delegate=new za(...e)}static documentId(){return new Wh(zi.keyField().canonicalString())}isEqual(e){return(e=(0,ot.m9)(e))instanceof za&&this._delegate._internalPath.isEqual(e._internalPath)}}class vc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Sv(){return new cd("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new vc(e)}static delete(){const e=function Tv(){return new gc("deleteField")}();return e._methodName="FieldValue.delete",new vc(e)}static arrayUnion(...e){const t=function Av(...i){return new Im("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new vc(t)}static arrayRemove(...e){const t=function xv(...i){return new wm("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new vc(t)}static increment(e){const t=function Mv(i){return new Dm("increment",i)}(e);return t._methodName="FieldValue.increment",new vc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const nr={Firestore:Yp,GeoPoint:fc,Timestamp:Ar,Blob:gd,Transaction:qp,WriteBatch:Kp,DocumentReference:Lo,DocumentSnapshot:yd,Query:cs,QueryDocumentSnapshot:vd,QuerySnapshot:_d,CollectionReference:Ed,FieldPath:Wh,FieldValue:vc,setLogLevel:function Gm(i){!function Fa(i){ys.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Nv(i){(function Pv(i,e){i.INTERNAL.registerComponent(new be.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},nr)))})(i,(e,t)=>new Yp(e,t,new Hm)),i.registerVersion("@firebase/firestore-compat","0.1.17")}(Je.Z);var Qu=P(4941),Yh=P(7128),kv=P(127);function bd(i,e){return function qh(i,e=G.z){return new $.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function zm(i,e){return bd(i,e).pipe((0,ue.U)(t=>({payload:t,type:"query"})))}function Id(i,e){return zm(i,e).pipe((0,re.O)(void 0),Ce(),(0,ue.U)(([t,o])=>{const l=o.payload.docChanges(),d=l.map(y=>({type:y.type,payload:y}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((y,T)=>{const H=l.find(Re=>Re.doc.ref.isEqual(y.ref)),Y=null==t?void 0:t.payload.docs.find(Re=>Re.ref.isEqual(y.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(y.metadata)||!H&&Y&&JSON.stringify(Y.metadata)===JSON.stringify(y.metadata)||d.push({type:"modified",payload:{oldIndex:T,newIndex:T,type:"modified",doc:y}})}),d}))}function Wm(i,e,t){return Id(i,t).pipe((0,Q.R)((o,l)=>function Fv(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function Ym(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Kh(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Kh(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Kh(i,e.oldIndex,1)}return i}(i,o))}),i}(o,l.map(d=>d.payload),e),[]),(0,Pe.x)(),(0,ue.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function Kh(i,e,t,...o){const l=i.slice();return l.splice(e,t,...o),l}function Xp(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Qp{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Id(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ue.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,re.O)(void 0),Ce(),(0,rt.h)(([o,l])=>l.length>0||!o),(0,ue.U)(([o,l])=>l),se.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Q.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Xp(e);return Wm(this.query,t,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return zm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),se.iC)}get(e){return(0,xe.D)(this.query.get(e)).pipe(se.iC)}add(e){return this.ref.add(e)}doc(e){return new qm(this.ref.doc(e),this.afs)}}class qm{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:l,query:d}=Zm(o,t);return new Qp(l,d,this.afs)}snapshotChanges(){return function qi(i,e){return bd(i,e).pipe((0,re.O)(void 0),Ce(),(0,ue.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ue.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,xe.D)(this.ref.get(e)).pipe(se.iC)}}class Lv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Id(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,rt.h)(t=>t.length>0),se.iC):Id(this.query,this.afs.schedulers.outsideAngular).pipe(se.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Q.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Xp(e);return Wm(this.query,t,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return zm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(o=>o.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),se.iC)}get(e){return(0,xe.D)(this.query.get(e)).pipe(se.iC)}}const Km=new a.OlP("angularfire2.enableFirestorePersistence"),_c=new a.OlP("angularfire2.firestore.persistenceSettings"),Vv=new a.OlP("angularfire2.firestore.settings"),Bv=new a.OlP("angularfire2.firestore.use-emulator");function Zm(i,e=(t=>t)){return{query:e(i),ref:i}}let wd=(()=>{class i{constructor(t,o,l,d,y,T,H,Y,Re,We,bt,Lt,$t,Cn,pr,Oi,ds){this.schedulers=H;const Jr=(0,fe.on)(t,T,o),Bi=Re;We&&(0,Qu.nw)(Jr,T,bt,$t,Cn,pr,Lt,Oi),[this.firestore,this.persistenceEnabled$]=(0,fe.cc)(`${Jr.name}.firestore`,"AngularFirestore",Jr.name,()=>{const Ci=T.runOutsideAngular(()=>Jr.firestore());if(d&&Ci.settings(d),Bi&&Ci.useEmulator(...Bi),l&&!(0,ve.PM)(y)){const $i=()=>{try{return(0,xe.D)(Ci.enablePersistence(Y||void 0).then(()=>!0,()=>!1))}catch(Vs){return"undefined"!=typeof console&&console.warn(Vs),(0,we.of)(!1)}};return[Ci,T.runOutsideAngular($i)]}return[Ci,(0,we.of)(!1)]},[d,Bi,l])}collection(t,o){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:y}=Zm(l,o),T=this.schedulers.ngZone.run(()=>d);return new Qp(T,y,this)}collectionGroup(t,o){const l=o||(y=>y),d=this.firestore.collectionGroup(t);return new Lv(l(d),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>o);return new qm(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(fe.Dh),a.LFG(fe.xv,8),a.LFG(Km,8),a.LFG(Vv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(se.HU),a.LFG(_c,8),a.LFG(Bv,8),a.LFG(Qu.zQ,8),a.LFG(Qu.Qv,8),a.LFG(Qu.L6,8),a.LFG(Qu._Q,8),a.LFG(Qu.rT,8),a.LFG(Qu.lh,8),a.LFG(Qu.f7,8),a.LFG(Yh.nm,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Xm=(()=>{class i{constructor(){kv.Z.registerVersion("angularfire",se.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Km,useValue:!0},{provide:_c,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[wd]}),i})()},2011:(Xt,tt,P)=>{"use strict";P.d(tt,{hO:()=>Q,xv:()=>ye,Dh:()=>Ce,GT:()=>se,cc:()=>Pe,on:()=>oe,pX:()=>we});var a=P(6435),G=P(127),$=P(6351);Xt=P.hmd(Xt);const xe=["ngOnDestroy"],we=(ge,Je,te,Ye={})=>new Proxy(ge,{get:(be,je)=>te.runOutsideAngular(()=>{var ot;if(ge[je])return(null===(ot=null==Ye?void 0:Ye.spy)||void 0===ot?void 0:ot.get)&&Ye.spy.get(je,ge[je]),ge[je];if(xe.indexOf(je)>-1)return()=>{};const Le=Je.toPromise().then(Ct=>{const ce=Ct&&Ct[je];return"function"==typeof ce?ce.bind(Ct):ce&&ce.then?ce.then(le=>te.run(()=>le)):te.run(()=>ce)});return new Proxy(()=>{},{get:(Ct,ce)=>Le[ce],apply:(Ct,ce,le)=>Le.then(he=>{var Ae;const ze=he&&he(...le);return(null===(Ae=null==Ye?void 0:Ye.spy)||void 0===Ae?void 0:Ae.apply)&&Ye.spy.apply(je,le,ze),ze})})})}),se=(ge,Je)=>{Je.forEach(te=>{Object.getOwnPropertyNames(te.prototype||te).forEach(Ye=>{Object.defineProperty(ge.prototype,Ye,Object.getOwnPropertyDescriptor(te.prototype||te,Ye))})})};class Te{constructor(Je){return Je}}const Ce=new a.OlP("angularfire2.app.options"),ye=new a.OlP("angularfire2.app.name");function oe(ge,Je,te){const be="object"==typeof te&&te||{};be.name=be.name||"string"==typeof te&&te||"[DEFAULT]";const ot=G.Z.apps.filter(Le=>Le&&Le.name===be.name)[0]||Je.runOutsideAngular(()=>G.Z.initializeApp(ge,be));try{JSON.stringify(ge)!==JSON.stringify(ot.options)&&re("error",`${ot.name} Firebase App already initialized with different options${Xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Le){}return new Te(ot)}const re=(ge,...Je)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[ge](...Je)},ue={provide:Te,useFactory:oe,deps:[Ce,a.R0b,[new a.FiY,ye]]};let Q=(()=>{class ge{constructor(te){G.Z.registerVersion("angularfire",$.q4.full,"core"),G.Z.registerVersion("angularfire",$.q4.full,"app-compat"),G.Z.registerVersion("angular",a.q4F.full,te.toString())}static initializeApp(te,Ye){return{ngModule:ge,providers:[{provide:Ce,useValue:te},{provide:ye,useValue:Ye}]}}}return ge.\u0275fac=function(te){return new(te||ge)(a.LFG(a.Lbi))},ge.\u0275mod=a.oAB({type:ge}),ge.\u0275inj=a.cJS({providers:[ue]}),ge})();function Pe(ge,Je,te,Ye,be){const[,je,ot]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===ge)||[];if(je)return function rt(ge,Je){try{return ge.toString()===Je.toString()}catch(te){return ge===Je}}(be,ot)||(ve("error",`${Je} was already initialized on the ${te} Firebase App with different settings.${fe?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:be,was:ot})),je;{const Le=Ye();return globalThis.\u0275AngularfireInstanceCache.push([ge,Le,be]),Le}}const fe=!!Xt.hot,ve=(ge,...Je)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[ge](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Xt,tt,P)=>{"use strict";P.d(tt,{q4:()=>ks,iC:()=>pa,HU:()=>Ec,vb:()=>So,JM:()=>Ho,u3:()=>ga});var a=P(6435),G=P(5867),$=P(5861),xe=P(9681),we=P(2090),se=P(4859),Te=P(1877);const Ce="@firebase/installations",re="w:0.5.8",ue="FIS_v2",ge=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(x){return x instanceof we.ZR&&x.code.includes("request-failed")}function te({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Ye(x){return{token:x.token,requestStatus:2,expiresIn:le(x.expiresIn),creationTime:Date.now()}}function be(x,V){return je.apply(this,arguments)}function je(){return(je=(0,$.Z)(function*(x,V){const ke=(yield V.json()).error;return ge.create("request-failed",{requestName:x,serverCode:ke.code,serverMessage:ke.message,serverStatus:ke.status})})).apply(this,arguments)}function ot({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Le(x,{refreshToken:V}){const ne=ot(x);return ne.append("Authorization",function he(x){return`${ue} ${x}`}(V)),ne}function Ct(x){return ce.apply(this,arguments)}function ce(){return(ce=(0,$.Z)(function*(x){const V=yield x();return V.status>=500&&V.status<600?x():V})).apply(this,arguments)}function le(x){return Number(x.replace("s","000"))}function Ae(x,V){return ze.apply(this,arguments)}function ze(){return(ze=(0,$.Z)(function*({appConfig:x,heartbeatServiceProvider:V},{fid:ne}){const ke=te(x),st=ot(x),mt=V.getImmediate({optional:!0});if(mt){const rr=yield mt.getHeartbeatsHeader();rr&&st.append("x-firebase-client",rr)}const Jt={method:"POST",headers:st,body:JSON.stringify({fid:ne,authVersion:ue,appId:x.appId,sdkVersion:re})},Jn=yield Ct(()=>fetch(ke,Jt));if(Jn.ok){const rr=yield Jn.json();return{fid:rr.fid||ne,registrationStatus:2,refreshToken:rr.refreshToken,authToken:Ye(rr.authToken)}}throw yield be("Create Installation",Jn)})).apply(this,arguments)}function Be(x){return new Promise(V=>{setTimeout(V,x)})}const Gt=/^[cdef][\w-]{21}$/;function Qe(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const ne=function Xe(x){return function Rt(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Gt.test(ne)?ne:""}catch(x){return""}}function qe(x){return`${x.appName}!${x.appId}`}const Ze=new Map;function et(x,V){const ne=qe(x);dt(ne,V),function Ot(x,V){const ne=function on(){return!hn&&"BroadcastChannel"in self&&(hn=new BroadcastChannel("[Firebase] FID Change"),hn.onmessage=x=>{dt(x.data.key,x.data.fid)}),hn}();ne&&ne.postMessage({key:x,fid:V}),function zt(){0===Ze.size&&hn&&(hn.close(),hn=null)}()}(ne,V)}function dt(x,V){const ne=Ze.get(x);if(ne)for(const ke of ne)ke(V)}let hn=null;const Pn="firebase-installations-store";let Nn=null;function Gn(){return Nn||(Nn=(0,we.X3)("firebase-installations-database",1,(x,V)=>{0===V&&x.createObjectStore(Pn)})),Nn}function pn(x,V){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,$.Z)(function*(x,V){const ne=qe(x),st=(yield Gn()).transaction(Pn,"readwrite"),mt=st.objectStore(Pn),Kt=yield mt.get(ne);return yield mt.put(V,ne),yield st.complete,(!Kt||Kt.fid!==V.fid)&&et(x,V.fid),V})).apply(this,arguments)}function Bn(x){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,$.Z)(function*(x){const V=qe(x),ke=(yield Gn()).transaction(Pn,"readwrite");yield ke.objectStore(Pn).delete(V),yield ke.complete})).apply(this,arguments)}function wn(x,V){return tn.apply(this,arguments)}function tn(){return(tn=(0,$.Z)(function*(x,V){const ne=qe(x),st=(yield Gn()).transaction(Pn,"readwrite"),mt=st.objectStore(Pn),Kt=yield mt.get(ne),Jt=V(Kt);return void 0===Jt?yield mt.delete(ne):yield mt.put(Jt,ne),yield st.complete,Jt&&(!Kt||Kt.fid!==Jt.fid)&&et(x,Jt.fid),Jt})).apply(this,arguments)}function qn(x){return xr.apply(this,arguments)}function xr(){return(xr=(0,$.Z)(function*(x){let V;const ne=yield wn(x.appConfig,ke=>{const st=hr(ke),mt=Tr(x,st);return V=mt.registrationPromise,mt.installationEntry});return""===ne.fid?{installationEntry:yield V}:{installationEntry:ne,registrationPromise:V}})).apply(this,arguments)}function hr(x){return Kn(x||{fid:Qe(),registrationStatus:0})}function Tr(x,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(ge.create("app-offline"))};const ne={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},ke=function kn(x,V){return en.apply(this,arguments)}(x,ne);return{installationEntry:ne,registrationPromise:ke}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:Yt(x)}:{installationEntry:V}}function en(){return(en=(0,$.Z)(function*(x,V){try{const ne=yield Ae(x,V);return pn(x.appConfig,ne)}catch(ne){throw Je(ne)&&409===ne.customData.serverCode?yield Bn(x.appConfig):yield pn(x.appConfig,{fid:V.fid,registrationStatus:0}),ne}})).apply(this,arguments)}function Yt(x){return wr.apply(this,arguments)}function wr(){return(wr=(0,$.Z)(function*(x){let V=yield Ur(x.appConfig);for(;1===V.registrationStatus;)yield Be(100),V=yield Ur(x.appConfig);if(0===V.registrationStatus){const{installationEntry:ne,registrationPromise:ke}=yield qn(x);return ke||ne}return V})).apply(this,arguments)}function Ur(x){return wn(x,V=>{if(!V)throw ge.create("installation-not-found");return Kn(V)})}function Kn(x){return function Pr(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function ir(x,V){return ln.apply(this,arguments)}function ln(){return(ln=(0,$.Z)(function*({appConfig:x,heartbeatServiceProvider:V},ne){const ke=sr(x,ne),st=Le(x,ne),mt=V.getImmediate({optional:!0});if(mt){const rr=yield mt.getHeartbeatsHeader();rr&&st.append("x-firebase-client",rr)}const Jt={method:"POST",headers:st,body:JSON.stringify({installation:{sdkVersion:re,appId:x.appId}})},Jn=yield Ct(()=>fetch(ke,Jt));if(Jn.ok)return Ye(yield Jn.json());throw yield be("Generate Auth Token",Jn)})).apply(this,arguments)}function sr(x,{fid:V}){return`${te(x)}/${V}/authTokens:generate`}function Mn(x){return zn.apply(this,arguments)}function zn(){return(zn=(0,$.Z)(function*(x,V=!1){let ne;const ke=yield wn(x.appConfig,mt=>{if(!Qt(mt))throw ge.create("not-registered");const Kt=mt.authToken;if(!V&&Fe(Kt))return mt;if(1===Kt.requestStatus)return ne=qt(x,V),mt;{if(!navigator.onLine)throw ge.create("app-offline");const Jt=$e(mt);return ne=mn(x,Jt),Jt}});return ne?yield ne:ke.authToken})).apply(this,arguments)}function qt(x,V){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,$.Z)(function*(x,V){let ne=yield Pt(x.appConfig);for(;1===ne.authToken.requestStatus;)yield Be(100),ne=yield Pt(x.appConfig);const ke=ne.authToken;return 0===ke.requestStatus?Mn(x,V):ke})).apply(this,arguments)}function Pt(x){return wn(x,V=>{if(!Qt(V))throw ge.create("not-registered");return function nt(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function mn(x,V){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,$.Z)(function*(x,V){try{const ne=yield ir(x,V),ke=Object.assign(Object.assign({},V),{authToken:ne});return yield pn(x.appConfig,ke),ne}catch(ne){if(!Je(ne)||401!==ne.customData.serverCode&&404!==ne.customData.serverCode){const ke=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield pn(x.appConfig,ke)}else yield Bn(x.appConfig);throw ne}})).apply(this,arguments)}function Qt(x){return void 0!==x&&2===x.registrationStatus}function Fe(x){return 2===x.requestStatus&&!function _e(x){const V=Date.now();return V<x.creationTime||x.creationTime+x.expiresIn<V+36e5}(x)}function $e(x){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:V})}function me(){return(me=(0,$.Z)(function*(x){const V=x,{installationEntry:ne,registrationPromise:ke}=yield qn(V);return ke?ke.catch(console.error):Mn(V).catch(console.error),ne.fid})).apply(this,arguments)}function it(){return(it=(0,$.Z)(function*(x,V=!1){const ne=x;return yield Nt(ne),(yield Mn(ne,V)).token})).apply(this,arguments)}function Nt(x){return cn.apply(this,arguments)}function cn(){return(cn=(0,$.Z)(function*(x){const{registrationPromise:V}=yield qn(x);V&&(yield V)})).apply(this,arguments)}function Hr(x){return ge.create("missing-app-config-values",{valueName:x})}const Dr="installations",Wn=x=>{const V=x.getProvider("app").getImmediate(),ne=function Sr(x){if(!x||!x.options)throw Hr("App Configuration");if(!x.name)throw Hr("App Name");const V=["projectId","apiKey","appId"];for(const ne of V)if(!x.options[ne])throw Hr(ne);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(V);return{app:V,appConfig:ne,heartbeatServiceProvider:(0,xe._getProvider)(V,"heartbeat"),_delete:()=>Promise.resolve()}},dr=x=>{const V=x.getProvider("app").getImmediate(),ne=(0,xe._getProvider)(V,Dr).getImmediate();return{getId:()=>function ae(x){return me.apply(this,arguments)}(ne),getToken:st=>function De(x){return it.apply(this,arguments)}(ne,st)}};(function cr(){(0,xe._registerComponent)(new se.wA(Dr,Wn,"PUBLIC")),(0,xe._registerComponent)(new se.wA("installations-internal",dr,"PRIVATE"))})(),(0,xe.registerVersion)(Ce,"0.5.8"),(0,xe.registerVersion)(Ce,"0.5.8","esm2017");const Zr="@firebase/remote-config",Yn=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zt{constructor(V,ne,ke,st){this.client=V,this.storage=ne,this.storageCache=ke,this.logger=st}isCachedDataFresh(V,ne){if(!ne)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ke=Date.now()-ne,st=ke<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ke}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${st}.`),st}fetch(V){var ne=this;return(0,$.Z)(function*(){const[ke,st]=yield Promise.all([ne.storage.getLastSuccessfulFetchTimestampMillis(),ne.storage.getLastSuccessfulFetchResponse()]);if(st&&ne.isCachedDataFresh(V.cacheMaxAgeMillis,ke))return st;V.eTag=st&&st.eTag;const mt=yield ne.client.fetch(V),Kt=[ne.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===mt.status&&Kt.push(ne.storage.setLastSuccessfulFetchResponse(mt)),yield Promise.all(Kt),mt})()}}function sn(x=navigator){return x.languages&&x.languages[0]||x.language}class Dn{constructor(V,ne,ke,st,mt,Kt){this.firebaseInstallations=V,this.sdkVersion=ne,this.namespace=ke,this.projectId=st,this.apiKey=mt,this.appId=Kt}fetch(V){var ne=this;return(0,$.Z)(function*(){const[ke,st]=yield Promise.all([ne.firebaseInstallations.getId(),ne.firebaseInstallations.getToken()]),Kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ne.projectId}/namespaces/${ne.namespace}:fetch?key=${ne.apiKey}`,Jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},Jn={sdk_version:ne.sdkVersion,app_instance_id:ke,app_instance_id_token:st,app_id:ne.appId,language_code:sn()},rr={method:"POST",headers:Jt,body:JSON.stringify(Jn)},mr=fetch(Kt,rr),lr=new Promise((qr,Mo)=>{V.signal.addEventListener(()=>{const mo=new Error("The operation was aborted.");mo.name="AbortError",Mo(mo)})});let rs;try{yield Promise.race([mr,lr]),rs=yield mr}catch(qr){let Mo="fetch-client-network";throw"AbortError"===qr.name&&(Mo="fetch-timeout"),Yn.create(Mo,{originalErrorMessage:qr.message})}let Mi=rs.status;const Go=rs.headers.get("ETag")||void 0;let As,ma;if(200===rs.status){let qr;try{qr=yield rs.json()}catch(Mo){throw Yn.create("fetch-client-parse",{originalErrorMessage:Mo.message})}As=qr.entries,ma=qr.state}if("INSTANCE_STATE_UNSPECIFIED"===ma?Mi=500:"NO_CHANGE"===ma?Mi=304:("NO_TEMPLATE"===ma||"EMPTY_CONFIG"===ma)&&(As={}),304!==Mi&&200!==Mi)throw Yn.create("fetch-status",{httpStatus:Mi});return{status:Mi,eTag:Go,config:As}})()}}class Nr{constructor(V,ne){this.client=V,this.storage=ne}fetch(V){var ne=this;return(0,$.Z)(function*(){const ke=(yield ne.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ne.attemptFetch(V,ke)})()}attemptFetch(V,{throttleEndTimeMillis:ne,backoffCount:ke}){var st=this;return(0,$.Z)(function*(){yield function er(x,V){return new Promise((ne,ke)=>{const st=Math.max(V-Date.now(),0),mt=setTimeout(ne,st);x.addEventListener(()=>{clearTimeout(mt),ke(Yn.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,ne);try{const mt=yield st.client.fetch(V);return yield st.storage.deleteThrottleMetadata(),mt}catch(mt){if(!function Cr(x){if(!(x instanceof we.ZR&&x.customData))return!1;const V=Number(x.customData.httpStatus);return 429===V||500===V||503===V||504===V}(mt))throw mt;const Kt={throttleEndTimeMillis:Date.now()+(0,we.$s)(ke),backoffCount:ke+1};return yield st.storage.setThrottleMetadata(Kt),st.attemptFetch(V,Kt)}})()}}class Br{constructor(V,ne,ke,st,mt){this.app=V,this._client=ne,this._storageCache=ke,this._storage=st,this._logger=mt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ai(x,V){const ne=x.target.error||void 0;return Yn.create(V,{originalErrorMessage:ne&&ne.message})}const Ui="app_namespace_store";class Ms{constructor(V,ne,ke,st=function so(){return new Promise((x,V)=>{try{const ne=indexedDB.open("firebase_remote_config",1);ne.onerror=ke=>{V(ai(ke,"storage-open"))},ne.onsuccess=ke=>{x(ke.target.result)},ne.onupgradeneeded=ke=>{0===ke.oldVersion&&ke.target.result.createObjectStore(Ui,{keyPath:"compositeKey"})}}catch(ne){V(Yn.create("storage-open",{originalErrorMessage:ne}))}})}()){this.appId=V,this.appName=ne,this.namespace=ke,this.openDbPromise=st}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var ne=this;return(0,$.Z)(function*(){const ke=yield ne.openDbPromise;return new Promise((st,mt)=>{const Jt=ke.transaction([Ui],"readonly").objectStore(Ui),Jn=ne.createCompositeKey(V);try{const rr=Jt.get(Jn);rr.onerror=mr=>{mt(ai(mr,"storage-get"))},rr.onsuccess=mr=>{const lr=mr.target.result;st(lr?lr.value:void 0)}}catch(rr){mt(Yn.create("storage-get",{originalErrorMessage:rr&&rr.message}))}})})()}set(V,ne){var ke=this;return(0,$.Z)(function*(){const st=yield ke.openDbPromise;return new Promise((mt,Kt)=>{const Jn=st.transaction([Ui],"readwrite").objectStore(Ui),rr=ke.createCompositeKey(V);try{const mr=Jn.put({compositeKey:rr,value:ne});mr.onerror=lr=>{Kt(ai(lr,"storage-set"))},mr.onsuccess=()=>{mt()}}catch(mr){Kt(Yn.create("storage-set",{originalErrorMessage:mr&&mr.message}))}})})()}delete(V){var ne=this;return(0,$.Z)(function*(){const ke=yield ne.openDbPromise;return new Promise((st,mt)=>{const Jt=ke.transaction([Ui],"readwrite").objectStore(Ui),Jn=ne.createCompositeKey(V);try{const rr=Jt.delete(Jn);rr.onerror=mr=>{mt(ai(mr,"storage-delete"))},rr.onsuccess=()=>{st()}}catch(rr){mt(Yn.create("storage-delete",{originalErrorMessage:rr&&rr.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class ki{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,$.Z)(function*(){const ne=V.storage.getLastFetchStatus(),ke=V.storage.getLastSuccessfulFetchTimestampMillis(),st=V.storage.getActiveConfig(),mt=yield ne;mt&&(V.lastFetchStatus=mt);const Kt=yield ke;Kt&&(V.lastSuccessfulFetchTimestampMillis=Kt);const Jt=yield st;Jt&&(V.activeConfig=Jt)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function oo(){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,$.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(x){return!1}})).apply(this,arguments)}!function Ti(){(0,xe._registerComponent)(new se.wA("remote-config",function x(V,{instanceIdentifier:ne}){const ke=V.getProvider("app").getImmediate(),st=V.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Yn.create("registration-window");if(!(0,we.hl)())throw Yn.create("indexed-db-unavailable");const{projectId:mt,apiKey:Kt,appId:Jt}=ke.options;if(!mt)throw Yn.create("registration-project-id");if(!Kt)throw Yn.create("registration-api-key");if(!Jt)throw Yn.create("registration-app-id");const Jn=new Ms(Jt,ke.name,ne=ne||"firebase"),rr=new ki(Jn),mr=new Te.Yd(Zr);mr.logLevel=Te.in.ERROR;const lr=new Dn(st,xe.SDK_VERSION,ne,mt,Kt,Jt),rs=new Nr(lr,Jn),Mi=new Zt(rs,Jn,rr,mr),Go=new Br(ke,Mi,rr,Jn,mr);return function R(x){const V=(0,we.m9)(x);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(Go),Go},"PUBLIC").setMultipleInstances(!0)),(0,xe.registerVersion)(Zr,"0.3.7"),(0,xe.registerVersion)(Zr,"0.3.7","esm2017")}();const jr="/firebase-messaging-sw.js",ji="/firebase-cloud-messaging-push-scope",Zi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xi="google.c.a.c_id",Fi="google.c.a.c_l",qs="google.c.a.ts",ui="google.c.a.e";var li=(()=>{return(x=li||(li={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",li;var x})();function ti(x){const V=new Uint8Array(x);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ao(x){const ne=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ke=atob(ne),st=new Uint8Array(ke.length);for(let mt=0;mt<ke.length;++mt)st[mt]=ke.charCodeAt(mt);return st}const Li="fcm_token_details_db",ci="fcm_token_object_Store";function Qi(x){return hs.apply(this,arguments)}function hs(){return hs=(0,$.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(mt=>mt.name).includes(Li))return null;let V=null;return(yield(0,we.X3)(Li,5,function(){var ke=(0,$.Z)(function*(st,mt,Kt,Jt){var Jn;if(mt<2||!st.objectStoreNames.contains(ci))return;const rr=Jt.objectStore(ci),mr=yield rr.index("fcmSenderId").get(x);if(yield rr.clear(),mr)if(2===mt){const lr=mr;if(!lr.auth||!lr.p256dh||!lr.endpoint)return;V={token:lr.fcmToken,createTime:null!==(Jn=lr.createTime)&&void 0!==Jn?Jn:Date.now(),subscriptionOptions:{auth:lr.auth,p256dh:lr.p256dh,endpoint:lr.endpoint,swScope:lr.swScope,vapidKey:"string"==typeof lr.vapidKey?lr.vapidKey:ti(lr.vapidKey)}}}else if(3===mt){const lr=mr;V={token:lr.fcmToken,createTime:lr.createTime,subscriptionOptions:{auth:ti(lr.auth),p256dh:ti(lr.p256dh),endpoint:lr.endpoint,swScope:lr.swScope,vapidKey:ti(lr.vapidKey)}}}else if(4===mt){const lr=mr;V={token:lr.fcmToken,createTime:lr.createTime,subscriptionOptions:{auth:ti(lr.auth),p256dh:ti(lr.p256dh),endpoint:lr.endpoint,swScope:lr.swScope,vapidKey:ti(lr.vapidKey)}}}});return function(st,mt,Kt,Jt){return ke.apply(this,arguments)}}())).close(),yield(0,we.Lj)(Li),yield(0,we.Lj)("fcm_vapid_details_db"),yield(0,we.Lj)("undefined"),Xr(V)?V:null}),hs.apply(this,arguments)}function Xr(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:V}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const vi="firebase-messaging-store";let os=null;function fs(){return os||(os=(0,we.X3)("firebase-messaging-database",1,(x,V)=>{0===V&&x.createObjectStore(vi)})),os}function _i(x){return N.apply(this,arguments)}function N(){return(N=(0,$.Z)(function*(x){const V=pt(x),ke=yield(yield fs()).transaction(vi).objectStore(vi).get(V);if(ke)return ke;{const st=yield Qi(x.appConfig.senderId);if(st)return yield K(x,st),st}})).apply(this,arguments)}function K(x,V){return F.apply(this,arguments)}function F(){return(F=(0,$.Z)(function*(x,V){const ne=pt(x),st=(yield fs()).transaction(vi,"readwrite");return yield st.objectStore(vi).put(V,ne),yield st.complete,V})).apply(this,arguments)}function ie(x){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,$.Z)(function*(x){const V=pt(x),ke=(yield fs()).transaction(vi,"readwrite");yield ke.objectStore(vi).delete(V),yield ke.complete})).apply(this,arguments)}function pt({appConfig:x}){return x.appId}const Bt=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Rr(x,V){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,$.Z)(function*(x,V){const ne=yield k(x),ke=gt(V),st={method:"POST",headers:ne,body:JSON.stringify(ke)};let mt;try{mt=yield(yield fetch(g(x.appConfig),st)).json()}catch(Kt){throw Bt.create("token-subscribe-failed",{errorInfo:Kt})}if(mt.error)throw Bt.create("token-subscribe-failed",{errorInfo:mt.error.message});if(!mt.token)throw Bt.create("token-subscribe-no-token");return mt.token})).apply(this,arguments)}function _r(x,V){return Un.apply(this,arguments)}function Un(){return(Un=(0,$.Z)(function*(x,V){const ne=yield k(x),ke=gt(V.subscriptionOptions),st={method:"PATCH",headers:ne,body:JSON.stringify(ke)};let mt;try{mt=yield(yield fetch(`${g(x.appConfig)}/${V.token}`,st)).json()}catch(Kt){throw Bt.create("token-update-failed",{errorInfo:Kt})}if(mt.error)throw Bt.create("token-update-failed",{errorInfo:mt.error.message});if(!mt.token)throw Bt.create("token-update-no-token");return mt.token})).apply(this,arguments)}function m(x,V){return L.apply(this,arguments)}function L(){return(L=(0,$.Z)(function*(x,V){const ke={method:"DELETE",headers:yield k(x)};try{const mt=yield(yield fetch(`${g(x.appConfig)}/${V}`,ke)).json();if(mt.error)throw Bt.create("token-unsubscribe-failed",{errorInfo:mt.error.message})}catch(st){throw Bt.create("token-unsubscribe-failed",{errorInfo:st})}})).apply(this,arguments)}function g({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function k(x){return ee.apply(this,arguments)}function ee(){return(ee=(0,$.Z)(function*({appConfig:x,installations:V}){const ne=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${ne}`})})).apply(this,arguments)}function gt({p256dh:x,auth:V,endpoint:ne,vapidKey:ke}){const st={web:{endpoint:ne,auth:V,p256dh:x}};return ke!==Zi&&(st.web.applicationPubKey=ke),st}const Ht=6048e5;function M(x){return S.apply(this,arguments)}function S(){return(S=(0,$.Z)(function*(x){const V=yield di(x.swRegistration,x.vapidKey),ne={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:V.endpoint,auth:ti(V.getKey("auth")),p256dh:ti(V.getKey("p256dh"))},ke=yield _i(x.firebaseDependencies);if(ke){if(Cs(ke.subscriptionOptions,ne))return Date.now()>=ke.createTime+Ht?_t(x,{token:ke.token,createTime:Date.now(),subscriptionOptions:ne}):ke.token;try{yield m(x.firebaseDependencies,ke.token)}catch(st){console.warn(st)}return fr(x.firebaseDependencies,ne)}return fr(x.firebaseDependencies,ne)})).apply(this,arguments)}function C(x){return z.apply(this,arguments)}function z(){return(z=(0,$.Z)(function*(x){const V=yield _i(x.firebaseDependencies);V&&(yield m(x.firebaseDependencies,V.token),yield ie(x.firebaseDependencies));const ne=yield x.swRegistration.pushManager.getSubscription();return!ne||ne.unsubscribe()})).apply(this,arguments)}function _t(x,V){return nn.apply(this,arguments)}function nn(){return(nn=(0,$.Z)(function*(x,V){try{const ne=yield _r(x.firebaseDependencies,V),ke=Object.assign(Object.assign({},V),{token:ne,createTime:Date.now()});return yield K(x.firebaseDependencies,ke),ne}catch(ne){throw yield C(x),ne}})).apply(this,arguments)}function fr(x,V){return $r.apply(this,arguments)}function $r(){return($r=(0,$.Z)(function*(x,V){const ke={token:yield Rr(x,V),createTime:Date.now(),subscriptionOptions:V};return yield K(x,ke),ke.token})).apply(this,arguments)}function di(x,V){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,$.Z)(function*(x,V){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ao(V)})})).apply(this,arguments)}function Cs(x,V){return V.vapidKey===x.vapidKey&&V.endpoint===x.endpoint&&V.auth===x.auth&&V.p256dh===x.p256dh}function Mt(x){const V={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Er(x,V){if(!V.notification)return;x.notification={};const ne=V.notification.title;ne&&(x.notification.title=ne);const ke=V.notification.body;ke&&(x.notification.body=ke);const st=V.notification.image;st&&(x.notification.image=st)}(V,x),function Ma(x,V){!V.data||(x.data=V.data)}(V,x),function Gr(x,V){if(!V.fcmOptions)return;x.fcmOptions={};const ne=V.fcmOptions.link;ne&&(x.fcmOptions.link=ne);const ke=V.fcmOptions.analytics_label;ke&&(x.fcmOptions.analyticsLabel=ke)}(V,x),V}function pu(x){return"object"==typeof x&&!!x&&Xi in x}function Bo(x,V){const ne=[];for(let ke=0;ke<x.length;ke++)ne.push(x.charAt(ke)),ke<V.length&&ne.push(V.charAt(ke));return ne.join("")}function uo(x){return Bt.create("missing-app-config-values",{valueName:x})}Bo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ps{constructor(V,ne,ke){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const st=function Ji(x){if(!x||!x.options)throw uo("App Configuration Object");if(!x.name)throw uo("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:ne}=x;for(const ke of V)if(!ne[ke])throw uo(ke);return{appName:x.name,projectId:ne.projectId,apiKey:ne.apiKey,appId:ne.appId,senderId:ne.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:st,installations:ne,analyticsProvider:ke}}_delete(){return Promise.resolve()}}function Ra(x){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,$.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(jr,{scope:ji}),x.swRegistration.update().catch(()=>{})}catch(V){throw Bt.create("failed-service-worker-registration",{browserErrorMessage:V.message})}})).apply(this,arguments)}function Ks(x,V){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,$.Z)(function*(x,V){if(!V&&!x.swRegistration&&(yield Ra(x)),V||!x.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw Bt.create("invalid-sw-registration");x.swRegistration=V}})).apply(this,arguments)}function Ei(x,V){return gs.apply(this,arguments)}function gs(){return(gs=(0,$.Z)(function*(x,V){V?x.vapidKey=V:x.vapidKey||(x.vapidKey=Zi)})).apply(this,arguments)}function Rs(){return(Rs=(0,$.Z)(function*(x,V){if(!navigator)throw Bt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bt.create("permission-blocked");return yield Ei(x,null==V?void 0:V.vapidKey),yield Ks(x,null==V?void 0:V.serviceWorkerRegistration),M(x)})).apply(this,arguments)}function Zs(x,V,ne){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,$.Z)(function*(x,V,ne){const ke=gu(V);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(ke,{message_id:ne[Xi],message_name:ne[Fi],message_time:ne[qs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gu(x){switch(x){case li.NOTIFICATION_CLICKED:return"notification_open";case li.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $o(){return($o=(0,$.Z)(function*(x,V){const ne=V.data;if(!ne.isFirebaseMessaging)return;x.onMessageHandler&&ne.messageType===li.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Mt(ne)):x.onMessageHandler.next(Mt(ne)));const ke=ne.data;pu(ke)&&"1"===ke[ui]&&(yield Zs(x,ne.messageType,ke))})).apply(this,arguments)}const bo="@firebase/messaging",Us=x=>{const V=new ps(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ne=>function el(x,V){return $o.apply(this,arguments)}(V,ne)),V},ta=x=>{const V=x.getProvider("messaging").getImmediate();return{getToken:ke=>function ni(x,V){return Rs.apply(this,arguments)}(V,ke)}};function na(){return ra.apply(this,arguments)}function ra(){return(ra=(0,$.Z)(function*(){try{yield(0,we.eu)()}catch(x){return!1}return"undefined"!=typeof window&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xs(){(0,xe._registerComponent)(new se.wA("messaging",Us,"PUBLIC")),(0,xe._registerComponent)(new se.wA("messaging-internal",ta,"PRIVATE")),(0,xe.registerVersion)(bo,"0.9.12"),(0,xe.registerVersion)(bo,"0.9.12","esm2017")}();const Os="analytics",zr="firebase_id",mu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pa="https://www.googletagmanager.com/gtag/js",oi=new Te.Yd("@firebase/analytics");function Na(x){return Promise.all(x.map(V=>V.catch(ne=>ne)))}function Js(x,V){const ne=document.createElement("script");ne.src=`${Pa}?l=${x}&id=${V}`,ne.async=!0,document.head.appendChild(ne)}function aa(x,V,ne,ke,st,mt){return as.apply(this,arguments)}function as(){return(as=(0,$.Z)(function*(x,V,ne,ke,st,mt){const Kt=ke[st];try{if(Kt)yield V[Kt];else{const Jn=(yield Na(ne)).find(rr=>rr.measurementId===st);Jn&&(yield V[Jn.appId])}}catch(Jt){oi.error(Jt)}x("config",st,mt)})).apply(this,arguments)}function ua(x,V,ne,ke,st){return ka.apply(this,arguments)}function ka(){return(ka=(0,$.Z)(function*(x,V,ne,ke,st){try{let mt=[];if(st&&st.send_to){let Kt=st.send_to;Array.isArray(Kt)||(Kt=[Kt]);const Jt=yield Na(ne);for(const Jn of Kt){const rr=Jt.find(lr=>lr.measurementId===Jn),mr=rr&&V[rr.appId];if(!mr){mt=[];break}mt.push(mr)}}0===mt.length&&(mt=Object.values(V)),yield Promise.all(mt),x("event",ke,st||{})}catch(mt){oi.error(mt)}})).apply(this,arguments)}function Za(){const x=window.document.getElementsByTagName("script");for(const V of Object.values(x))if(V.src&&V.src.includes(Pa))return V;return null}const hi=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),la=new class nl{constructor(V={},ne=1e3){this.throttleMetadata=V,this.intervalMillis=ne}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,ne){this.throttleMetadata[V]=ne}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function Xa(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Qr(x){return ca.apply(this,arguments)}function ca(){return(ca=(0,$.Z)(function*(x){var V;const{appId:ne,apiKey:ke}=x,st={method:"GET",headers:Xa(ke)},mt=mu.replace("{app-id}",ne),Kt=yield fetch(mt,st);if(200!==Kt.status&&304!==Kt.status){let Jt="";try{const Jn=yield Kt.json();(null===(V=Jn.error)||void 0===V?void 0:V.message)&&(Jt=Jn.error.message)}catch(Jn){}throw hi.create("config-fetch-failed",{httpStatus:Kt.status,responseMessage:Jt})}return Kt.json()})).apply(this,arguments)}function wo(x){return co.apply(this,arguments)}function co(){return(co=(0,$.Z)(function*(x,V=la,ne){const{appId:ke,apiKey:st,measurementId:mt}=x.options;if(!ke)throw hi.create("no-app-id");if(!st){if(mt)return{measurementId:mt,appId:ke};throw hi.create("no-api-key")}const Kt=V.getThrottleMetadata(ke)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Jt=new Ns;return setTimeout((0,$.Z)(function*(){Jt.abort()}),void 0!==ne?ne:6e4),Do({appId:ke,apiKey:st,measurementId:mt},Kt,Jt,V)})).apply(this,arguments)}function Do(x,V,ne){return js.apply(this,arguments)}function js(){return(js=(0,$.Z)(function*(x,{throttleEndTimeMillis:V,backoffCount:ne},ke,st=la){const{appId:mt,measurementId:Kt}=x;try{yield ho(ke,V)}catch(Jt){if(Kt)return oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kt} provided in the "measurementId" field in the local Firebase config. [${Jt.message}]`),{appId:mt,measurementId:Kt};throw Jt}try{const Jt=yield Qr(x);return st.deleteThrottleMetadata(mt),Jt}catch(Jt){if(!Si(Jt)){if(st.deleteThrottleMetadata(mt),Kt)return oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kt} provided in the "measurementId" field in the local Firebase config. [${Jt.message}]`),{appId:mt,measurementId:Kt};throw Jt}const Jn=503===Number(Jt.customData.httpStatus)?(0,we.$s)(ne,st.intervalMillis,30):(0,we.$s)(ne,st.intervalMillis),rr={throttleEndTimeMillis:Date.now()+Jn,backoffCount:ne+1};return st.setThrottleMetadata(mt,rr),oi.debug(`Calling attemptFetch again in ${Jn} millis`),Do(x,rr,ke,st)}})).apply(this,arguments)}function ho(x,V){return new Promise((ne,ke)=>{const st=Math.max(V-Date.now(),0),mt=setTimeout(ne,st);x.addEventListener(()=>{clearTimeout(mt),ke(hi.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function Si(x){if(!(x instanceof we.ZR&&x.customData))return!1;const V=Number(x.customData.httpStatus);return 429===V||500===V||503===V||504===V}class Ns{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}function ys(){return to.apply(this,arguments)}function to(){return(to=(0,$.Z)(function*(){if(!(0,we.hl)())return oi.warn(hi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(x){return oi.warn(hi.create("indexeddb-unavailable",{errorInfo:x}).message),!1}return!0})).apply(this,arguments)}function Wt(){return(Wt=(0,$.Z)(function*(x,V,ne,ke,st,mt,Kt){var Jt;const Jn=wo(x);Jn.then(Mi=>{ne[Mi.measurementId]=Mi.appId,x.options.measurementId&&Mi.measurementId!==x.options.measurementId&&oi.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Mi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mi=>oi.error(Mi)),V.push(Jn);const rr=ys().then(Mi=>{if(Mi)return ke.getId()}),[mr,lr]=yield Promise.all([Jn,rr]);Za()||Js(mt,mr.measurementId),st("js",new Date);const rs=null!==(Jt=null==Kt?void 0:Kt.config)&&void 0!==Jt?Jt:{};return rs.origin="firebase",rs.update=!0,null!=lr&&(rs[zr]=lr),st("config",mr.measurementId,rs),mr.measurementId})).apply(this,arguments)}class ri{constructor(V){this.app=V}_delete(){return delete ts[this.app.options.appId],Promise.resolve()}}let ts={},da=[];const vn={};let dn,Et,Vn="dataLayer",Ft=!1;function E(x,V,ne){!function D(){const x=[];if((0,we.ru)()&&x.push("This is a browser extension environment."),(0,we.zI)()||x.push("Cookies are not available."),x.length>0){const V=x.map((ke,st)=>`(${st+1}) ${ke}`).join(" "),ne=hi.create("invalid-analytics-context",{errorInfo:V});oi.warn(ne.message)}}();const ke=x.options.appId;if(!ke)throw hi.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw hi.create("no-api-key");oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ts[ke])throw hi.create("already-exists",{id:ke});if(!Ft){!function Io(x){let V=[];Array.isArray(window[x])?V=window[x]:window[x]=V}(Vn);const{wrappedGtag:mt,gtagCore:Kt}=function bi(x,V,ne,ke,st){let mt=function(...Kt){window[ke].push(arguments)};return window[st]&&"function"==typeof window[st]&&(mt=window[st]),window[st]=function eo(x,V,ne,ke){function mt(){return(mt=(0,$.Z)(function*(Kt,Jt,Jn){try{"event"===Kt?yield ua(x,V,ne,Jt,Jn):"config"===Kt?yield aa(x,V,ne,ke,Jt,Jn):x("set",Jt)}catch(rr){oi.error(rr)}})).apply(this,arguments)}return function st(Kt,Jt,Jn){return mt.apply(this,arguments)}}(mt,x,V,ne),{gtagCore:mt,wrappedGtag:window[st]}}(ts,da,vn,Vn,"gtag");Et=mt,dn=Kt,Ft=!0}return ts[ke]=function Fa(x,V,ne,ke,st,mt,Kt){return Wt.apply(this,arguments)}(x,da,vn,V,dn,Vn,ne),new ri(x)}function O(){return(O=(0,$.Z)(function*(x,V,ne,ke,st){if(st&&st.global)x("event",ne,ke);else{const mt=yield V;x("event",ne,Object.assign(Object.assign({},ke),{send_to:mt}))}})).apply(this,arguments)}function Ai(){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,$.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch(x){return!1}})).apply(this,arguments)}const Or="@firebase/analytics";!function zi(){(0,xe._registerComponent)(new se.wA(Os,(V,{options:ne})=>E(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),ne),"PUBLIC")),(0,xe._registerComponent)(new se.wA("analytics-internal",function x(V){try{const ne=V.getProvider(Os).getImmediate();return{logEvent:(ke,st,mt)=>function Ja(x,V,ne,ke){x=(0,we.m9)(x),function _(x,V,ne,ke,st){return O.apply(this,arguments)}(Et,ts[x.app.options.appId],V,ne,ke).catch(st=>oi.error(st))}(ne,ke,st,mt)}}catch(ne){throw hi.create("interop-component-reg-failed",{reason:ne})}},"PRIVATE")),(0,xe.registerVersion)(Or,"0.7.8"),(0,xe.registerVersion)(Or,"0.7.8","esm2017")}();var ha=P(341),Td=P(353),Ii=P(6498),Sd=P(2868),fo=P(8915),pi=P(2102);const ks=new a.GfV("7.3.0"),fa="__angularfire_symbol__analyticsIsSupportedValue",ii="__angularfire_symbol__analyticsIsSupported",Co="__angularfire_symbol__remoteConfigIsSupportedValue",To="__angularfire_symbol__remoteConfigIsSupported",po="__angularfire_symbol__messagingIsSupportedValue",vs="__angularfire_symbol__messagingIsSupported";function Ho(x,V,ne){if(V){if(1===V.length)return V[0];const mt=V.filter(Kt=>Kt.app===ne);if(1===mt.length)return mt[0]}return ne.container.getProvider(x).getImmediate({optional:!0})}globalThis[ii]||(globalThis[ii]=Ai().then(x=>globalThis[fa]=x).catch(()=>globalThis[fa]=!1)),globalThis[vs]||(globalThis[vs]=na().then(x=>globalThis[po]=x).catch(()=>globalThis[po]=!1)),globalThis[To]||(globalThis[To]=oo().then(x=>globalThis[Co]=x).catch(()=>globalThis[Co]=!1));const So=(x,V)=>{const ne=V?[V]:(0,G.C6)(),ke=[];return ne.forEach(st=>{st.container.getProvider(x).instances.forEach(Kt=>{ke.includes(Kt)||ke.push(Kt)})}),ke};function _s(){}class La{constructor(V,ne=ha.N){this.zone=V,this.delegate=ne}now(){return this.delegate.now()}schedule(V,ne,ke){const st=this.zone;return this.delegate.schedule(function(Kt){st.runGuarded(()=>{V.apply(this,[Kt])})},ne,ke)}}class Ao{constructor(V){this.zone=V,this.task=null}call(V,ne){const ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_s,{},_s,_s)),ne.pipe((0,Sd.b)({next:ke,complete:ke,error:ke})).subscribe(V).add(ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ec=(()=>{class x{constructor(ne){this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new La(Zone.current)),this.insideAngular=ne.run(()=>new La(Zone.current,Td.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(ne){return new(ne||x)(a.LFG(a.R0b))},x.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Es(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function bs(x){return Es().ngZone.runOutsideAngular(()=>x())}function ns(x){return Es().ngZone.run(()=>x())}function pa(x){return Es(),function Rl(x){return function(ne){return(ne=ne.lift(new Ao(x.ngZone))).pipe((0,fo.R)(x.outsideAngular),(0,pi.QV)(x.insideAngular))}}(Es())(x)}const vu=(x,V)=>function(){const ke=arguments;return V&&setTimeout(()=>{"scheduled"===V.state&&V.invoke()},10),ns(()=>x.apply(void 0,ke))},ga=(x,V)=>function(){let ne;const ke=arguments;for(let mt=0;mt<arguments.length;mt++)"function"==typeof ke[mt]&&(V&&(ne||(ne=ns(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_s,{},_s,_s)))),ke[mt]=vu(ke[mt],ne));const st=bs(()=>x.apply(this,ke));if(!V){if(st instanceof Ii.y){const mt=Es();return st.pipe((0,fo.R)(mt.outsideAngular),(0,pi.QV)(mt.insideAngular))}return ns(()=>st)}return st instanceof Ii.y?st.pipe(pa):st instanceof Promise?ns(()=>new Promise((mt,Kt)=>st.then(Jt=>ns(()=>mt(Jt)),Jt=>ns(()=>Kt(Jt))))):"function"==typeof st&&ne?function(){return setTimeout(()=>{ne&&"scheduled"===ne.state&&ne.invoke()},10),st.apply(this,arguments)}:ns(()=>st)}},573:(Xt,tt,P)=>{"use strict";P.d(tt,{$:()=>M,A:()=>re,E:()=>dr,G:()=>En,I:()=>Nr,K:()=>_e,L:()=>Ki,M:()=>Ds,N:()=>Xi,P:()=>po,Q:()=>Fi,R:()=>fi,T:()=>Zi,U:()=>li,V:()=>ti,W:()=>Qi,X:()=>kt,Y:()=>Rr,Z:()=>_r,_:()=>g,a:()=>lo,a0:()=>C,a1:()=>_t,a2:()=>fr,a3:()=>di,a4:()=>Cs,a5:()=>Er,a6:()=>Ma,a7:()=>pu,a8:()=>Bo,a9:()=>Ra,aA:()=>ma,aB:()=>ne,aC:()=>or,aG:()=>la,aJ:()=>ui,aa:()=>Ks,ab:()=>Ei,ae:()=>Zs,af:()=>gu,ag:()=>el,aj:()=>vi,ak:()=>Qs,am:()=>mu,an:()=>aa,ao:()=>gr,ap:()=>ce,aq:()=>On,ar:()=>cn,as:()=>te,at:()=>fl,au:()=>_u,av:()=>Ye,aw:()=>Le,ax:()=>he,ay:()=>$e,az:()=>zo,b:()=>es,c:()=>La,d:()=>bs,e:()=>Ec,f:()=>mt,g:()=>lr,h:()=>Jn,i:()=>D,j:()=>Go,k:()=>Sc,l:()=>Sd,m:()=>sf,n:()=>Cu,o:()=>Ce,q:()=>Oa,r:()=>pi,s:()=>Td,u:()=>Co,x:()=>Vi,z:()=>Pe});var a=P(5861),G=P(2090),$=P(9681),xe=P(655),we=P(1877),se=P(4859);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},rt=function Q(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new we.Yd("@firebase/auth");function Je(b,...f){ge.logLevel<=we.in.ERROR&&ge.error(`Auth (${$.SDK_VERSION}): ${b}`,...f)}function te(b,...f){throw ot(b,...f)}function Ye(b,...f){return ot(b,...f)}function be(b,f,p){const w=Object.assign(Object.assign({},rt()),{[f]:p});return new G.LL("auth","Firebase",w).create(f,{appName:b.name})}function je(b,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&te(b,"argument-error"),be(b,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ot(b,...f){if("string"!=typeof b){const p=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(p,...w)}return fe.create(b,...f)}function Le(b,f,...p){if(!b)throw ot(f,...p)}function Ct(b){const f="INTERNAL ASSERTION FAILED: "+b;throw Je(f),new Error(f)}function ce(b,f){b||Ct(f)}const le=new Map;function he(b){ce(b instanceof Function,"Expected a class definition");let f=le.get(b);return f?(ce(f instanceof b,"Instance stored in cache mismatched with class"),f):(f=new b,le.set(b,f),f)}function Be(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Rt(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Xe{constructor(f,p){this.shortDelay=f,this.longDelay=p,ce(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function at(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Rt()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qe(b,f){ce(b.emulator,"Emulator should always be set here");const{url:p}=b.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Ze{static initialize(f,p,w){this.fetchImpl=f,p&&(this.headersImpl=p),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ke=new Xe(3e4,6e4);function ut(b,f){return b.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:b.tenantId}):f}function dt(b,f,p,w){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(b,f,p,w,W={}){return hn(b,W,(0,a.Z)(function*(){let Ee={},vt={};w&&("GET"===f?vt=w:Ee={body:JSON.stringify(w)});const At=(0,G.xO)(Object.assign({key:b.config.apiKey},vt)).slice(1),xn=yield b._getAdditionalHeaders();return xn["Content-Type"]="application/json",b.languageCode&&(xn["X-Firebase-Locale"]=b.languageCode),Ze.fetch()(It(b,b.config.apiHost,p,At),Object.assign({method:f,headers:xn,referrerPolicy:"no-referrer"},Ee))}))})).apply(this,arguments)}function hn(b,f,p){return on.apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(b,f,p){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},et),f);try{const W=new Pn(b),Ee=yield Promise.race([p(),W.promise]);W.clearNetworkTimeout();const vt=yield Ee.json();if("needConfirmation"in vt)throw Nn(b,"account-exists-with-different-credential",vt);if(Ee.ok&&!("errorMessage"in vt))return vt;{const At=Ee.ok?vt.errorMessage:vt.error.message,[xn,jn]=At.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xn)throw Nn(b,"credential-already-in-use",vt);if("EMAIL_EXISTS"===xn)throw Nn(b,"email-already-in-use",vt);const Ir=w[xn]||xn.toLowerCase().replace(/[_\s]+/g,"-");if(jn)throw be(b,Ir,jn);te(b,Ir)}}catch(W){if(W instanceof G.ZR)throw W;te(b,"network-request-failed")}})).apply(this,arguments)}function zt(b,f,p,w){return gn.apply(this,arguments)}function gn(){return(gn=(0,a.Z)(function*(b,f,p,w,W={}){const Ee=yield dt(b,f,p,w,W);return"mfaPendingCredential"in Ee&&te(b,"multi-factor-auth-required",{_serverResponse:Ee}),Ee})).apply(this,arguments)}function It(b,f,p,w){const W=`${f}${p}?${w}`;return b.config.emulator?qe(b.config,W):`${b.config.apiScheme}://${W}`}class Pn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,w)=>{this.timer=setTimeout(()=>w(Ye(this.auth,"network-request-failed")),Ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nn(b,f,p){const w={appName:b.name};p.email&&(w.email=p.email),p.phoneNumber&&(w.phoneNumber=p.phoneNumber);const W=Ye(b,f,w);return W.customData._tokenResponse=p,W}function pn(){return(pn=(0,a.Z)(function*(b,f){return dt(b,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Xn(b,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(b,f){return dt(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Hn(b,f){return wn.apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(b,f){return dt(b,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function tn(b){if(b)try{const f=new Date(Number(b));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function hr(){return(hr=(0,a.Z)(function*(b,f=!1){const p=(0,G.m9)(b),w=yield p.getIdToken(f),W=kn(w);Le(W&&W.exp&&W.auth_time&&W.iat,p.auth,"internal-error");const Ee="object"==typeof W.firebase?W.firebase:void 0,vt=null==Ee?void 0:Ee.sign_in_provider;return{claims:W,token:w,authTime:tn(Tr(W.auth_time)),issuedAtTime:tn(Tr(W.iat)),expirationTime:tn(Tr(W.exp)),signInProvider:vt||null,signInSecondFactor:(null==Ee?void 0:Ee.sign_in_second_factor)||null}})).apply(this,arguments)}function Tr(b){return 1e3*Number(b)}function kn(b){const[f,p,w]=b.split(".");if(void 0===f||void 0===p||void 0===w)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,G.tV)(p);return W?JSON.parse(W):(Je("Failed to decode base64 JWT payload"),null)}catch(W){return Je("Caught error parsing JWT payload as JSON",W),null}}function Yt(b,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,a.Z)(function*(b,f,p=!1){if(p)return f;try{return yield f}catch(w){throw w instanceof G.ZR&&Ur(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function Ur({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Kn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const W=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield p.iteration()}),w)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&f.schedule(!0))}f.schedule()})()}}class Pr{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=tn(this.lastLoginAt),this.creationTime=tn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ir(b){return ln.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(b){var f;const p=b.auth,w=yield b.getIdToken(),W=yield Yt(b,Hn(p,{idToken:w}));Le(null==W?void 0:W.users.length,p,"internal-error");const Ee=W.users[0];b._notifyReloadListener(Ee);const vt=(null===(f=Ee.providerUserInfo)||void 0===f?void 0:f.length)?qt(Ee.providerUserInfo):[],At=zn(b.providerData,vt),Ir=!!b.isAnonymous&&!(b.email&&Ee.passwordHash||(null==At?void 0:At.length)),kr={uid:Ee.localId,displayName:Ee.displayName||null,photoURL:Ee.photoUrl||null,email:Ee.email||null,emailVerified:Ee.emailVerified||!1,phoneNumber:Ee.phoneNumber||null,tenantId:Ee.tenantId||null,providerData:At,metadata:new Pr(Ee.createdAt,Ee.lastLoginAt),isAnonymous:Ir};Object.assign(b,kr)})).apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(b){const f=(0,G.m9)(b);yield ir(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function zn(b,f){return[...b.filter(w=>!f.some(W=>W.providerId===w.providerId)),...f]}function qt(b){return b.map(f=>{var{providerId:p}=f,w=(0,xe._T)(f,["providerId"]);return{providerId:p,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Pt(){return(Pt=(0,a.Z)(function*(b,f){const p=yield hn(b,{},(0,a.Z)(function*(){const w=(0,G.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:W,apiKey:Ee}=b.config,vt=It(b,W,"/v1/token",`key=${Ee}`),At=yield b._getAdditionalHeaders();return At["Content-Type"]="application/x-www-form-urlencoded",Ze.fetch()(vt,{method:"POST",headers:At,body:w})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class mn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Le(f.idToken,"internal-error"),Le(void 0!==f.idToken,"internal-error"),Le(void 0!==f.refreshToken,"internal-error");const p="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function en(b){const f=kn(b);return Le(f,"internal-error"),Le(void 0!==f.exp,"internal-error"),Le(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var w=this;return(0,a.Z)(function*(){return Le(!w.accessToken||w.refreshToken,f,"user-token-expired"),p||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var w=this;return(0,a.Z)(function*(){const{accessToken:W,refreshToken:Ee,expiresIn:vt}=yield function Dt(b,f){return Pt.apply(this,arguments)}(f,p);w.updateTokensAndExpiration(W,Ee,Number(vt))})()}updateTokensAndExpiration(f,p,w){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,p){const{refreshToken:w,accessToken:W,expirationTime:Ee}=p,vt=new mn;return w&&(Le("string"==typeof w,"internal-error",{appName:f}),vt.refreshToken=w),W&&(Le("string"==typeof W,"internal-error",{appName:f}),vt.accessToken=W),Ee&&(Le("number"==typeof Ee,"internal-error",{appName:f}),vt.expirationTime=Ee),vt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new mn,this.toJSON())}_performRefresh(){return Ct("not implemented")}}function Ut(b,f){Le("string"==typeof b||void 0===b,"internal-error",{appName:f})}class Qt{constructor(f){var{uid:p,auth:w,stsTokenManager:W}=f,Ee=(0,xe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=w,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=Ee.displayName||null,this.email=Ee.email||null,this.emailVerified=Ee.emailVerified||!1,this.phoneNumber=Ee.phoneNumber||null,this.photoURL=Ee.photoURL||null,this.isAnonymous=Ee.isAnonymous||!1,this.tenantId=Ee.tenantId||null,this.providerData=Ee.providerData?[...Ee.providerData]:[],this.metadata=new Pr(Ee.createdAt||void 0,Ee.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,a.Z)(function*(){const w=yield Yt(p,p.stsTokenManager.getToken(p.auth,f));return Le(w,p.auth,"internal-error"),p.accessToken!==w&&(p.accessToken=w,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),w})()}getIdTokenResult(f){return function xr(b){return hr.apply(this,arguments)}(this,f)}reload(){return function sr(b){return Mn.apply(this,arguments)}(this)}_assign(f){this!==f&&(Le(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Qt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var w=this;return(0,a.Z)(function*(){let W=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),W=!0),p&&(yield ir(w)),yield w.auth._persistUserIfCurrent(w),W&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,a.Z)(function*(){const p=yield f.getIdToken();return yield Yt(f,function Gn(b,f){return pn.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var w,W,Ee,vt,At,xn,jn,Ir;const kr=null!==(w=p.displayName)&&void 0!==w?w:void 0,Hs=null!==(W=p.email)&&void 0!==W?W:void 0,Yo=null!==(Ee=p.phoneNumber)&&void 0!==Ee?Ee:void 0,Tu=null!==(vt=p.photoURL)&&void 0!==vt?vt:void 0,tu=null!==(At=p.tenantId)&&void 0!==At?At:void 0,Va=null!==(xn=p._redirectEventId)&&void 0!==xn?xn:void 0,Nd=null!==(jn=p.createdAt)&&void 0!==jn?jn:void 0,kd=null!==(Ir=p.lastLoginAt)&&void 0!==Ir?Ir:void 0,{uid:Su,emailVerified:Ba,isAnonymous:Au,providerData:Fd,stsTokenManager:Wi}=p;Le(Su&&Wi,f,"internal-error");const Fr=mn.fromJSON(this.name,Wi);Le("string"==typeof Su,f,"internal-error"),Ut(kr,f.name),Ut(Hs,f.name),Le("boolean"==typeof Ba,f,"internal-error"),Le("boolean"==typeof Au,f,"internal-error"),Ut(Yo,f.name),Ut(Tu,f.name),Ut(tu,f.name),Ut(Va,f.name),Ut(Nd,f.name),Ut(kd,f.name);const Ll=new Qt({uid:Su,auth:f,email:Hs,emailVerified:Ba,displayName:kr,isAnonymous:Au,photoURL:Tu,phoneNumber:Yo,tenantId:tu,stsTokenManager:Fr,createdAt:Nd,lastLoginAt:kd});return Fd&&Array.isArray(Fd)&&(Ll.providerData=Fd.map(Ld=>Object.assign({},Ld))),Va&&(Ll._redirectEventId=Va),Ll}static _fromIdTokenResponse(f,p,w=!1){return(0,a.Z)(function*(){const W=new mn;W.updateFromServerResponse(p);const Ee=new Qt({uid:p.localId,auth:f,stsTokenManager:W,isAnonymous:w});return yield ir(Ee),Ee})()}}const _e=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(p,w){var W=this;return(0,a.Z)(function*(){W.storage[p]=w})()}_get(p){var w=this;return(0,a.Z)(function*(){const W=w.storage[p];return void 0===W?null:W})()}_remove(p){var w=this;return(0,a.Z)(function*(){delete w.storage[p]})()}_addListener(p,w){}_removeListener(p,w){}}return b.type="NONE",b})();function $e(b,f,p){return`firebase:${b}:${f}:${p}`}class nt{constructor(f,p,w){this.persistence=f,this.auth=p,this.userKey=w;const{config:W,name:Ee}=this.auth;this.fullUserKey=$e(this.userKey,W.apiKey,Ee),this.fullPersistenceKey=$e("persistence",W.apiKey,Ee),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?Qt._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,a.Z)(function*(){if(p.persistence===f)return;const w=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,w?p.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,w="authUser"){return(0,a.Z)(function*(){if(!p.length)return new nt(he(_e),f,w);const W=(yield Promise.all(p.map(function(){var jn=(0,a.Z)(function*(Ir){if(yield Ir._isAvailable())return Ir});return function(Ir){return jn.apply(this,arguments)}}()))).filter(jn=>jn);let Ee=W[0]||he(_e);const vt=$e(w,f.config.apiKey,f.name);let At=null;for(const jn of p)try{const Ir=yield jn._get(vt);if(Ir){const kr=Qt._fromJSON(f,Ir);jn!==Ee&&(At=kr),Ee=jn;break}}catch(Ir){}const xn=W.filter(jn=>jn._shouldAllowMigration);return Ee._shouldAllowMigration&&xn.length?(Ee=xn[0],At&&(yield Ee._set(vt,At.toJSON())),yield Promise.all(p.map(function(){var jn=(0,a.Z)(function*(Ir){if(Ir!==Ee)try{yield Ir._remove(vt)}catch(kr){}});return function(Ir){return jn.apply(this,arguments)}}())),new nt(Ee,f,w)):new nt(Ee,f,w)})()}}function ae(b){const f=b.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Nt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(me(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Tn(f))return"Blackberry";if(an(f))return"Webos";if(De(f))return"Safari";if((f.includes("chrome/")||it(f))&&!f.includes("edge/"))return"Chrome";if(cn(f))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function me(b=(0,G.z$)()){return/firefox\//i.test(b)}function De(b=(0,G.z$)()){const f=b.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function it(b=(0,G.z$)()){return/crios\//i.test(b)}function Nt(b=(0,G.z$)()){return/iemobile/i.test(b)}function cn(b=(0,G.z$)()){return/android/i.test(b)}function Tn(b=(0,G.z$)()){return/blackberry/i.test(b)}function an(b=(0,G.z$)()){return/webos/i.test(b)}function On(b=(0,G.z$)()){return/iphone|ipad|ipod/i.test(b)}function gr(b=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function In(b=(0,G.z$)()){return On(b)||cn(b)||an(b)||Tn(b)||/windows phone/i.test(b)||Nt(b)}function Hr(b,f=[]){let p;switch(b){case"Browser":p=ae((0,G.z$)());break;case"Worker":p=`${ae((0,G.z$)())}-${b}`;break;default:p=b}const w=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${$.SDK_VERSION}/${w}`}class Dr{constructor(f,p,w){this.app=f,this.heartbeatServiceProvider=p,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wn(this),this.idTokenSubscription=new Wn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,p){var w=this;return p&&(this._popupRedirectResolver=he(p)),this._initializationPromise=this.queue((0,a.Z)(function*(){var W,Ee;if(!w._deleted&&(w.persistenceManager=yield nt.create(w,f),!w._deleted)){if(null===(W=w._popupRedirectResolver)||void 0===W?void 0:W._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(vt){}yield w.initializeCurrentUser(p),w.lastNotifiedUid=(null===(Ee=w.currentUser)||void 0===Ee?void 0:Ee.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p)}})()}initializeCurrentUser(f){var p=this;return(0,a.Z)(function*(){var w;let W=yield p.assertedPersistence.getCurrentUser();if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ee=null===(w=p.redirectUser)||void 0===w?void 0:w._redirectEventId,vt=null==W?void 0:W._redirectEventId,At=yield p.tryRedirectSignIn(f);(!Ee||Ee===vt)&&(null==At?void 0:At.user)&&(W=At.user)}return W?W._redirectEventId?(Le(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===W._redirectEventId?p.directlySetCurrentUser(W):p.reloadAndSetCurrentUserOrClear(W)):p.reloadAndSetCurrentUserOrClear(W):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var p=this;return(0,a.Z)(function*(){let w=null;try{w=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch(W){yield p._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,a.Z)(function*(){try{yield ir(f)}catch(w){if("auth/network-request-failed"!==w.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Qe(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,a.Z)(function*(){const w=f?(0,G.m9)(f):null;return w&&Le(w.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(w&&w._clone(p))})()}_updateCurrentUser(f){var p=this;return(0,a.Z)(function*(){if(!p._deleted)return f&&Le(p.tenantId===f.tenantId,p,"tenant-id-mismatch"),p.queue((0,a.Z)(function*(){yield p.directlySetCurrentUser(f),p.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var p=this;return this.queue((0,a.Z)(function*(){yield p.assertedPersistence.setPersistence(he(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new G.LL("auth","Firebase",f())}onAuthStateChanged(f,p,w){return this.registerStateListener(this.authStateSubscription,f,p,w)}onIdTokenChanged(f,p,w){return this.registerStateListener(this.idTokenSubscription,f,p,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var w=this;return(0,a.Z)(function*(){const W=yield w.getOrInitRedirectPersistenceManager(p);return null===f?W.removeCurrentUser():W.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,a.Z)(function*(){if(!p.redirectPersistenceManager){const w=f&&he(f)||p._popupRedirectResolver;Le(w,p,"argument-error"),p.redirectPersistenceManager=yield nt.create(p,[he(w._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,a.Z)(function*(){var w,W;return p._isInitialized&&(yield p.queue((0,a.Z)(function*(){}))),(null===(w=p._currentUser)||void 0===w?void 0:w._redirectEventId)===f?p._currentUser:(null===(W=p.redirectUser)||void 0===W?void 0:W._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,a.Z)(function*(){if(f===p.currentUser)return p.queue((0,a.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,w,W){if(this._deleted)return()=>{};const Ee="function"==typeof p?p:p.next.bind(p),vt=this._isInitialized?Promise.resolve():this._initializationPromise;return Le(vt,this,"internal-error"),vt.then(()=>Ee(this.currentUser)),"function"==typeof p?f.addObserver(p,w,W):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,a.Z)(function*(){p.currentUser&&p.currentUser!==f&&(p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh()),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Hr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var p;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const W=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return W&&(w["X-Firebase-Client"]=W),w})()}}function or(b){return(0,G.m9)(b)}class Wn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,G.ne)(p=>this.observer=p)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dr(b,f,p){const w=or(b);Le(w._canInitEmulator,w,"emulator-config-failed"),Le(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const W=!!(null==p?void 0:p.disableWarnings),Ee=cr(f),{host:vt,port:At}=function Zr(b){const f=cr(b),p=/(\/\/)?([^?#/]+)/.exec(b.substr(f.length));if(!p)return{host:"",port:null};const w=p[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(w);if(W){const Ee=W[1];return{host:Ee,port:ar(w.substr(Ee.length+1))}}{const[Ee,vt]=w.split(":");return{host:Ee,port:ar(vt)}}}(f);w.config.emulator={url:`${Ee}//${vt}${null===At?"":`:${At}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:vt,port:At,protocol:Ee.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function jt(){function b(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function cr(b){const f=b.indexOf(":");return f<0?"":b.substr(0,f+1)}function ar(b){if(!b)return null;const f=Number(b);return isNaN(f)?null:f}class En{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return Ct("not implemented")}_getIdTokenResponse(f){return Ct("not implemented")}_linkToIdToken(f,p){return Ct("not implemented")}_getReauthenticationResolver(f){return Ct("not implemented")}}function Qn(b,f){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,a.Z)(function*(b,f){return dt(b,"POST","/v1/accounts:resetPassword",ut(b,f))})).apply(this,arguments)}function Mr(b,f){return vr.apply(this,arguments)}function vr(){return(vr=(0,a.Z)(function*(b,f){return dt(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ue(b,f){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,a.Z)(function*(b,f){return dt(b,"POST","/v1/accounts:update",ut(b,f))})).apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(b,f){return zt(b,"POST","/v1/accounts:signInWithPassword",ut(b,f))})).apply(this,arguments)}function ct(b,f){return bn.apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(b,f){return dt(b,"POST","/v1/accounts:sendOobCode",ut(b,f))})).apply(this,arguments)}function Ln(b,f){return R.apply(this,arguments)}function R(){return(R=(0,a.Z)(function*(b,f){return ct(b,f)})).apply(this,arguments)}function B(b,f){return X.apply(this,arguments)}function X(){return(X=(0,a.Z)(function*(b,f){return ct(b,f)})).apply(this,arguments)}function pe(b,f){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)(function*(b,f){return ct(b,f)})).apply(this,arguments)}function de(b,f){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(b,f){return ct(b,f)})).apply(this,arguments)}function ft(){return(ft=(0,a.Z)(function*(b,f){return zt(b,"POST","/v1/accounts:signInWithEmailLink",ut(b,f))})).apply(this,arguments)}function Zt(){return(Zt=(0,a.Z)(function*(b,f){return zt(b,"POST","/v1/accounts:signInWithEmailLink",ut(b,f))})).apply(this,arguments)}class sn extends En{constructor(f,p,w,W=null){super("password",w),this._email=f,this._password=p,this._tenantId=W}static _fromEmailAndPassword(f,p){return new sn(f,p,"password")}static _fromEmailAndCode(f,p,w=null){return new sn(f,p,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,a.Z)(function*(){switch(p.signInMethod){case"password":return function Se(b,f){return lt.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function yt(b,f){return ft.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:te(f,"internal-error")}})()}_linkToIdToken(f,p){var w=this;return(0,a.Z)(function*(){switch(w.signInMethod){case"password":return Mr(f,{idToken:p,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function wt(b,f){return Zt.apply(this,arguments)}(f,{idToken:p,email:w._email,oobCode:w._password});default:te(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Dn(b,f){return er.apply(this,arguments)}function er(){return(er=(0,a.Z)(function*(b,f){return zt(b,"POST","/v1/accounts:signInWithIdp",ut(b,f))})).apply(this,arguments)}class Nr extends En{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Nr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):te("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:W}=p,Ee=(0,xe._T)(p,["providerId","signInMethod"]);if(!w||!W)return null;const vt=new Nr(w,W);return vt.idToken=Ee.idToken||void 0,vt.accessToken=Ee.accessToken||void 0,vt.secret=Ee.secret,vt.nonce=Ee.nonce,vt.pendingToken=Ee.pendingToken||null,vt}_getIdTokenResponse(f){return Dn(f,this.buildRequest())}_linkToIdToken(f,p){const w=this.buildRequest();return w.idToken=p,Dn(f,w)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Dn(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,G.xO)(p)}return f}}function ei(b,f){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,a.Z)(function*(b,f){return dt(b,"POST","/v1/accounts:sendVerificationCode",ut(b,f))})).apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(b,f){return zt(b,"POST","/v1/accounts:signInWithPhoneNumber",ut(b,f))})).apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(b,f){const p=yield zt(b,"POST","/v1/accounts:signInWithPhoneNumber",ut(b,f));if(p.temporaryProof)throw Nn(b,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Bs={USER_NOT_FOUND:"user-not-found"};function Ms(){return(Ms=(0,a.Z)(function*(b,f){return zt(b,"POST","/v1/accounts:signInWithPhoneNumber",ut(b,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Bs)})).apply(this,arguments)}class ki extends En{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new ki({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new ki({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Br(b,f){return ai.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function Ui(b,f){return Ni.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function so(b,f){return Ms.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:w,verificationCode:W}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:w,code:W}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:w,phoneNumber:W,temporaryProof:Ee}=f;return w||p||W||Ee?new ki({verificationId:p,verificationCode:w,phoneNumber:W,temporaryProof:Ee}):null}}class yi{constructor(f){var p,w,W,Ee,vt,At;const xn=(0,G.zd)((0,G.pd)(f)),jn=null!==(p=xn.apiKey)&&void 0!==p?p:null,Ir=null!==(w=xn.oobCode)&&void 0!==w?w:null,kr=function Ti(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=xn.mode)&&void 0!==W?W:null);Le(jn&&Ir&&kr,"argument-error"),this.apiKey=jn,this.operation=kr,this.code=Ir,this.continueUrl=null!==(Ee=xn.continueUrl)&&void 0!==Ee?Ee:null,this.languageCode=null!==(vt=xn.languageCode)&&void 0!==vt?vt:null,this.tenantId=null!==(At=xn.tenantId)&&void 0!==At?At:null}static parseLink(f){const p=function $s(b){const f=(0,G.zd)((0,G.pd)(b)).link,p=f?(0,G.zd)((0,G.pd)(f)).deep_link_id:null,w=(0,G.zd)((0,G.pd)(b)).deep_link_id;return(w?(0,G.zd)((0,G.pd)(w)).link:null)||w||p||f||b}(f);try{return new yi(p)}catch(w){return null}}}let Ki=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(p,w){return sn._fromEmailAndPassword(p,w)}static credentialWithLink(p,w){const W=yi.parseLink(w);return Le(W,"argument-error"),sn._fromEmailAndCode(p,W.code,W.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class jr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ji extends jr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Zi extends ji{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Le("providerId"in p&&"signInMethod"in p,"argument-error"),Nr._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Le(f.idToken||f.accessToken,"argument-error"),Nr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Zi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Zi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:w,oauthTokenSecret:W,pendingToken:Ee,nonce:vt,providerId:At}=f;if(!w&&!W&&!p&&!Ee||!At)return null;try{return new Zi(At)._credential({idToken:p,accessToken:w,nonce:vt,pendingToken:Ee})}catch(xn){return null}}}let Ds=(()=>{class b extends ji{constructor(){super("facebook.com")}static credential(p){return Nr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return b.credentialFromTaggedObject(p)}static credentialFromError(p){return b.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return b.credential(p.oauthAccessToken)}catch(w){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Xi=(()=>{class b extends ji{constructor(){super("google.com"),this.addScope("profile")}static credential(p,w){return Nr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:w})}static credentialFromResult(p){return b.credentialFromTaggedObject(p)}static credentialFromError(p){return b.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:w,oauthAccessToken:W}=p;if(!w&&!W)return null;try{return b.credential(w,W)}catch(Ee){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Fi=(()=>{class b extends ji{constructor(){super("github.com")}static credential(p){return Nr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return b.credentialFromTaggedObject(p)}static credentialFromError(p){return b.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return b.credential(p.oauthAccessToken)}catch(w){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ui extends En{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Dn(f,this.buildRequest())}_linkToIdToken(f,p){const w=this.buildRequest();return w.idToken=p,Dn(f,w)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Dn(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:W,pendingToken:Ee}=p;return w&&W&&Ee&&w===W?new ui(w,Ee):null}static _create(f,p){return new ui(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class li extends jr{constructor(f){Le(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return li.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return li.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=ui.fromJSON(f);return Le(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:w}=f;if(!p||!w)return null;try{return ui._create(w,p)}catch(W){return null}}}let ti=(()=>{class b extends ji{constructor(){super("twitter.com")}static credential(p,w){return Nr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:w})}static credentialFromResult(p){return b.credentialFromTaggedObject(p)}static credentialFromError(p){return b.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:w,oauthTokenSecret:W}=p;if(!w||!W)return null;try{return b.credential(w,W)}catch(Ee){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ao(b,f){return Li.apply(this,arguments)}function Li(){return(Li=(0,a.Z)(function*(b,f){return zt(b,"POST","/v1/accounts:signUp",ut(b,f))})).apply(this,arguments)}class Wr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,w,W=!1){return(0,a.Z)(function*(){const Ee=yield Qt._fromIdTokenResponse(f,w,W),vt=ci(w);return new Wr({user:Ee,providerId:vt,_tokenResponse:w,operationType:p})})()}static _forOperation(f,p,w){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const W=ci(w);return new Wr({user:f,providerId:W,_tokenResponse:w,operationType:p})})()}}function ci(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Qi(b){return hs.apply(this,arguments)}function hs(){return(hs=(0,a.Z)(function*(b){var f;const p=or(b);if(yield p._initializationPromise,null===(f=p.currentUser)||void 0===f?void 0:f.isAnonymous)return new Wr({user:p.currentUser,providerId:null,operationType:"signIn"});const w=yield ao(p,{returnSecureToken:!0}),W=yield Wr._fromIdTokenResponse(p,"signIn",w,!0);return yield p._updateCurrentUser(W.user),W})).apply(this,arguments)}class Xr extends G.ZR{constructor(f,p,w,W){var Ee;super(p.code,p.message),this.operationType=w,this.user=W,Object.setPrototypeOf(this,Xr.prototype),this.customData={appName:f.name,tenantId:null!==(Ee=f.tenantId)&&void 0!==Ee?Ee:void 0,_serverResponse:p.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,p,w,W){return new Xr(f,p,w,W)}}function Yr(b,f,p,w){return("reauthenticate"===f?p._getReauthenticationResolver(b):p._getIdTokenResponse(b)).catch(Ee=>{throw"auth/multi-factor-auth-required"===Ee.code?Xr._fromErrorAndOperation(b,Ee,f,w):Ee})}function ss(b){return new Set(b.map(({providerId:f})=>f).filter(f=>!!f))}function vi(b,f){return os.apply(this,arguments)}function os(){return(os=(0,a.Z)(function*(b,f){const p=(0,G.m9)(b);yield N(!0,p,f);const{providerUserInfo:w}=yield Xn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),W=ss(w||[]);return p.providerData=p.providerData.filter(Ee=>W.has(Ee.providerId)),W.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function fs(b,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,a.Z)(function*(b,f,p=!1){const w=yield Yt(b,f._linkToIdToken(b.auth,yield b.getIdToken()),p);return Wr._forOperation(b,"link",w)})).apply(this,arguments)}function N(b,f,p){return K.apply(this,arguments)}function K(){return(K=(0,a.Z)(function*(b,f,p){yield ir(f);const W=!1===b?"provider-already-linked":"no-such-provider";Le(ss(f.providerData).has(p)===b,f.auth,W)})).apply(this,arguments)}function F(b,f){return ie.apply(this,arguments)}function ie(){return(ie=(0,a.Z)(function*(b,f,p=!1){const{auth:w}=b,W="reauthenticate";try{const Ee=yield Yt(b,Yr(w,W,f,b),p);Le(Ee.idToken,w,"internal-error");const vt=kn(Ee.idToken);Le(vt,w,"internal-error");const{sub:At}=vt;return Le(b.uid===At,w,"user-mismatch"),Wr._forOperation(b,W,Ee)}catch(Ee){throw"auth/user-not-found"===(null==Ee?void 0:Ee.code)&&te(w,"user-mismatch"),Ee}})).apply(this,arguments)}function Ve(b,f){return pt.apply(this,arguments)}function pt(){return(pt=(0,a.Z)(function*(b,f,p=!1){const w="signIn",W=yield Yr(b,w,f),Ee=yield Wr._fromIdTokenResponse(b,w,W);return p||(yield b._updateCurrentUser(Ee.user)),Ee})).apply(this,arguments)}function kt(b,f){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,a.Z)(function*(b,f){return Ve(or(b),f)})).apply(this,arguments)}function Rr(b,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,a.Z)(function*(b,f){const p=(0,G.m9)(b);return yield N(!1,p,f.providerId),fs(p,f)})).apply(this,arguments)}function _r(b,f){return Un.apply(this,arguments)}function Un(){return(Un=(0,a.Z)(function*(b,f){return F((0,G.m9)(b),f)})).apply(this,arguments)}function m(b,f){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)(function*(b,f){return zt(b,"POST","/v1/accounts:signInWithCustomToken",ut(b,f))})).apply(this,arguments)}function g(b,f){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)(function*(b,f){const p=or(b),w=yield m(p,{token:f,returnSecureToken:!0}),W=yield Wr._fromIdTokenResponse(p,"signIn",w);return yield p._updateCurrentUser(W.user),W})).apply(this,arguments)}class ee{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?gt._fromServerResponse(f,p):te(f,"internal-error")}}class gt extends ee{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new gt(p)}}function Ht(b,f,p){var w;Le((null===(w=p.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),Le(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Le(p.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Le(p.android.packageName.length>0,b,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function M(b,f,p){return S.apply(this,arguments)}function S(){return(S=(0,a.Z)(function*(b,f,p){const w=(0,G.m9)(b),W={requestType:"PASSWORD_RESET",email:f};p&&Ht(w,W,p),yield B(w,W)})).apply(this,arguments)}function C(b,f,p){return z.apply(this,arguments)}function z(){return(z=(0,a.Z)(function*(b,f,p){yield Qn((0,G.m9)(b),{oobCode:f,newPassword:p})})).apply(this,arguments)}function _t(b,f){return nn.apply(this,arguments)}function nn(){return(nn=(0,a.Z)(function*(b,f){yield Ue((0,G.m9)(b),{oobCode:f})})).apply(this,arguments)}function fr(b,f){return $r.apply(this,arguments)}function $r(){return($r=(0,a.Z)(function*(b,f){const p=(0,G.m9)(b),w=yield Qn(p,{oobCode:f}),W=w.requestType;switch(Le(W,p,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Le(w.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Le(w.mfaInfo,p,"internal-error");default:Le(w.email,p,"internal-error")}let Ee=null;return w.mfaInfo&&(Ee=ee._fromServerResponse(or(p),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:Ee},operation:W}})).apply(this,arguments)}function di(b,f){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(b,f){const{data:p}=yield fr((0,G.m9)(b),f);return p.email})).apply(this,arguments)}function Cs(b,f,p){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,a.Z)(function*(b,f,p){const w=or(b),W=yield ao(w,{returnSecureToken:!0,email:f,password:p}),Ee=yield Wr._fromIdTokenResponse(w,"signIn",W);return yield w._updateCurrentUser(Ee.user),Ee})).apply(this,arguments)}function Er(b,f,p){return kt((0,G.m9)(b),Ki.credential(f,p))}function Ma(b,f,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,a.Z)(function*(b,f,p){const w=(0,G.m9)(b),W={requestType:"EMAIL_SIGNIN",email:f};Le(p.handleCodeInApp,w,"argument-error"),p&&Ht(w,W,p),yield pe(w,W)})).apply(this,arguments)}function pu(b,f){const p=yi.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}function Bo(b,f,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,a.Z)(function*(b,f,p){const w=(0,G.m9)(b),W=Ki.credentialWithLink(f,p||Be());return Le(W._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),kt(w,W)})).apply(this,arguments)}function uo(b,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,a.Z)(function*(b,f){return dt(b,"POST","/v1/accounts:createAuthUri",ut(b,f))})).apply(this,arguments)}function Ra(b,f){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,a.Z)(function*(b,f){const w={identifier:f,continueUri:Rt()?Be():"http://localhost"},{signinMethods:W}=yield uo((0,G.m9)(b),w);return W||[]})).apply(this,arguments)}function Ks(b,f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,a.Z)(function*(b,f){const p=(0,G.m9)(b),W={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};f&&Ht(p.auth,W,f);const{email:Ee}=yield Ln(p.auth,W);Ee!==b.email&&(yield b.reload())})).apply(this,arguments)}function Ei(b,f,p){return gs.apply(this,arguments)}function gs(){return(gs=(0,a.Z)(function*(b,f,p){const w=(0,G.m9)(b),Ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:f};p&&Ht(w.auth,Ee,p);const{email:vt}=yield de(w.auth,Ee);vt!==b.email&&(yield b.reload())})).apply(this,arguments)}function ni(b,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,a.Z)(function*(b,f){return dt(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Zs(b,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,a.Z)(function*(b,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const w=(0,G.m9)(b),Ee={idToken:yield w.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},vt=yield Yt(w,ni(w.auth,Ee));w.displayName=vt.displayName||null,w.photoURL=vt.photoUrl||null;const At=w.providerData.find(({providerId:xn})=>"password"===xn);At&&(At.displayName=w.displayName,At.photoURL=w.photoURL),yield w._updateTokensIfNecessary(vt)})).apply(this,arguments)}function gu(b,f){return $o((0,G.m9)(b),f,null)}function el(b,f){return $o((0,G.m9)(b),null,f)}function $o(b,f,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,a.Z)(function*(b,f,p){const{auth:w}=b,Ee={idToken:yield b.getIdToken(),returnSecureToken:!0};f&&(Ee.email=f),p&&(Ee.password=p);const vt=yield Yt(b,Mr(w,Ee));yield b._updateTokensIfNecessary(vt,!0)})).apply(this,arguments)}class Us{constructor(f,p,w={}){this.isNewUser=f,this.providerId=p,this.profile=w}}class ta extends Us{constructor(f,p,w,W){super(f,p,w),this.username=W}}class Xs extends Us{constructor(f,p){super(f,"facebook.com",p)}}class na extends ta{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class ra extends Us{constructor(f,p){super(f,"google.com",p)}}class ia extends ta{constructor(f,p,w){super(f,"twitter.com",p,w)}}function Qs(b){const{user:f,_tokenResponse:p}=b;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function ea(b){var f,p;if(!b)return null;const{providerId:w}=b,W=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},Ee=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&(null==b?void 0:b.idToken)){const vt=null===(p=null===(f=kn(b.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(vt)return new Us(Ee,"anonymous"!==vt&&"custom"!==vt?vt:null)}if(!w)return null;switch(w){case"facebook.com":return new Xs(Ee,W);case"github.com":return new na(Ee,W);case"google.com":return new ra(Ee,W);case"twitter.com":return new ia(Ee,W,b.screenName||null);case"custom":case"anonymous":return new Us(Ee,null);default:return new Us(Ee,w,W)}}(p)}function Oa(b,f,p,w){return(0,G.m9)(b).onIdTokenChanged(f,p,w)}function Vi(b){return(0,G.m9)(b).signOut()}class ms{constructor(f,p){this.type=f,this.credential=p}static _fromIdtoken(f){return new ms("enroll",f)}static _fromMfaPendingCredential(f){return new ms("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,w;if(null==f?void 0:f.multiFactorSession){if(null===(p=f.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return ms._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return ms._fromIdtoken(f.multiFactorSession.idToken)}return null}}class oa{constructor(f,p,w){this.session=f,this.hints=p,this.signInResolver=w}static _fromError(f,p){const w=or(f),W=p.customData._serverResponse,Ee=(W.mfaInfo||[]).map(At=>ee._fromServerResponse(w,At));Le(W.mfaPendingCredential,w,"internal-error");const vt=ms._fromMfaPendingCredential(W.mfaPendingCredential);return new oa(vt,Ee,function(){var At=(0,a.Z)(function*(xn){const jn=yield xn._process(w,vt);delete W.mfaInfo,delete W.mfaPendingCredential;const Ir=Object.assign(Object.assign({},W),{idToken:jn.idToken,refreshToken:jn.refreshToken});switch(p.operationType){case"signIn":const kr=yield Wr._fromIdTokenResponse(w,p.operationType,Ir);return yield w._updateCurrentUser(kr.user),kr;case"reauthenticate":return Le(p.user,w,"internal-error"),Wr._forOperation(p.user,p.operationType,Ir);default:te(w,"internal-error")}});return function(xn){return At.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,a.Z)(function*(){return p.signInResolver(f)})()}}function mu(b,f){var p;const w=(0,G.m9)(b),W=f;return Le(f.customData.operationType,w,"argument-error"),Le(null===(p=W.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,w,"argument-error"),oa._fromError(w,W)}function Pa(b,f){return dt(b,"POST","/v2/accounts/mfaEnrollment:start",ut(b,f))}class Js{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(w=>ee._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Js(f)}getSession(){var f=this;return(0,a.Z)(function*(){return ms._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,p){var w=this;return(0,a.Z)(function*(){const W=f,Ee=yield w.getSession(),vt=yield Yt(w.user,W._process(w.user.auth,Ee,p));return yield w.user._updateTokensIfNecessary(vt),w.user.reload()})()}unenroll(f){var p=this;return(0,a.Z)(function*(){const w="string"==typeof f?f:f.uid,W=yield p.user.getIdToken(),Ee=yield Yt(p.user,function Na(b,f){return dt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(b,f))}(p.user.auth,{idToken:W,mfaEnrollmentId:w}));p.enrolledFactors=p.enrolledFactors.filter(({uid:vt})=>vt!==w),yield p.user._updateTokensIfNecessary(Ee);try{yield p.user.reload()}catch(vt){if("auth/user-token-expired"!==vt.code)throw vt}})()}}const Io=new WeakMap;function aa(b){const f=(0,G.m9)(b);return Io.has(f)||Io.set(f,Js._fromUser(f)),Io.get(f)}const as="__sak";class ua{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(as,"1"),this.storage.removeItem(as),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const es=(()=>{class b extends ua{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,w)=>this.onStorageEvent(p,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ka(){const b=(0,G.z$)();return De(b)||On(b)}()&&function Sr(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=In(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const w of Object.keys(this.listeners)){const W=this.storage.getItem(w),Ee=this.localCache[w];W!==Ee&&p(w,Ee,W)}}onStorageEvent(p,w=!1){if(!p.key)return void this.forAllChangedKeys((At,xn,jn)=>{this.notifyListeners(At,jn)});const W=p.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const At=this.storage.getItem(W);if(p.newValue!==At)null!==p.newValue?this.storage.setItem(W,p.newValue):this.storage.removeItem(W);else if(this.localCache[W]===p.newValue&&!w)return}const Ee=()=>{const At=this.storage.getItem(W);!w&&this.localCache[W]===At||this.notifyListeners(W,At)},vt=this.storage.getItem(W);!function Sn(){return(0,G.w1)()&&10===document.documentMode}()||vt===p.newValue||p.newValue===p.oldValue?Ee():setTimeout(Ee,10)}notifyListeners(p,w){this.localCache[p]=w;const W=this.listeners[p];if(W)for(const Ee of Array.from(W))Ee(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,w,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:w,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,w){var W=()=>super._set,Ee=this;return(0,a.Z)(function*(){yield W().call(Ee,p,w),Ee.localCache[p]=JSON.stringify(w)})()}_get(p){var w=()=>super._get,W=this;return(0,a.Z)(function*(){const Ee=yield w().call(W,p);return W.localCache[p]=JSON.stringify(Ee),Ee})()}_remove(p){var w=()=>super._remove,W=this;return(0,a.Z)(function*(){yield w().call(W,p),delete W.localCache[p]})()}}return b.type="LOCAL",b})(),lo=(()=>{class b extends ua{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,w){}_removeListener(p,w){}}return b.type="SESSION",b})();let nl=(()=>{class b{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const w=this.receivers.find(Ee=>Ee.isListeningto(p));if(w)return w;const W=new b(p);return this.receivers.push(W),W}isListeningto(p){return this.eventTarget===p}handleEvent(p){var w=this;return(0,a.Z)(function*(){const W=p,{eventId:Ee,eventType:vt,data:At}=W.data,xn=w.handlersMap[vt];if(!(null==xn?void 0:xn.size))return;W.ports[0].postMessage({status:"ack",eventId:Ee,eventType:vt});const jn=Array.from(xn).map(function(){var kr=(0,a.Z)(function*(Hs){return Hs(W.origin,At)});return function(Hs){return kr.apply(this,arguments)}}()),Ir=yield function Ps(b){return Promise.all(b.map(function(){var f=(0,a.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(w){return{fulfilled:!1,reason:w}}});return function(p){return f.apply(this,arguments)}}()))}(jn);W.ports[0].postMessage({status:"done",eventId:Ee,eventType:vt,response:Ir})})()}_subscribe(p,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(w)}_unsubscribe(p,w){this.handlersMap[p]&&w&&this.handlersMap[p].delete(w),(!w||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function la(b="",f=10){let p="";for(let w=0;w<f;w++)p+=Math.floor(10*Math.random());return b+p}class Xa{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,w=50){var W=this;return(0,a.Z)(function*(){const Ee="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Ee)throw new Error("connection_unavailable");let vt,At;return new Promise((xn,jn)=>{const Ir=la("",20);Ee.port1.start();const kr=setTimeout(()=>{jn(new Error("unsupported_event"))},w);At={messageChannel:Ee,onMessage(Hs){const Yo=Hs;if(Yo.data.eventId===Ir)switch(Yo.data.status){case"ack":clearTimeout(kr),vt=setTimeout(()=>{jn(new Error("timeout"))},3e3);break;case"done":clearTimeout(vt),xn(Yo.data.response);break;default:clearTimeout(kr),clearTimeout(vt),jn(new Error("invalid_response"))}}},W.handlers.add(At),Ee.port1.addEventListener("message",At.onMessage),W.target.postMessage({eventType:f,eventId:Ir,data:p},[Ee.port2])}).finally(()=>{At&&W.removeMessageHandler(At)})})()}}function Qr(){return window}function wo(){return void 0!==Qr().WorkerGlobalScope&&"function"==typeof Qr().importScripts}function Do(){return(Do=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Si="firebaseLocalStorageDb",ys="firebaseLocalStorage",to="fbase_key";class Fa{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Wt(b,f){return b.transaction([ys],f?"readwrite":"readonly").objectStore(ys)}function ts(){const b=indexedDB.open(Si,1);return new Promise((f,p)=>{b.addEventListener("error",()=>{p(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(ys,{keyPath:to})}catch(W){p(W)}}),b.addEventListener("success",(0,a.Z)(function*(){const w=b.result;w.objectStoreNames.contains(ys)?f(w):(w.close(),yield function ri(){const b=indexedDB.deleteDatabase(Si);return new Fa(b).toPromise()}(),f(yield ts()))}))})}function da(b,f,p){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(b,f,p){const w=Wt(b,!0).put({[to]:f,value:p});return new Fa(w).toPromise()})).apply(this,arguments)}function Uo(){return(Uo=(0,a.Z)(function*(b,f){const p=Wt(b,!1).get(f),w=yield new Fa(p).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function dn(b,f){const p=Wt(b,!0).delete(f);return new Fa(p).toPromise()}const D=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,a.Z)(function*(){return p.db||(p.db=yield ts()),p.db})()}_withRetries(p){var w=this;return(0,a.Z)(function*(){let W=0;for(;;)try{const Ee=yield w._openDb();return yield p(Ee)}catch(Ee){if(W++>3)throw Ee;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,a.Z)(function*(){return wo()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,a.Z)(function*(){p.receiver=nl._getInstance(function ho(){return wo()?self:null}()),p.receiver._subscribe("keyChanged",function(){var w=(0,a.Z)(function*(W,Ee){return{keyProcessed:(yield p._poll()).includes(Ee.key)}});return function(W,Ee){return w.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var w=(0,a.Z)(function*(W,Ee){return["keyChanged"]});return function(W,Ee){return w.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,a.Z)(function*(){var w,W;if(p.activeServiceWorker=yield function co(){return Do.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Xa(p.activeServiceWorker);const Ee=yield p.sender._send("ping",{},800);!Ee||(null===(w=Ee[0])||void 0===w?void 0:w.fulfilled)&&(null===(W=Ee[0])||void 0===W?void 0:W.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var w=this;return(0,a.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function js(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:p},w.serviceWorkerReceiverAvailable?800:50)}catch(W){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ts();return yield da(p,as,"1"),yield dn(p,as),!0}catch(p){}return!1})()}_withPendingWrite(p){var w=this;return(0,a.Z)(function*(){w.pendingWrites++;try{yield p()}finally{w.pendingWrites--}})()}_set(p,w){var W=this;return(0,a.Z)(function*(){return W._withPendingWrite((0,a.Z)(function*(){return yield W._withRetries(Ee=>da(Ee,p,w)),W.localCache[p]=w,W.notifyServiceWorker(p)}))})()}_get(p){var w=this;return(0,a.Z)(function*(){const W=yield w._withRetries(Ee=>function Vn(b,f){return Uo.apply(this,arguments)}(Ee,p));return w.localCache[p]=W,W})()}_remove(p){var w=this;return(0,a.Z)(function*(){return w._withPendingWrite((0,a.Z)(function*(){return yield w._withRetries(W=>dn(W,p)),delete w.localCache[p],w.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,a.Z)(function*(){const w=yield p._withRetries(vt=>{const At=Wt(vt,!1).getAll();return new Fa(At).toPromise()});if(!w)return[];if(0!==p.pendingWrites)return[];const W=[],Ee=new Set;for(const{fbase_key:vt,value:At}of w)Ee.add(vt),JSON.stringify(p.localCache[vt])!==JSON.stringify(At)&&(p.notifyListeners(vt,At),W.push(vt));for(const vt of Object.keys(p.localCache))p.localCache[vt]&&!Ee.has(vt)&&(p.notifyListeners(vt,null),W.push(vt));return W})()}notifyListeners(p,w){this.localCache[p]=w;const W=this.listeners[p];if(W)for(const Ee of Array.from(W))Ee(w)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function E(b,f){return dt(b,"POST","/v2/accounts/mfaSignIn:start",ut(b,f))}function U(){return(U=(0,a.Z)(function*(b){return(yield dt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Me(b){return new Promise((f,p)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=f,w.onerror=W=>{const Ee=Ye("internal-error");Ee.customData=W,p(Ee)},w.type="text/javascript",w.charset="UTF-8",function J(){var b,f;return null!==(f=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==f?f:document}().appendChild(w)})}function He(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ur=1e12;class An{constructor(f){this.auth=f,this.counter=ur,this._widgets=new Map}render(f,p){const w=this.counter;return this._widgets.set(w,new _n(f,this.auth.name,p||{})),this.counter++,w}reset(f){var p;const w=f||ur;null===(p=this._widgets.get(w))||void 0===p||p.delete(),this._widgets.delete(w)}getResponse(f){var p;return(null===(p=this._widgets.get(f||ur))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,a.Z)(function*(){var w;return null===(w=p._widgets.get(f||ur))||void 0===w||w.execute(),""})()}}class _n{constructor(f,p,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof f?document.getElementById(f):f;Le(W,"argument-error",{appName:p}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function br(b){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ai=He("rcb"),Ar=new Xe(3e4,6e4);class Qa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Qr().grecaptcha}load(f,p=""){return Le(function Ss(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Qr().grecaptcha):new Promise((w,W)=>{const Ee=Qr().setTimeout(()=>{W(Ye(f,"network-request-failed"))},Ar.get());Qr()[Ai]=()=>{Qr().clearTimeout(Ee),delete Qr()[Ai];const At=Qr().grecaptcha;if(!At)return void W(Ye(f,"internal-error"));const xn=At.render;At.render=(jn,Ir)=>{const kr=xn(jn,Ir);return this.counter++,kr},this.hostLanguage=p,w(At)},Me(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:Ai,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(Ee),W(Ye(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Qr().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class jo{load(f){return(0,a.Z)(function*(){return new An(f)})()}clearedOneInstance(){}}const Ja="recaptcha",Or={theme:"light",type:"image"};class fi{constructor(f,p=Object.assign({},Or),w){this.parameters=p,this.type=Ja,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=or(w),this.isInvisible="invisible"===this.parameters.size,Le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof f?document.getElementById(f):f;Le(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jo:new Qa,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(p)||new Promise(Ee=>{const vt=At=>{!At||(f.tokenChangeListeners.delete(vt),Ee(At))};f.tokenChangeListeners.add(vt),f.isInvisible&&w.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Le(!this.parameters.sitekey,this.auth,"argument-error"),Le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(w=>w(p)),"function"==typeof f)f(p);else if("string"==typeof f){const w=Qr()[f];"function"==typeof w&&w(p)}}}assertNotDestroyed(){Le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const w=document.createElement("div");p.appendChild(w),p=w}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){Le(Rt()&&!wo(),f.auth,"internal-error"),yield function zi(){let b=null;return new Promise(f=>{"complete"!==document.readyState?(b=()=>f(),window.addEventListener("load",b)):f()}).catch(f=>{throw b&&window.removeEventListener("load",b),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function O(b){return U.apply(this,arguments)}(f.auth);Le(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ha{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=ki._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Td(b,f,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,a.Z)(function*(b,f,p){const w=or(b),W=yield fa(w,f,(0,G.m9)(p));return new ha(W,Ee=>kt(w,Ee))})).apply(this,arguments)}function Sd(b,f,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,a.Z)(function*(b,f,p){const w=(0,G.m9)(b);yield N(!1,w,"phone");const W=yield fa(w.auth,f,(0,G.m9)(p));return new ha(W,Ee=>Rr(w,Ee))})).apply(this,arguments)}function pi(b,f,p){return ks.apply(this,arguments)}function ks(){return(ks=(0,a.Z)(function*(b,f,p){const w=(0,G.m9)(b),W=yield fa(w.auth,f,(0,G.m9)(p));return new ha(W,Ee=>_r(w,Ee))})).apply(this,arguments)}function fa(b,f,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,a.Z)(function*(b,f,p){var w;const W=yield p.verify();try{let Ee;if(Le("string"==typeof W,b,"argument-error"),Le(p.type===Ja,b,"argument-error"),Ee="string"==typeof f?{phoneNumber:f}:f,"session"in Ee){const vt=Ee.session;if("phoneNumber"in Ee)return Le("enroll"===vt.type,b,"internal-error"),(yield Pa(b,{idToken:vt.credential,phoneEnrollmentInfo:{phoneNumber:Ee.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{Le("signin"===vt.type,b,"internal-error");const At=(null===(w=Ee.multiFactorHint)||void 0===w?void 0:w.uid)||Ee.multiFactorUid;return Le(At,b,"missing-multi-factor-info"),(yield E(b,{mfaPendingCredential:vt.credential,mfaEnrollmentId:At,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:vt}=yield ei(b,{phoneNumber:Ee.phoneNumber,recaptchaToken:W});return vt}}finally{p._reset()}})).apply(this,arguments)}function Co(b,f){return To.apply(this,arguments)}function To(){return(To=(0,a.Z)(function*(b,f){yield fs((0,G.m9)(b),f)})).apply(this,arguments)}let po=(()=>{class b{constructor(p){this.providerId=b.PROVIDER_ID,this.auth=or(p)}verifyPhoneNumber(p,w){return fa(this.auth,p,(0,G.m9)(w))}static credential(p,w){return ki._fromVerification(p,w)}static credentialFromResult(p){return b.credentialFromTaggedObject(p)}static credentialFromError(p){return b.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:w,temporaryProof:W}=p;return w&&W?ki._fromTokenResponse(w,W):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function vs(b,f){return f?he(f):(Le(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class xi extends En{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Dn(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Dn(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Dn(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function go(b){return Ve(b.auth,new xi(b),b.bypassAuthState)}function fn(b){const{auth:f,user:p}=b;return Le(p,f,"internal-error"),F(p,new xi(b),b.bypassAuthState)}function yu(b){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,a.Z)(function*(b){const{auth:f,user:p}=b;return Le(p,f,"internal-error"),fs(p,new xi(b),b.bypassAuthState)})).apply(this,arguments)}class So{constructor(f,p,w,W,Ee=!1){this.auth=f,this.resolver=w,this.user=W,this.bypassAuthState=Ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,a.Z)(function*(w,W){f.pendingPromise={resolve:w,reject:W};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Ee){f.reject(Ee)}});return function(w,W){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,a.Z)(function*(){const{urlResponse:w,sessionId:W,postBody:Ee,tenantId:vt,error:At,type:xn}=f;if(At)return void p.reject(At);const jn={auth:p.auth,requestUri:w,sessionId:W,tenantId:vt||void 0,postBody:Ee||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(xn)(jn))}catch(Ir){p.reject(Ir)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return go;case"linkViaPopup":case"linkViaRedirect":return yu;case"reauthViaPopup":case"reauthViaRedirect":return fn;default:te(this.auth,"internal-error")}}resolve(f){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _s=new Xe(2e3,1e4);function La(b,f,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,a.Z)(function*(b,f,p){const w=or(b);je(b,f,jr);const W=vs(w,p);return new xo(w,"signInViaPopup",f,W).executeNotNull()})).apply(this,arguments)}function Ec(b,f,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,a.Z)(function*(b,f,p){const w=(0,G.m9)(b);je(w.auth,f,jr);const W=vs(w.auth,p);return new xo(w.auth,"reauthViaPopup",f,W,w).executeNotNull()})).apply(this,arguments)}function bs(b,f,p){return ns.apply(this,arguments)}function ns(){return(ns=(0,a.Z)(function*(b,f,p){const w=(0,G.m9)(b);je(w.auth,f,jr);const W=vs(w.auth,p);return new xo(w.auth,"linkViaPopup",f,W,w).executeNotNull()})).apply(this,arguments)}let xo=(()=>{class b extends So{constructor(p,w,W,Ee,vt){super(p,w,Ee,vt),this.provider=W,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var p=this;return(0,a.Z)(function*(){const w=yield p.execute();return Le(w,p.auth,"internal-error"),w})()}onExecution(){var p=this;return(0,a.Z)(function*(){ce(1===p.filter.length,"Popup operations only handle one event");const w=la();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],w),p.authWindow.associatedEvent=w,p.resolver._originValidation(p.auth).catch(W=>{p.reject(W)}),p.resolver._isIframeWebStorageSupported(p.auth,W=>{W||p.reject(Ye(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const p=()=>{var w,W;this.pollId=(null===(W=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===W?void 0:W.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,_s.get())};p()}}return b.currentPopupAction=null,b})();const pa=new Map;class Rl extends So{constructor(f,p,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,a.Z)(function*(){let w=pa.get(p.auth._key());if(!w){try{const Ee=(yield function vu(b,f){return ga.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;w=()=>Promise.resolve(Ee)}catch(W){w=()=>Promise.reject(W)}pa.set(p.auth._key(),w)}return p.bypassAuthState||pa.set(p.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,w=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(w,f);if("unknown"!==f.type){if(f.eventId){const W=yield w.auth._redirectUserForId(f.eventId);if(W)return w.user=W,p().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function ga(){return(ga=(0,a.Z)(function*(b,f){const p=st(f),w=ke(b);if(!(yield w._isAvailable()))return!1;const W="true"===(yield w._get(p));return yield w._remove(p),W})).apply(this,arguments)}function x(b,f){return V.apply(this,arguments)}function V(){return(V=(0,a.Z)(function*(b,f){return ke(b)._set(st(f),"true")})).apply(this,arguments)}function ne(){pa.clear()}function ke(b){return he(b._redirectPersistence)}function st(b){return $e("pendingRedirect",b.config.apiKey,b.name)}function mt(b,f,p){return function Kt(b,f,p){return Jt.apply(this,arguments)}(b,f,p)}function Jt(){return(Jt=(0,a.Z)(function*(b,f,p){const w=or(b);je(b,f,jr);const W=vs(w,p);return yield x(W,w),W._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function Jn(b,f,p){return function rr(b,f,p){return mr.apply(this,arguments)}(b,f,p)}function mr(){return(mr=(0,a.Z)(function*(b,f,p){const w=(0,G.m9)(b);je(w.auth,f,jr);const W=vs(w.auth,p);yield x(W,w.auth);const Ee=yield Mo(w);return W._openRedirect(w.auth,f,"reauthViaRedirect",Ee)})).apply(this,arguments)}function lr(b,f,p){return function rs(b,f,p){return Mi.apply(this,arguments)}(b,f,p)}function Mi(){return(Mi=(0,a.Z)(function*(b,f,p){const w=(0,G.m9)(b);je(w.auth,f,jr);const W=vs(w.auth,p);yield N(!1,w,f.providerId),yield x(W,w.auth);const Ee=yield Mo(w);return W._openRedirect(w.auth,f,"linkViaRedirect",Ee)})).apply(this,arguments)}function Go(b,f){return As.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(b,f){return yield or(b)._initializationPromise,ma(b,f,!1)})).apply(this,arguments)}function ma(b,f){return qr.apply(this,arguments)}function qr(){return(qr=(0,a.Z)(function*(b,f,p=!1){const w=or(b),W=vs(w,f),vt=yield new Rl(w,W,p).execute();return vt&&!p&&(delete vt.user._redirectEventId,yield w._persistUserIfCurrent(vt.user),yield w._setRedirectUser(null,f)),vt})).apply(this,arguments)}function Mo(b){return mo.apply(this,arguments)}function mo(){return(mo=(0,a.Z)(function*(b){const f=la(`${b.uid}:::`);return b._redirectEventId=f,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),f})).apply(this,arguments)}class zo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(p=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ad(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sl(b);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var w;if(f.error&&!sl(f)){const W=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";p.onError(Ye(this.auth,W))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const w=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(il(f))}saveEventToCache(f){this.cachedEventUids.add(il(f)),this.lastProcessedEventTime=Date.now()}}function il(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(f=>f).join("-")}function sl({type:b,error:f}){return"unknown"===b&&"auth/no-auth-event"===(null==f?void 0:f.code)}function _u(b){return wi.apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(b,f={}){return dt(b,"GET","/v1/projects",f)})).apply(this,arguments)}const xd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ol=/^https?/;function al(){return(al=(0,a.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:f}=yield _u(b);for(const p of f)try{if(Ic(p))return}catch(w){}te(b,"unauthorized-domain")})).apply(this,arguments)}function Ic(b){const f=Be(),{protocol:p,hostname:w}=new URL(f);if(b.startsWith("chrome-extension://")){const vt=new URL(b);return""===vt.hostname&&""===w?"chrome-extension:"===p&&b.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&vt.hostname===w}if(!ol.test(p))return!1;if(xd.test(b))return w===b;const W=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(w)}const Ol=new Xe(3e4,6e4);function wc(){const b=Qr().___jsl;if(null==b?void 0:b.H)for(const f of Object.keys(b.H))if(b.H[f].r=b.H[f].r||[],b.H[f].L=b.H[f].L||[],b.H[f].r=[...b.H[f].L],b.CP)for(let p=0;p<b.CP.length;p++)b.CP[p]=null}let Ro=null;function Oo(b){return Ro=Ro||function nf(b){return new Promise((f,p)=>{var w,W,Ee;function vt(){wc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{wc(),p(Ye(b,"network-request-failed"))},timeout:Ol.get()})}if(null===(W=null===(w=Qr().gapi)||void 0===w?void 0:w.iframes)||void 0===W?void 0:W.Iframe)f(gapi.iframes.getContext());else{if(!(null===(Ee=Qr().gapi)||void 0===Ee?void 0:Ee.load)){const At=He("iframefcb");return Qr()[At]=()=>{gapi.load?vt():p(Ye(b,"network-request-failed"))},Me(`https://apis.google.com/js/api.js?onload=${At}`).catch(xn=>p(xn))}vt()}}).catch(f=>{throw Ro=null,f})}(b),Ro}const ul=new Xe(5e3,15e3),Wo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ll(b){const f=b.config;Le(f.authDomain,b,"auth-domain-config-required");const p=f.emulator?qe(f,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:b.name,v:$.SDK_VERSION},W=Rd.get(b.config.apiHost);W&&(w.eid=W);const Ee=b._getFrameworks();return Ee.length&&(w.fw=Ee.join(",")),`${p}?${(0,G.xO)(w).slice(1)}`}function Eu(){return Eu=(0,a.Z)(function*(b){const f=yield Oo(b),p=Qr().gapi;return Le(p,b,"internal-error"),f.open({where:document.body,url:ll(b),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wo,dontclear:!0},w=>new Promise(function(){var W=(0,a.Z)(function*(Ee,vt){yield w.restyle({setHideOnLeave:!1});const At=Ye(b,"network-request-failed"),xn=Qr().setTimeout(()=>{vt(At)},ul.get());function jn(){Qr().clearTimeout(xn),Ee(w)}w.ping(jn).then(jn,()=>{vt(At)})});return function(Ee,vt){return W.apply(this,arguments)}}()))}),Eu.apply(this,arguments)}const Dc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function fl(b,f,p,w,W,Ee){Le(b.config.authDomain,b,"auth-domain-config-required"),Le(b.config.apiKey,b,"invalid-api-key");const vt={apiKey:b.config.apiKey,appName:b.name,authType:p,redirectUrl:w,v:$.SDK_VERSION,eventId:W};if(f instanceof jr){f.setDefaultLanguage(b.languageCode),vt.providerId=f.providerId||"",(0,G.xb)(f.getCustomParameters())||(vt.customParameters=JSON.stringify(f.getCustomParameters()));for(const[xn,jn]of Object.entries(Ee||{}))vt[xn]=jn}if(f instanceof ji){const xn=f.getScopes().filter(jn=>""!==jn);xn.length>0&&(vt.scopes=xn.join(","))}b.tenantId&&(vt.tid=b.tenantId);const At=vt;for(const xn of Object.keys(At))void 0===At[xn]&&delete At[xn];return`${function Tc({config:b}){return b.emulator?qe(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,G.xO)(At).slice(1)}`}const Fl="webStorageSupport",Sc=class Od{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lo,this._completeRedirectFn=ma}_openPopup(f,p,w,W){var Ee=this;return(0,a.Z)(function*(){var vt;ce(null===(vt=Ee.eventManagers[f._key()])||void 0===vt?void 0:vt.manager,"_initialize() not called before _openPopup()");const At=fl(f,p,w,Be(),W);return function Nl(b,f,p,w=500,W=600){const Ee=Math.max((window.screen.availHeight-W)/2,0).toString(),vt=Math.max((window.screen.availWidth-w)/2,0).toString();let At="";const xn=Object.assign(Object.assign({},Dc),{width:w.toString(),height:W.toString(),top:Ee,left:vt}),jn=(0,G.z$)().toLowerCase();p&&(At=it(jn)?"_blank":p),me(jn)&&(f=f||"http://localhost",xn.scrollbars="yes");const Ir=Object.entries(xn).reduce((Hs,[Yo,Tu])=>`${Hs}${Yo}=${Tu},`,"");if(function $n(b=(0,G.z$)()){var f;return On(b)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(jn)&&"_self"!==At)return function dl(b,f){const p=document.createElement("a");p.href=b,p.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(w)}(f||"",At),new Cc(null);const kr=window.open(f||"",At,Ir);Le(kr,b,"popup-blocked");try{kr.focus()}catch(Hs){}return new Cc(kr)}(f,At,la())})()}_openRedirect(f,p,w,W){var Ee=this;return(0,a.Z)(function*(){return yield Ee._originValidation(f),function ca(b){Qr().location.href=b}(fl(f,p,w,Be(),W)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:W,promise:Ee}=this.eventManagers[p];return W?Promise.resolve(W):(ce(Ee,"If manager is not set, promise should be"),Ee)}const w=this.initAndGetManager(f);return this.eventManagers[p]={promise:w},w.catch(()=>{delete this.eventManagers[p]}),w}initAndGetManager(f){var p=this;return(0,a.Z)(function*(){const w=yield function Pl(b){return Eu.apply(this,arguments)}(f),W=new zo(f);return w.register("authEvent",Ee=>(Le(null==Ee?void 0:Ee.authEvent,f,"invalid-auth-event"),{status:W.onEvent(Ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:W},p.iframes[f._key()]=w,W})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Fl,{type:Fl},W=>{var Ee;const vt=null===(Ee=null==W?void 0:W[0])||void 0===Ee?void 0:Ee[Fl];void 0!==vt&&p(!!vt),te(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function tf(b){return al.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return In()||De()||On()}};class Iu extends class Pd{constructor(f){this.factorId=f}_process(f,p,w){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,w);case"signin":return this._finalizeSignIn(f,p.credential);default:return Ct("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Iu(f)}_finalizeEnroll(f,p,w){return function oi(b,f){return dt(b,"POST","/v2/accounts/mfaEnrollment:finalize",ut(b,f))}(f,{idToken:p,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function _(b,f){return dt(b,"POST","/v2/accounts/mfaSignIn:finalize",ut(b,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let sf=(()=>{class b{constructor(){}static assertion(p){return Iu._fromCredential(p)}}return b.FACTOR_ID="phone",b})();var ya="@firebase/auth",eu="0.19.12";class wu{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,a.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(w=>{var W;f((null===(W=w)||void 0===W?void 0:W.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Cu(b=(0,$.getApp)()){const f=(0,$._getProvider)(b,"auth");return f.isInitialized()?f.getImmediate():function Ae(b,f){const p=(0,$._getProvider)(b,"auth");if(p.isInitialized()){const W=p.getImmediate(),Ee=p.getOptions();if((0,G.vZ)(Ee,null!=f?f:{}))return W;te(W,"already-initialized")}return p.initialize({options:f})}(b,{popupRedirectResolver:Sc,persistence:[D,es,lo]})}!function af(b){(0,$._registerComponent)(new se.wA("auth",(f,{options:p})=>{const w=f.getProvider("app").getImmediate(),W=f.getProvider("heartbeat"),{apiKey:Ee,authDomain:vt}=w.options;return((At,xn)=>{Le(Ee&&!Ee.includes(":"),"invalid-api-key",{appName:At.name}),Le(!(null==vt?void 0:vt.includes(":")),"argument-error",{appName:At.name});const jn={apiKey:Ee,authDomain:vt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hr(b)},Ir=new Dr(At,xn,jn);return function ze(b,f){const p=(null==f?void 0:f.persistence)||[],w=(Array.isArray(p)?p:[p]).map(he);(null==f?void 0:f.errorMap)&&b._updateErrorMap(f.errorMap),b._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(Ir,p),Ir})(w,W)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,w)=>{f.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new se.wA("auth-internal",f=>{const p=or(f.getProvider("auth").getImmediate());return new wu(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(ya,eu,function Du(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,$.registerVersion)(ya,eu,"esm2017")}("Browser")},2090:(Xt,tt,P)=>{"use strict";P.d(tt,{BH:()=>Pe,LL:()=>Rt,ZR:()=>Be,zI:()=>he,US:()=>Te,tV:()=>oe,L:()=>ye,$s:()=>Pr,r3:()=>dt,Sg:()=>rt,ne:()=>pn,vZ:()=>zt,ZB:()=>ue,Lj:()=>Ut,pd:()=>Nn,m9:()=>sr,z$:()=>fe,jU:()=>Je,ru:()=>te,d:()=>be,xb:()=>hn,w1:()=>je,hl:()=>ce,uI:()=>ve,UG:()=>ge,b$:()=>Ye,G6:()=>Ct,Mn:()=>ot,X3:()=>mn,xO:()=>It,zd:()=>Pn,eu:()=>le});var a=P(5861);const we=function(Fe){const _e=[];let $e=0;for(let nt=0;nt<Fe.length;nt++){let ae=Fe.charCodeAt(nt);ae<128?_e[$e++]=ae:ae<2048?(_e[$e++]=ae>>6|192,_e[$e++]=63&ae|128):55296==(64512&ae)&&nt+1<Fe.length&&56320==(64512&Fe.charCodeAt(nt+1))?(ae=65536+((1023&ae)<<10)+(1023&Fe.charCodeAt(++nt)),_e[$e++]=ae>>18|240,_e[$e++]=ae>>12&63|128,_e[$e++]=ae>>6&63|128,_e[$e++]=63&ae|128):(_e[$e++]=ae>>12|224,_e[$e++]=ae>>6&63|128,_e[$e++]=63&ae|128)}return _e},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Fe,_e){if(!Array.isArray(Fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $e=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,nt=[];for(let ae=0;ae<Fe.length;ae+=3){const me=Fe[ae],De=ae+1<Fe.length,it=De?Fe[ae+1]:0,Nt=ae+2<Fe.length,cn=Nt?Fe[ae+2]:0;let On=(15&it)<<2|cn>>6,gr=63&cn;Nt||(gr=64,De||(On=64)),nt.push($e[me>>2],$e[(3&me)<<4|it>>4],$e[On],$e[gr])}return nt.join("")},encodeString(Fe,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(Fe):this.encodeByteArray(we(Fe),_e)},decodeString(Fe,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(Fe):function(Fe){const _e=[];let $e=0,nt=0;for(;$e<Fe.length;){const ae=Fe[$e++];if(ae<128)_e[nt++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const me=Fe[$e++];_e[nt++]=String.fromCharCode((31&ae)<<6|63&me)}else if(ae>239&&ae<365){const Nt=((7&ae)<<18|(63&Fe[$e++])<<12|(63&Fe[$e++])<<6|63&Fe[$e++])-65536;_e[nt++]=String.fromCharCode(55296+(Nt>>10)),_e[nt++]=String.fromCharCode(56320+(1023&Nt))}else{const me=Fe[$e++],De=Fe[$e++];_e[nt++]=String.fromCharCode((15&ae)<<12|(63&me)<<6|63&De)}}return _e.join("")}(this.decodeStringToByteArray(Fe,_e))},decodeStringToByteArray(Fe,_e){this.init_();const $e=_e?this.charToByteMapWebSafe_:this.charToByteMap_,nt=[];for(let ae=0;ae<Fe.length;){const me=$e[Fe.charAt(ae++)],it=ae<Fe.length?$e[Fe.charAt(ae)]:0;++ae;const cn=ae<Fe.length?$e[Fe.charAt(ae)]:64;++ae;const an=ae<Fe.length?$e[Fe.charAt(ae)]:64;if(++ae,null==me||null==it||null==cn||null==an)throw Error();nt.push(me<<2|it>>4),64!==cn&&(nt.push(it<<4&240|cn>>2),64!==an&&nt.push(cn<<6&192|an))}return nt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Fe=0;Fe<this.ENCODED_VALS.length;Fe++)this.byteToCharMap_[Fe]=this.ENCODED_VALS.charAt(Fe),this.charToByteMap_[this.byteToCharMap_[Fe]]=Fe,this.byteToCharMapWebSafe_[Fe]=this.ENCODED_VALS_WEBSAFE.charAt(Fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Fe]]=Fe,Fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Fe)]=Fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Fe)]=Fe)}}},ye=function(Fe){return function(Fe){const _e=we(Fe);return Te.encodeByteArray(_e,!0)}(Fe).replace(/\./g,"")},oe=function(Fe){try{return Te.decodeString(Fe,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};function ue(Fe,_e){if(!(_e instanceof Object))return _e;switch(_e.constructor){case Date:return new Date(_e.getTime());case Object:void 0===Fe&&(Fe={});break;case Array:Fe=[];break;default:return _e}for(const $e in _e)!_e.hasOwnProperty($e)||!Q($e)||(Fe[$e]=ue(Fe[$e],_e[$e]));return Fe}function Q(Fe){return"__proto__"!==Fe}class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,$e)=>{this.resolve=_e,this.reject=$e})}wrapCallback(_e){return($e,nt)=>{$e?this.reject($e):this.resolve(nt),"function"==typeof _e&&(this.promise.catch(()=>{}),1===_e.length?_e($e):_e($e,nt))}}}function rt(Fe,_e){if(Fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const nt=_e||"demo-project",ae=Fe.iat||0,me=Fe.sub||Fe.user_id;if(!me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const De=Object.assign({iss:`https://securetoken.google.com/${nt}`,aud:nt,iat:ae,exp:ae+3600,auth_time:ae,sub:me,user_id:me,firebase:{sign_in_provider:"custom",identities:{}}},Fe);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(De)),""].join(".")}function fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fe())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Fe){return!1}}function Je(){return"object"==typeof self&&self.self===self}function te(){const Fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Fe&&void 0!==Fe.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){return fe().indexOf("Electron/")>=0}function je(){const Fe=fe();return Fe.indexOf("MSIE ")>=0||Fe.indexOf("Trident/")>=0}function ot(){return fe().indexOf("MSAppHost/")>=0}function Ct(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ce(){return"object"==typeof indexedDB}function le(){return new Promise((Fe,_e)=>{try{let $e=!0;const nt="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(nt);ae.onsuccess=()=>{ae.result.close(),$e||self.indexedDB.deleteDatabase(nt),Fe(!0)},ae.onupgradeneeded=()=>{$e=!1},ae.onerror=()=>{var me;_e((null===(me=ae.error)||void 0===me?void 0:me.message)||"")}}catch($e){_e($e)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Be extends Error{constructor(_e,$e,nt){super($e),this.code=_e,this.customData=nt,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rt.prototype.create)}}class Rt{constructor(_e,$e,nt){this.service=_e,this.serviceName=$e,this.errors=nt}create(_e,...$e){const nt=$e[0]||{},ae=`${this.service}/${_e}`,me=this.errors[_e],De=me?function Gt(Fe,_e){return Fe.replace(at,($e,nt)=>{const ae=_e[nt];return null!=ae?String(ae):`<${nt}?>`})}(me,nt):"Error";return new Be(ae,`${this.serviceName}: ${De} (${ae}).`,nt)}}const at=/\{\$([^}]+)}/g;function dt(Fe,_e){return Object.prototype.hasOwnProperty.call(Fe,_e)}function hn(Fe){for(const _e in Fe)if(Object.prototype.hasOwnProperty.call(Fe,_e))return!1;return!0}function zt(Fe,_e){if(Fe===_e)return!0;const $e=Object.keys(Fe),nt=Object.keys(_e);for(const ae of $e){if(!nt.includes(ae))return!1;const me=Fe[ae],De=_e[ae];if(gn(me)&&gn(De)){if(!zt(me,De))return!1}else if(me!==De)return!1}for(const ae of nt)if(!$e.includes(ae))return!1;return!0}function gn(Fe){return null!==Fe&&"object"==typeof Fe}function It(Fe){const _e=[];for(const[$e,nt]of Object.entries(Fe))Array.isArray(nt)?nt.forEach(ae=>{_e.push(encodeURIComponent($e)+"="+encodeURIComponent(ae))}):_e.push(encodeURIComponent($e)+"="+encodeURIComponent(nt));return _e.length?"&"+_e.join("&"):""}function Pn(Fe){const _e={};return Fe.replace(/^\?/,"").split("&").forEach(nt=>{if(nt){const[ae,me]=nt.split("=");_e[decodeURIComponent(ae)]=decodeURIComponent(me)}}),_e}function Nn(Fe){const _e=Fe.indexOf("?");if(!_e)return"";const $e=Fe.indexOf("#",_e);return Fe.substring(_e,$e>0?$e:void 0)}function pn(Fe,_e){const $e=new Xn(Fe,_e);return $e.subscribe.bind($e)}class Xn{constructor(_e,$e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$e,this.task.then(()=>{_e(this)}).catch(nt=>{this.error(nt)})}next(_e){this.forEachObserver($e=>{$e.next(_e)})}error(_e){this.forEachObserver($e=>{$e.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,$e,nt){let ae;if(void 0===_e&&void 0===$e&&void 0===nt)throw new Error("Missing Observer.");ae=function Hn(Fe,_e){if("object"!=typeof Fe||null===Fe)return!1;for(const $e of _e)if($e in Fe&&"function"==typeof Fe[$e])return!0;return!1}(_e,["next","error","complete"])?_e:{next:_e,error:$e,complete:nt},void 0===ae.next&&(ae.next=wn),void 0===ae.error&&(ae.error=wn),void 0===ae.complete&&(ae.complete=wn);const me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch(De){}}),this.observers.push(ae),me}unsubscribeOne(_e){void 0===this.observers||void 0===this.observers[_e]||(delete this.observers[_e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let $e=0;$e<this.observers.length;$e++)this.sendOne($e,_e)}sendOne(_e,$e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[_e])try{$e(this.observers[_e])}catch(nt){"undefined"!=typeof console&&console.error&&console.error(nt)}})}close(_e){this.finalized||(this.finalized=!0,void 0!==_e&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wn(){}function Pr(Fe,_e=1e3,$e=2){const nt=_e*Math.pow($e,Fe),ae=Math.round(.5*nt*(Math.random()-.5)*2);return Math.min(144e5,nt+ae)}function sr(Fe){return Fe&&Fe._delegate?Fe._delegate:Fe}function Mn(Fe,_e){return new Promise(($e,nt)=>{Fe.onsuccess=ae=>{$e(ae.target.result)},Fe.onerror=ae=>{var me;nt(`${_e}: ${null===(me=ae.target.error)||void 0===me?void 0:me.message}`)}})}class zn{constructor(_e){this._db=_e,this.objectStoreNames=this._db.objectStoreNames}transaction(_e,$e="readonly"){return new qt(this._db.transaction.call(this._db,_e,$e))}createObjectStore(_e,$e){return new Dt(this._db.createObjectStore(_e,$e))}close(){this._db.close()}}class qt{constructor(_e){this._transaction=_e,this.complete=new Promise(($e,nt)=>{this._transaction.oncomplete=function(){$e()},this._transaction.onerror=()=>{nt(this._transaction.error)},this._transaction.onabort=()=>{nt(this._transaction.error)}})}objectStore(_e){return new Dt(this._transaction.objectStore(_e))}}class Dt{constructor(_e){this._store=_e}index(_e){return new Pt(this._store.index(_e))}createIndex(_e,$e,nt){return new Pt(this._store.createIndex(_e,$e,nt))}get(_e){return Mn(this._store.get(_e),"Error reading from IndexedDB")}put(_e,$e){return Mn(this._store.put(_e,$e),"Error writing to IndexedDB")}delete(_e){return Mn(this._store.delete(_e),"Error deleting from IndexedDB")}clear(){return Mn(this._store.clear(),"Error clearing IndexedDB object store")}}class Pt{constructor(_e){this._index=_e}get(_e){return Mn(this._index.get(_e),"Error reading from IndexedDB")}}function mn(Fe,_e,$e){return new Promise((nt,ae)=>{try{const me=indexedDB.open(Fe,_e);me.onsuccess=De=>{nt(new zn(De.target.result))},me.onerror=De=>{var it;ae(`Error opening indexedDB: ${null===(it=De.target.error)||void 0===it?void 0:it.message}`)},me.onupgradeneeded=De=>{$e(new zn(me.result),De.oldVersion,De.newVersion,new qt(me.transaction))}}catch(me){ae(`Error opening indexedDB: ${me.message}`)}})}function Ut(Fe){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,a.Z)(function*(Fe){return new Promise((_e,$e)=>{try{const nt=indexedDB.deleteDatabase(Fe);nt.onsuccess=()=>{_e()},nt.onerror=ae=>{var me;$e(`Error deleting indexedDB database "${Fe}": ${null===(me=ae.target.error)||void 0===me?void 0:me.message}`)}}catch(nt){$e(`Error deleting indexedDB database "${Fe}": ${nt.message}`)}})})).apply(this,arguments)}},661:(Xt,tt,P)=>{"use strict";P.d(tt,{dr:()=>Gn,BJ:()=>pn,yp:()=>Hn,YG:()=>qn,Sm:()=>xr,PM:()=>hr,FN:()=>Tr,Zi:()=>kn,Dq:()=>Yt,hM:()=>Ur,wI:()=>Kn,W2:()=>Pr,fr:()=>zn,jY:()=>qt,Gu:()=>Dt,gu:()=>Pt,pK:()=>Fe,Ie:()=>_e,Q$:()=>it,q_:()=>Nt,z0:()=>Tn,fG:()=>an,zc:()=>On,jP:()=>Fi,Nd:()=>ar,t9:()=>Yn,n0:()=>Mr,g2:()=>R,Bs:()=>B,wd:()=>X,sr:()=>Z,Pc:()=>Un,r4:()=>Rr,YI:()=>ti,QI:()=>dt,j9:()=>Ot});var a=P(6435),G=P(4182),$=P(655),xe=P(6498),we=P(6688),se=P(7043),Te=P(4850);function ye(m,L,g,k){return(0,se.m)(g)&&(k=g,g=void 0),k?ye(m,L,g).pipe((0,Te.U)(ee=>(0,we.k)(ee)?k(...ee):k(ee))):new xe.y(ee=>{oe(m,L,function gt(Ht){ee.next(arguments.length>1?Array.prototype.slice.call(arguments):Ht)},ee,g)})}function oe(m,L,g,k,ee){let gt;if(function Q(m){return m&&"function"==typeof m.addEventListener&&"function"==typeof m.removeEventListener}(m)){const Ht=m;m.addEventListener(L,g,ee),gt=()=>Ht.removeEventListener(L,g,ee)}else if(function ue(m){return m&&"function"==typeof m.on&&"function"==typeof m.off}(m)){const Ht=m;m.on(L,g),gt=()=>Ht.off(L,g)}else if(function re(m){return m&&"function"==typeof m.addListener&&"function"==typeof m.removeListener}(m)){const Ht=m;m.addListener(L,g),gt=()=>Ht.removeListener(L,g)}else{if(!m||!m.length)throw new TypeError("Invalid event target");for(let Ht=0,M=m.length;Ht<M;Ht++)oe(m[Ht],L,g,k,ee)}k.add(gt)}var Pe=P(8929),rt=P(591),fe=P(3151),ve=P(4464),ge=P(2198),Je=P(7545),te=P(5778),Ye=P(9808),je=P(2361);const Le=P(6254).i,le=["*"],Gt=m=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(m):"function"==typeof requestAnimationFrame?requestAnimationFrame(m):setTimeout(m);let at=(()=>{class m{constructor(g,k){this.injector=g,this.el=k,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(g){this.el.nativeElement.value=this.lastValue=null==g?"":g,Qe(this.el)}handleChangeEvent(g,k){g===this.el.nativeElement&&(k!==this.lastValue&&(this.lastValue=k,this.onChange(k)),Qe(this.el))}_handleBlurEvent(g){g===this.el.nativeElement&&(this.onTouched(),Qe(this.el))}registerOnChange(g){this.onChange=g}registerOnTouched(g){this.onTouched=g}setDisabledState(g){this.el.nativeElement.disabled=g}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let g;try{g=this.injector.get(G.a5)}catch(ee){}if(!g)return;g.statusChanges&&(this.statusChanges=g.statusChanges.subscribe(()=>Qe(this.el)));const k=g.control;k&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(gt=>{if(void 0!==k[gt]){const Ht=k[gt].bind(k);k[gt]=(...M)=>{Ht(...M),Qe(this.el)}}})}}return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.zs3),a.Y36(a.SBq))},m.\u0275dir=a.lG2({type:m,hostBindings:function(g,k){1&g&&a.NdJ("ionBlur",function(gt){return k._handleBlurEvent(gt.target)})}}),m})();const Qe=m=>{Gt(()=>{const L=m.nativeElement,g=null!=L.value&&L.value.toString().length>0,k=Xe(L);qe(L,k);const ee=L.closest("ion-item");ee&&qe(ee,g?[...k,"item-has-value"]:k)})},Xe=m=>{const L=m.classList,g=[];for(let k=0;k<L.length;k++){const ee=L.item(k);null!==ee&&Ze(ee,"ng-")&&g.push(`ion-${ee.substring(3)}`)}return g},qe=(m,L)=>{const g=m.classList;g.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),g.add(...L)},Ze=(m,L)=>m.substring(0,L.length)===L;let dt=(()=>{class m extends at{constructor(g,k){super(g,k)}_handleChangeEvent(g){this.handleChangeEvent(g,g.value)}}return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.zs3),a.Y36(a.SBq))},m.\u0275dir=a.lG2({type:m,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(g,k){1&g&&a.NdJ("ionChange",function(gt){return k._handleChangeEvent(gt.target)})},features:[a._Bn([{provide:G.JU,useExisting:m,multi:!0}]),a.qOj]}),m})(),Ot=(()=>{class m extends at{constructor(g,k){super(g,k)}_handleInputEvent(g){this.handleChangeEvent(g,g.value)}}return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.zs3),a.Y36(a.SBq))},m.\u0275dir=a.lG2({type:m,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(g,k){1&g&&a.NdJ("ionChange",function(gt){return k._handleInputEvent(gt.target)})},features:[a._Bn([{provide:G.JU,useExisting:m,multi:!0}]),a.qOj]}),m})();const hn=(m,L)=>{const g=m.prototype;L.forEach(k=>{Object.defineProperty(g,k,{get(){return this.el[k]},set(ee){this.z.runOutsideAngular(()=>this.el[k]=ee)}})})},on=(m,L)=>{const g=m.prototype;L.forEach(k=>{g[k]=function(){const ee=arguments;return this.z.runOutsideAngular(()=>this.el[k].apply(this.el,ee))}})},zt=(m,L,g)=>{g.forEach(k=>m[k]=ye(L,k))};function It(m){return function(g){const{defineCustomElementFn:k,inputs:ee,methods:gt}=m;return void 0!==k&&k(),ee&&hn(g,ee),gt&&on(g,gt),g}}let Gn=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-app"]],ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0})],m),m})(),pn=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-avatar"]],ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0})],m),m})(),Hn=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode"]})],m),m})(),qn=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement,zt(this,this.el,["ionFocus","ionBlur"])}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],m),m})(),xr=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["collapse"]})],m),m})(),hr=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],m),m})(),Tr=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["mode"]})],m),m})(),kn=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],m),m})(),Yt=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode"]})],m),m})(),Ur=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["color","disabled","mode","outline"]})],m),m})(),Kn=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],m),m})(),Pr=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement,zt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],m),m})(),zn=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],m),m})(),qt=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["fixed"]})],m),m})(),Dt=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],m),m})(),Pt=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],m),m})(),Fe=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement,zt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],m),m})(),_e=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],m),m})(),it=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],m),m})(),Nt=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],m),m})(),Tn=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement,zt(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],m),m})(),an=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],m),m})(),On=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],m),m})(),ar=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-row"]],ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0})],m),m})(),Yn=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement,zt(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],m),m})(),Mr=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["disabled","value"]})],m),m})(),R=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement,zt(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],m),m})(),B=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-thumbnail"]],ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0})],m),m})(),X=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["color","size"]})],m),m})(),Z=(()=>{let m=class{constructor(g,k,ee){this.z=ee,g.detach(),this.el=k.nativeElement}};return m.\u0275fac=function(g){return new(g||m)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:le,decls:1,vars:0,template:function(g,k){1&g&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),m=(0,$.gn)([It({defineCustomElementFn:void 0,inputs:["color","mode"]})],m),m})();class de{constructor(L={}){this.data=L}get(L){return this.data[L]}}let Ne=(()=>{class m{constructor(g,k){this.zone=g,this.appRef=k}create(g,k,ee){return new yt(g,k,ee,this.appRef,this.zone)}}return m.\u0275fac=function(g){return new(g||m)(a.LFG(a.R0b),a.LFG(a.z2F))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})();class yt{constructor(L,g,k,ee,gt){this.resolver=L,this.injector=g,this.location=k,this.appRef=ee,this.zone=gt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(L,g,k,ee){return this.zone.run(()=>new Promise(gt=>{gt(ft(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,L,g,k,ee))}))}removeViewFromDom(L,g){return this.zone.run(()=>new Promise(k=>{const ee=this.elRefMap.get(g);if(ee){ee.destroy(),this.elRefMap.delete(g);const gt=this.elEventsMap.get(g);gt&&(gt(),this.elEventsMap.delete(g))}k()}))}}const ft=(m,L,g,k,ee,gt,Ht,M,S,C,z)=>{const _t=L.resolveComponentFactory(S),nn=a.zs3.create({providers:Dn(C),parent:g}),fr=k?k.createComponent(_t,k.length,nn):_t.create(nn),$r=fr.instance,di=fr.location.nativeElement;if(C&&Object.assign($r,C),z)for(const Cs of z)di.classList.add(Cs);const Hi=Zt(m,$r,di);return M.appendChild(di),k||ee.attachView(fr.hostView),fr.changeDetectorRef.reattach(),gt.set(di,fr),Ht.set(di,Hi),di},wt=[ve.kx,ve.re,ve.EQ,ve.Jd,ve.F8],Zt=(m,L,g)=>m.run(()=>{const k=wt.filter(ee=>"function"==typeof L[ee]).map(ee=>{const gt=Ht=>L[ee](Ht.detail);return g.addEventListener(ee,gt),()=>g.removeEventListener(ee,gt)});return()=>k.forEach(ee=>ee())}),sn=new a.OlP("NavParamsToken"),Dn=m=>[{provide:sn,useValue:m},{provide:de,useFactory:er,deps:[sn]}],er=m=>new de(m),Nr=(m,L)=>((m=m.filter(g=>g.stackId!==L.stackId)).push(L),m),Br=(m,L)=>{const g=m.createUrlTree(["."],{relativeTo:L});return m.serializeUrl(g)},Ui=(m,L)=>{if(!m)return;const g=Ni(L);for(let k=0;k<g.length;k++){if(k>=m.length)return g[k];if(g[k]!==m[k])return}},Ni=m=>m.split("/").map(L=>L.trim()).filter(L=>""!==L),Bs=m=>{m&&(m.ref.destroy(),m.unlistenEvents())};class so{constructor(L,g,k,ee,gt,Ht){this.containerEl=g,this.router=k,this.navCtrl=ee,this.zone=gt,this.location=Ht,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==L?Ni(L):void 0}createView(L,g){var k;const ee=Br(this.router,g),gt=null===(k=null==L?void 0:L.location)||void 0===k?void 0:k.nativeElement,Ht=Zt(this.zone,L.instance,gt);return{id:this.nextId++,stackId:Ui(this.tabsPrefix,ee),unlistenEvents:Ht,element:gt,ref:L,url:ee}}getExistingView(L){const g=Br(this.router,L),k=this.views.find(ee=>ee.url===g);return k&&k.ref.changeDetectorRef.reattach(),k}setActive(L){var g,k;const ee=this.navCtrl.consumeTransition();let{direction:gt,animation:Ht,animationBuilder:M}=ee;const S=this.activeView,C=((m,L)=>!L||m.stackId!==L.stackId)(L,S);C&&(gt="back",Ht=void 0);const z=this.views.slice();let _t;const nn=this.router;nn.getCurrentNavigation?_t=nn.getCurrentNavigation():(null===(g=nn.navigations)||void 0===g?void 0:g.value)&&(_t=nn.navigations.value),(null===(k=null==_t?void 0:_t.extras)||void 0===k?void 0:k.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const fr=this.views.includes(L),$r=this.insertView(L,gt);fr||L.ref.changeDetectorRef.detectChanges();const di=L.animationBuilder;return void 0===M&&"back"===gt&&!C&&void 0!==di&&(M=di),S&&(S.animationBuilder=M),this.zone.runOutsideAngular(()=>this.wait(()=>(S&&S.ref.changeDetectorRef.detach(),L.ref.changeDetectorRef.reattach(),this.transition(L,S,Ht,this.canGoBack(1),!1,M).then(()=>Ms(L,$r,z,this.location,this.zone)).then(()=>({enteringView:L,direction:gt,animation:Ht,tabSwitch:C})))))}canGoBack(L,g=this.getActiveStackId()){return this.getStack(g).length>L}pop(L,g=this.getActiveStackId()){return this.zone.run(()=>{var k,ee;const gt=this.getStack(g);if(gt.length<=L)return Promise.resolve(!1);const Ht=gt[gt.length-L-1];let M=Ht.url;const S=Ht.savedData;if(S){const z=S.get("primary");(null===(ee=null===(k=null==z?void 0:z.route)||void 0===k?void 0:k._routerState)||void 0===ee?void 0:ee.snapshot.url)&&(M=z.route._routerState.snapshot.url)}const{animationBuilder:C}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(M,Object.assign(Object.assign({},Ht.savedExtras),{animation:C})).then(()=>!0)})}startBackTransition(){const L=this.activeView;if(L){const g=this.getStack(L.stackId),k=g[g.length-2],ee=k.animationBuilder;return this.wait(()=>this.transition(k,L,"back",this.canGoBack(2),!0,ee))}return Promise.resolve()}endBackTransition(L){L?(this.skipTransition=!0,this.pop(1)):this.activeView&&ki(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(L){const g=this.getStack(L);return g.length>0?g[g.length-1]:void 0}getRootUrl(L){const g=this.getStack(L);return g.length>0?g[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Bs),this.activeView=void 0,this.views=[]}getStack(L){return this.views.filter(g=>g.stackId===L)}insertView(L,g){return this.activeView=L,this.views=((m,L,g)=>"root"===g?Nr(m,L):"forward"===g?((m,L)=>(m.indexOf(L)>=0?m=m.filter(k=>k.stackId!==L.stackId||k.id<=L.id):m.push(L),m))(m,L):((m,L)=>m.indexOf(L)>=0?m.filter(k=>k.stackId!==L.stackId||k.id<=L.id):Nr(m,L))(m,L))(this.views,L,g),this.views.slice()}transition(L,g,k,ee,gt,Ht){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(g===L)return Promise.resolve(!1);const M=L?L.element:void 0,S=g?g.element:void 0,C=this.containerEl;return M&&M!==S&&(M.classList.add("ion-page"),M.classList.add("ion-page-invisible"),M.parentElement!==C&&C.appendChild(M),C.commit)?C.commit(M,S,{deepWait:!0,duration:void 0===k?0:void 0,direction:k,showGoBack:ee,progressAnimation:gt,animationBuilder:Ht}):Promise.resolve(!1)}wait(L){return(0,$.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const g=this.runningTask=L();return g.finally(()=>this.runningTask=void 0),g})}}const Ms=(m,L,g,k,ee)=>"function"==typeof requestAnimationFrame?new Promise(gt=>{requestAnimationFrame(()=>{ki(m,L,g,k,ee),gt()})}):Promise.resolve(),ki=(m,L,g,k,ee)=>{ee.run(()=>g.filter(gt=>!L.includes(gt)).forEach(Bs)),L.forEach(gt=>{const M=k.path().split("?")[0].split("#")[0];if(gt!==m&&gt.url!==M){const S=gt.element;S.setAttribute("aria-hidden","true"),S.classList.add("ion-page-hidden"),gt.ref.changeDetectorRef.detach()}})};let Ti=(()=>{class m{get(g,k){const ee=yi();return ee?ee.get(g,k):null}getBoolean(g,k){const ee=yi();return!!ee&&ee.getBoolean(g,k)}getNumber(g,k){const ee=yi();return ee?ee.getNumber(g,k):0}}return m.\u0275fac=function(g){return new(g||m)},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const $s=new a.OlP("USERCONFIG"),yi=()=>{if("undefined"!=typeof window){const m=window.Ionic;if(null==m?void 0:m.config)return m.config}return null};let oo=(()=>{class m{constructor(g,k){this.doc=g,this.backButton=new Pe.xQ,this.keyboardDidShow=new Pe.xQ,this.keyboardDidHide=new Pe.xQ,this.pause=new Pe.xQ,this.resume=new Pe.xQ,this.resize=new Pe.xQ,k.run(()=>{var ee;let gt;this.win=g.defaultView,this.backButton.subscribeWithPriority=function(Ht,M){return this.subscribe(S=>S.register(Ht,C=>k.run(()=>M(C))))},jr(this.pause,g,"pause"),jr(this.resume,g,"resume"),jr(this.backButton,g,"ionBackButton"),jr(this.resize,this.win,"resize"),jr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),jr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Ht=>{gt=Ht}),(null===(ee=this.win)||void 0===ee?void 0:ee.cordova)?g.addEventListener("deviceready",()=>{gt("cordova")},{once:!0}):gt("dom")})}is(g){return(0,ve.n$)(this.win,g)}platforms(){return(0,ve.AK)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(g){return Ki(this.win.location.href,g)}isLandscape(){return!this.isPortrait()}isPortrait(){var g,k;return null===(k=(g=this.win).matchMedia)||void 0===k?void 0:k.call(g,"(orientation: portrait)").matches}testUserAgent(g){const k=this.win.navigator;return!!((null==k?void 0:k.userAgent)&&k.userAgent.indexOf(g)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return m.\u0275fac=function(g){return new(g||m)(a.LFG(Ye.K0),a.LFG(a.R0b))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const Ki=(m,L)=>{L=L.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const k=new RegExp("[\\?&]"+L+"=([^&#]*)").exec(m);return k?decodeURIComponent(k[1].replace(/\+/g," ")):null},jr=(m,L,g)=>{L&&L.addEventListener(g,k=>{m.next(null!=k?k.detail:void 0)})};let ji=(()=>{class m{constructor(g,k,ee,gt){this.location=k,this.serializer=ee,this.router=gt,this.direction=Ds,this.animated=Xi,this.guessDirection="forward",this.lastNavId=-1,gt&&gt.events.subscribe(Ht=>{if(Ht instanceof fe.OD){const M=Ht.restoredState?Ht.restoredState.navigationId:Ht.id;this.guessDirection=M<this.lastNavId?"back":"forward",this.guessAnimation=Ht.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Ht.id:M}}),g.backButton.subscribeWithPriority(0,Ht=>{this.pop(),Ht()})}navigateForward(g,k={}){return this.setDirection("forward",k.animated,k.animationDirection,k.animation),this.navigate(g,k)}navigateBack(g,k={}){return this.setDirection("back",k.animated,k.animationDirection,k.animation),this.navigate(g,k)}navigateRoot(g,k={}){return this.setDirection("root",k.animated,k.animationDirection,k.animation),this.navigate(g,k)}back(g={animated:!0,animationDirection:"back"}){return this.setDirection("back",g.animated,g.animationDirection,g.animation),this.location.back()}pop(){return(0,$.mG)(this,void 0,void 0,function*(){let g=this.topOutlet;for(;g&&!(yield g.pop());)g=g.parentOutlet})}setDirection(g,k,ee,gt){this.direction=g,this.animated=Zi(g,k,ee),this.animationBuilder=gt}setTopOutlet(g){this.topOutlet=g}consumeTransition(){let k,g="root";const ee=this.animationBuilder;return"auto"===this.direction?(g=this.guessDirection,k=this.guessAnimation):(k=this.animated,g=this.direction),this.direction=Ds,this.animated=Xi,this.animationBuilder=void 0,{direction:g,animation:k,animationBuilder:ee}}navigate(g,k){if(Array.isArray(g))return this.router.navigate(g,k);{const ee=this.serializer.parse(g.toString());return void 0!==k.queryParams&&(ee.queryParams=Object.assign({},k.queryParams)),void 0!==k.fragment&&(ee.fragment=k.fragment),this.router.navigateByUrl(ee,k)}}}return m.\u0275fac=function(g){return new(g||m)(a.LFG(oo),a.LFG(Ye.Ye),a.LFG(fe.Hx),a.LFG(fe.F0,8))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const Zi=(m,L,g)=>{if(!1!==L){if(void 0!==g)return g;if("forward"===m||"back"===m)return m;if("root"===m&&!0===L)return"forward"}},Ds="auto",Xi=void 0;let Fi=(()=>{class m{constructor(g,k,ee,gt,Ht,M,S,C,z,_t,nn,fr,$r){this.parentContexts=g,this.location=k,this.resolver=ee,this.config=M,this.navCtrl=S,this.parentOutlet=$r,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new rt.X(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.nativeEl=z.nativeElement,this.name=gt||fe.eC,this.tabsPrefix="true"===Ht?Br(_t,fr):void 0,this.stackCtrl=new so(this.tabsPrefix,this.nativeEl,_t,S,nn,C),g.onChildOutletCreated(this.name,this)}set animation(g){this.nativeEl.animation=g}set animated(g){this.nativeEl.animated=g}set swipeGesture(g){this._swipeGesture=g,this.nativeEl.swipeHandler=g?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:k=>this.stackCtrl.endBackTransition(k)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const g=this.getContext();(null==g?void 0:g.route)&&this.activateWith(g.route,g.resolver||null)}new Promise(g=>(0,ve.hh)(this.nativeEl,g)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(g,k){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const k=this.getContext();this.activatedView.savedData=new Map(k.children.contexts);const ee=this.activatedView.savedData.get("primary");if(ee&&k.route&&(ee.route=Object.assign({},k.route)),this.activatedView.savedExtras={},k.route){const gt=k.route.snapshot;this.activatedView.savedExtras.queryParams=gt.queryParams,this.activatedView.savedExtras.fragment=gt.fragment}}const g=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,k){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=g;let ee,gt=this.stackCtrl.getExistingView(g);if(gt){ee=this.activated=gt.ref;const Ht=gt.savedData;Ht&&(this.getContext().children.contexts=Ht),this.updateActivatedRouteProxy(ee.instance,g)}else{const S=(k=k||this.resolver).resolveComponentFactory(g._futureSnapshot.routeConfig.component),C=this.parentContexts.getOrCreateContext(this.name).children,z=new rt.X(null),_t=this.createActivatedRouteProxy(z,g),nn=new qs(_t,C,this.location.injector);ee=this.activated=this.location.createComponent(S,this.location.length,nn),z.next(ee.instance),gt=this.stackCtrl.createView(this.activated,g),this.proxyMap.set(ee.instance,_t),this.currentActivatedRoute$.next({component:ee.instance,activatedRoute:g})}this.activatedView=gt,this.stackCtrl.setActive(gt).then(Ht=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(ee.instance),this.stackEvents.emit(Ht)})}canGoBack(g=1,k){return this.stackCtrl.canGoBack(g,k)}pop(g=1,k){return this.stackCtrl.pop(g,k)}getLastUrl(g){const k=this.stackCtrl.getLastUrl(g);return k?k.url:void 0}getLastRouteView(g){return this.stackCtrl.getLastUrl(g)}getRootView(g){return this.stackCtrl.getRootUrl(g)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(g,k){const ee=new fe.gz;return ee._futureSnapshot=k._futureSnapshot,ee._routerState=k._routerState,ee.snapshot=k.snapshot,ee.outlet=k.outlet,ee.component=k.component,ee._paramMap=this.proxyObservable(g,"paramMap"),ee._queryParamMap=this.proxyObservable(g,"queryParamMap"),ee.url=this.proxyObservable(g,"url"),ee.params=this.proxyObservable(g,"params"),ee.queryParams=this.proxyObservable(g,"queryParams"),ee.fragment=this.proxyObservable(g,"fragment"),ee.data=this.proxyObservable(g,"data"),ee}proxyObservable(g,k){return g.pipe((0,ge.h)(ee=>!!ee),(0,Je.w)(ee=>this.currentActivatedRoute$.pipe((0,ge.h)(gt=>null!==gt&&gt.component===ee),(0,Je.w)(gt=>gt&&gt.activatedRoute[k]),(0,te.x)())))}updateActivatedRouteProxy(g,k){const ee=this.proxyMap.get(g);if(!ee)throw new Error("Could not find activated route proxy for view");ee._futureSnapshot=k._futureSnapshot,ee._routerState=k._routerState,ee.snapshot=k.snapshot,ee.outlet=k.outlet,ee.component=k.component,this.currentActivatedRoute$.next({component:g,activatedRoute:k})}}return m.\u0275fac=function(g){return new(g||m)(a.Y36(fe.y6),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.$8M("tabs"),a.Y36(Ti),a.Y36(ji),a.Y36(Ye.Ye),a.Y36(a.SBq),a.Y36(fe.F0),a.Y36(a.R0b),a.Y36(fe.gz),a.Y36(m,12))},m.\u0275dir=a.lG2({type:m,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),m})();class qs{constructor(L,g,k){this.route=L,this.childContexts=g,this.parent=k}get(L,g){return L===fe.gz?this.route:L===fe.y6?this.childContexts:this.parent.get(L,g)}}let ti=(()=>{class m{constructor(g,k,ee,gt,Ht){this.locationStrategy=g,this.navCtrl=k,this.elementRef=ee,this.router=gt,this.routerLink=Ht,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var g;if(null===(g=this.routerLink)||void 0===g?void 0:g.urlTree){const k=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=k}}onClick(g){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),g.preventDefault()}}return m.\u0275fac=function(g){return new(g||m)(a.Y36(Ye.S$),a.Y36(ji),a.Y36(a.SBq),a.Y36(fe.F0),a.Y36(fe.rH,8))},m.\u0275dir=a.lG2({type:m,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(g,k){1&g&&a.NdJ("click",function(gt){return k.onClick(gt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[a.TTD]}),m})();class ss{constructor(L){this.ctrl=L}create(L){return this.ctrl.create(L||{})}dismiss(L,g,k){return this.ctrl.dismiss(L,g,k)}getTop(){return this.ctrl.getTop()}}let K=(()=>{class m extends ss{constructor(g,k,ee){super(ve.Fy),this.angularDelegate=g,this.resolver=k,this.injector=ee}create(g){return super.create(Object.assign(Object.assign({},g),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return m.\u0275fac=function(g){return new(g||m)(a.LFG(Ne),a.LFG(a._Vd),a.LFG(a.zs3))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})(),F=(()=>{class m extends ss{constructor(g,k,ee){super(ve.oq),this.angularDelegate=g,this.resolver=k,this.injector=ee}create(g){return super.create(Object.assign(Object.assign({},g),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return m.\u0275fac=function(g){return new(g||m)(a.LFG(Ne),a.LFG(a._Vd),a.LFG(a.zs3))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})();class Rr{shouldDetach(L){return!1}shouldAttach(L){return!1}store(L,g){}retrieve(L){return null}shouldReuseRoute(L,g){if(L.routeConfig!==g.routeConfig)return!1;const k=L.params,ee=g.params,gt=Object.keys(k),Ht=Object.keys(ee);if(gt.length!==Ht.length)return!1;for(const M of gt)if(ee[M]!==k[M])return!1;return!0}}const Zn=(m,L,g)=>()=>{if(L.defaultView&&"undefined"!=typeof window){(0,ve.qc)(Object.assign(Object.assign({},m),{_zoneGate:gt=>g.run(gt)}));const ee="__zone_symbol__addEventListener"in L.body?"__zone_symbol__addEventListener":"addEventListener";return function be(){var m=[];if("undefined"!=typeof window){var L=window;(!L.customElements||L.Element&&(!L.Element.prototype.closest||!L.Element.prototype.matches||!L.Element.prototype.remove||!L.Element.prototype.getRootNode))&&m.push(P.e(6748).then(P.t.bind(P,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||L.NodeList&&!L.NodeList.prototype.forEach||!L.fetch||!function(){try{var k=new URL("b","http://a");return k.pathname="c%20d","http://a/c%20d"===k.href&&k.searchParams}catch(ee){return!1}}()||"undefined"==typeof WeakMap)&&m.push(P.e(2214).then(P.t.bind(P,4144,23)))}return Promise.all(m)}().then(()=>((m,L)=>"undefined"==typeof window?Promise.resolve():(0,je.p)().then(()=>(Le(),(0,je.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),L))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Gt,jmp:gt=>g.runOutsideAngular(gt),ael(gt,Ht,M,S){gt[ee](Ht,M,S)},rel(gt,Ht,M,S){gt.removeEventListener(Ht,M,S)}}))}};let Un=(()=>{class m{static forRoot(g){return{ngModule:m,providers:[{provide:$s,useValue:g},{provide:a.ip1,useFactory:Zn,multi:!0,deps:[$s,Ye.K0,a.R0b]}]}}}return m.\u0275fac=function(g){return new(g||m)},m.\u0275mod=a.oAB({type:m}),m.\u0275inj=a.cJS({providers:[Ne,K,F],imports:[[Ye.ez]]}),m})()},8015:(Xt,tt,P)=>{"use strict";P.d(tt,{c:()=>rt});var a=P(1643);let G;const xe=fe=>fe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),we=fe=>{if(void 0===G){const ge=void 0!==fe.style.webkitAnimationName;G=void 0===fe.style.animationName&&ge?"-webkit-":""}return G},se=(fe,ve,ge)=>{const Je=ve.startsWith("animation")?we(fe):"";fe.style.setProperty(Je+ve,ge)},Te=(fe,ve)=>{const ge=ve.startsWith("animation")?we(fe):"";fe.style.removeProperty(ge+ve)},oe=[],Pe=(fe=[],ve)=>{if(void 0!==ve){const ge=Array.isArray(ve)?ve:[ve];return[...fe,...ge]}return fe},rt=fe=>{let ve,ge,Je,te,Ye,be,ce,at,Qe,Xe,qe,ut,dt,je=[],ot=[],Le=[],Ct=!1,le={},he=[],Ae=[],ze={},Be=0,Rt=!1,Gt=!1,Ze=!0,et=!1,Ke=!0,Ot=!1;const hn=fe,on=[],zt=[],gn=[],It=[],Pn=[],Nn=[],Gn=[],pn=[],Xn=[],Bn=[],Hn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,wn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Hn,qn=()=>Bn,en=(Z,de)=>(((null==de?void 0:de.oneTimeCallback)?zt:on).push({c:Z,o:de}),dt),wr=()=>{if(wn)Bn.forEach(Z=>{Z.cancel()}),Bn.length=0;else{const Z=gn.slice();(0,a.r)(()=>{Z.forEach(de=>{Te(de,"animation-name"),Te(de,"animation-duration"),Te(de,"animation-timing-function"),Te(de,"animation-iteration-count"),Te(de,"animation-delay"),Te(de,"animation-play-state"),Te(de,"animation-fill-mode"),Te(de,"animation-direction")})})}},Ur=()=>{Pn.forEach(Z=>{(null==Z?void 0:Z.parentNode)&&Z.parentNode.removeChild(Z)}),Pn.length=0},Qt=()=>void 0!==Ye?Ye:ce?ce.getFill():"both",Fe=()=>void 0!==Qe?Qe:void 0!==be?be:ce?ce.getDirection():"normal",_e=()=>Rt?"linear":void 0!==Je?Je:ce?ce.getEasing():"linear",$e=()=>Gt?0:void 0!==Xe?Xe:void 0!==ge?ge:ce?ce.getDuration():0,nt=()=>void 0!==te?te:ce?ce.getIterations():1,ae=()=>void 0!==qe?qe:void 0!==ve?ve:ce?ce.getDelay():0,Dr=()=>{0!==Be&&(Be--,0===Be&&((()=>{Oe(),pn.forEach(ft=>ft()),Xn.forEach(ft=>ft());const Z=Ze?1:0,de=he,Ne=Ae,yt=ze;gn.forEach(ft=>{const wt=ft.classList;de.forEach(Zt=>wt.add(Zt)),Ne.forEach(Zt=>wt.remove(Zt));for(const Zt in yt)yt.hasOwnProperty(Zt)&&se(ft,Zt,yt[Zt])}),on.forEach(ft=>ft.c(Z,dt)),zt.forEach(ft=>ft.c(Z,dt)),zt.length=0,Ke=!0,Ze&&(et=!0),Ze=!0})(),ce&&ce.animationFinish()))},or=(Z=!0)=>{Ur();const de=(fe=>(fe.forEach(ve=>{for(const ge in ve)if(ve.hasOwnProperty(ge)){const Je=ve[ge];if("easing"===ge)ve["animation-timing-function"]=Je,delete ve[ge];else{const te=xe(ge);te!==ge&&(ve[te]=Je,delete ve[ge])}}}),fe))(je);gn.forEach(Ne=>{if(de.length>0){const yt=((fe=[])=>fe.map(ve=>{const ge=ve.offset,Je=[];for(const te in ve)ve.hasOwnProperty(te)&&"offset"!==te&&Je.push(`${te}: ${ve[te]};`);return`${100*ge}% { ${Je.join(" ")} }`}).join(" "))(de);ut=void 0!==fe?fe:(fe=>{let ve=oe.indexOf(fe);return ve<0&&(ve=oe.push(fe)-1),`ion-animation-${ve}`})(yt);const ft=((fe,ve,ge)=>{const Je=(fe=>{const ve=fe.getRootNode();return ve.head||ve})(ge),te=we(ge),Ye=Je.querySelector("#"+fe);if(Ye)return Ye;const be=(ge.ownerDocument||document).createElement("style");return be.id=fe,be.textContent=`@${te}keyframes ${fe} { ${ve} } @${te}keyframes ${fe}-alt { ${ve} }`,Je.appendChild(be),be})(ut,yt,Ne);Pn.push(ft),se(Ne,"animation-duration",`${$e()}ms`),se(Ne,"animation-timing-function",_e()),se(Ne,"animation-delay",`${ae()}ms`),se(Ne,"animation-fill-mode",Qt()),se(Ne,"animation-direction",Fe());const wt=nt()===1/0?"infinite":nt().toString();se(Ne,"animation-iteration-count",wt),se(Ne,"animation-play-state","paused"),Z&&se(Ne,"animation-name",`${ft.id}-alt`),(0,a.r)(()=>{se(Ne,"animation-name",ft.id||null)})}})},dr=(Z=!0)=>{(()=>{Nn.forEach(yt=>yt()),Gn.forEach(yt=>yt());const Z=ot,de=Le,Ne=le;gn.forEach(yt=>{const ft=yt.classList;Z.forEach(wt=>ft.add(wt)),de.forEach(wt=>ft.remove(wt));for(const wt in Ne)Ne.hasOwnProperty(wt)&&se(yt,wt,Ne[wt])})})(),je.length>0&&(wn?(gn.forEach(Z=>{const de=Z.animate(je,{id:hn,delay:ae(),duration:$e(),easing:_e(),iterations:nt(),fill:Qt(),direction:Fe()});de.pause(),Bn.push(de)}),Bn.length>0&&(Bn[0].onfinish=()=>{Dr()})):or(Z)),Ct=!0},cr=Z=>{if(Z=Math.min(Math.max(Z,0),.9999),wn)Bn.forEach(de=>{de.currentTime=de.effect.getComputedTiming().delay+$e()*Z,de.pause()});else{const de=`-${$e()*Z}ms`;gn.forEach(Ne=>{je.length>0&&(se(Ne,"animation-delay",de),se(Ne,"animation-play-state","paused"))})}},Zr=Z=>{Bn.forEach(de=>{de.effect.updateTiming({delay:ae(),duration:$e(),easing:_e(),iterations:nt(),fill:Qt(),direction:Fe()})}),void 0!==Z&&cr(Z)},ar=(Z=!0,de)=>{(0,a.r)(()=>{gn.forEach(Ne=>{se(Ne,"animation-name",ut||null),se(Ne,"animation-duration",`${$e()}ms`),se(Ne,"animation-timing-function",_e()),se(Ne,"animation-delay",void 0!==de?`-${de*$e()}ms`:`${ae()}ms`),se(Ne,"animation-fill-mode",Qt()||null),se(Ne,"animation-direction",Fe()||null);const yt=nt()===1/0?"infinite":nt().toString();se(Ne,"animation-iteration-count",yt),Z&&se(Ne,"animation-name",`${ut}-alt`),(0,a.r)(()=>{se(Ne,"animation-name",ut||null)})})})},jt=(Z=!1,de=!0,Ne)=>(Z&&It.forEach(yt=>{yt.update(Z,de,Ne)}),wn?Zr(Ne):ar(de,Ne),dt),Mr=()=>{Ct&&(wn?Bn.forEach(Z=>{Z.pause()}):gn.forEach(Z=>{se(Z,"animation-play-state","paused")}),Ot=!0)},Ue=()=>{at=void 0,Dr()},Oe=()=>{at&&clearTimeout(at)},Ln=Z=>new Promise(de=>{(null==Z?void 0:Z.sync)&&(Gt=!0,en(()=>Gt=!1,{oneTimeCallback:!0})),Ct||dr(),et&&(wn?(cr(0),Zr()):ar(),et=!1),Ke&&(Be=It.length+1,Ke=!1),en(()=>de(),{oneTimeCallback:!0}),It.forEach(Ne=>{Ne.play()}),wn?(Bn.forEach(Z=>{Z.play()}),(0===je.length||0===gn.length)&&Dr()):(()=>{if(Oe(),(0,a.r)(()=>{gn.forEach(Z=>{je.length>0&&se(Z,"animation-play-state","running")})}),0===je.length||0===gn.length)Dr();else{const Z=ae()||0,de=$e()||0,Ne=nt()||1;isFinite(Ne)&&(at=setTimeout(Ue,Z+de*Ne+100)),((fe,ve)=>{let ge;const Je={passive:!0},Ye=be=>{fe===be.target&&(ge&&ge(),Oe(),(0,a.r)(()=>{gn.forEach(Z=>{Te(Z,"animation-duration"),Te(Z,"animation-delay"),Te(Z,"animation-play-state")}),(0,a.r)(Dr)}))};fe&&(fe.addEventListener("webkitAnimationEnd",Ye,Je),fe.addEventListener("animationend",Ye,Je),ge=()=>{fe.removeEventListener("webkitAnimationEnd",Ye,Je),fe.removeEventListener("animationend",Ye,Je)})})(gn[0])}})(),Ot=!1}),B=(Z,de)=>{const Ne=je[0];return void 0===Ne||void 0!==Ne.offset&&0!==Ne.offset?je=[{offset:0,[Z]:de},...je]:Ne[Z]=de,dt};return dt={parentAnimation:ce,elements:gn,childAnimations:It,id:hn,animationFinish:Dr,from:B,to:(Z,de)=>{const Ne=je[je.length-1];return void 0===Ne||void 0!==Ne.offset&&1!==Ne.offset?je=[...je,{offset:1,[Z]:de}]:Ne[Z]=de,dt},fromTo:(Z,de,Ne)=>B(Z,de).to(Z,Ne),parent:Z=>(ce=Z,dt),play:Ln,pause:()=>(It.forEach(Z=>{Z.pause()}),Mr(),dt),stop:()=>{It.forEach(Z=>{Z.stop()}),Ct&&(wr(),Ct=!1),Rt=!1,Gt=!1,Ke=!0,Qe=void 0,Xe=void 0,qe=void 0,Be=0,et=!1,Ze=!0,Ot=!1},destroy:Z=>(It.forEach(de=>{de.destroy(Z)}),(Z=>{wr(),Z&&Ur()})(Z),gn.length=0,It.length=0,je.length=0,on.length=0,zt.length=0,Ct=!1,Ke=!0,dt),keyframes:Z=>{const de=je!==Z;return je=Z,de&&(Z=>{wn?qn().forEach(de=>{if(de.effect.setKeyframes)de.effect.setKeyframes(Z);else{const Ne=new KeyframeEffect(de.effect.target,Z,de.effect.getTiming());de.effect=Ne}}):or()})(je),dt},addAnimation:Z=>{if(null!=Z)if(Array.isArray(Z))for(const de of Z)de.parent(dt),It.push(de);else Z.parent(dt),It.push(Z);return dt},addElement:Z=>{if(null!=Z)if(1===Z.nodeType)gn.push(Z);else if(Z.length>=0)for(let de=0;de<Z.length;de++)gn.push(Z[de]);else console.error("Invalid addElement value");return dt},update:jt,fill:Z=>(Ye=Z,jt(!0),dt),direction:Z=>(be=Z,jt(!0),dt),iterations:Z=>(te=Z,jt(!0),dt),duration:Z=>(!wn&&0===Z&&(Z=1),ge=Z,jt(!0),dt),easing:Z=>(Je=Z,jt(!0),dt),delay:Z=>(ve=Z,jt(!0),dt),getWebAnimations:qn,getKeyframes:()=>je,getFill:Qt,getDirection:Fe,getDelay:ae,getIterations:nt,getEasing:_e,getDuration:$e,afterAddRead:Z=>(pn.push(Z),dt),afterAddWrite:Z=>(Xn.push(Z),dt),afterClearStyles:(Z=[])=>{for(const de of Z)ze[de]="";return dt},afterStyles:(Z={})=>(ze=Z,dt),afterRemoveClass:Z=>(Ae=Pe(Ae,Z),dt),afterAddClass:Z=>(he=Pe(he,Z),dt),beforeAddRead:Z=>(Nn.push(Z),dt),beforeAddWrite:Z=>(Gn.push(Z),dt),beforeClearStyles:(Z=[])=>{for(const de of Z)le[de]="";return dt},beforeStyles:(Z={})=>(le=Z,dt),beforeRemoveClass:Z=>(Le=Pe(Le,Z),dt),beforeAddClass:Z=>(ot=Pe(ot,Z),dt),onFinish:en,isRunning:()=>0!==Be&&!Ot,progressStart:(Z=!1,de)=>(It.forEach(Ne=>{Ne.progressStart(Z,de)}),Mr(),Rt=Z,Ct||dr(),jt(!1,!0,de),dt),progressStep:Z=>(It.forEach(de=>{de.progressStep(Z)}),cr(Z),dt),progressEnd:(Z,de,Ne)=>(Rt=!1,It.forEach(yt=>{yt.progressEnd(Z,de,Ne)}),void 0!==Ne&&(Xe=Ne),et=!1,Ze=!0,0===Z?(Qe="reverse"===Fe()?"normal":"reverse","reverse"===Qe&&(Ze=!1),wn?(jt(),cr(1-de)):(qe=(1-de)*$e()*-1,jt(!1,!1))):1===Z&&(wn?(jt(),cr(de)):(qe=de*$e()*-1,jt(!1,!1))),void 0!==Z&&(en(()=>{Xe=void 0,Qe=void 0,qe=void 0},{oneTimeCallback:!0}),ce||Ln()),dt)}}},3509:(Xt,tt,P)=>{"use strict";P.d(tt,{G:()=>we});class G{constructor(Te,Ce,ye,oe,re){this.id=Ce,this.name=ye,this.disableScroll=re,this.priority=1e6*oe+Ce,this.ctrl=Te}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Te=this.ctrl.capture(this.name,this.id,this.priority);return Te&&this.disableScroll&&this.ctrl.disableScroll(this.id),Te}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ${constructor(Te,Ce,ye,oe){this.id=Ce,this.disable=ye,this.disableScroll=oe,this.ctrl=Te}block(){if(this.ctrl){if(this.disable)for(const Te of this.disable)this.ctrl.disableGesture(Te,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Te of this.disable)this.ctrl.enableGesture(Te,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const xe="backdrop-no-scroll",we=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Te){return new G(this,this.newID(),Te.name,Te.priority||0,!!Te.disableScroll)}createBlocker(Te={}){return new $(this,this.newID(),Te.disable,!!Te.disableScroll)}start(Te,Ce,ye){return this.canStart(Te)?(this.requestedStart.set(Ce,ye),!0):(this.requestedStart.delete(Ce),!1)}capture(Te,Ce,ye){if(!this.start(Te,Ce,ye))return!1;const oe=this.requestedStart;let re=-1e4;if(oe.forEach(ue=>{re=Math.max(re,ue)}),re===ye){this.capturedId=Ce,oe.clear();const ue=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Te}});return document.dispatchEvent(ue),!0}return oe.delete(Ce),!1}release(Te){this.requestedStart.delete(Te),this.capturedId===Te&&(this.capturedId=void 0)}disableGesture(Te,Ce){let ye=this.disabledGestures.get(Te);void 0===ye&&(ye=new Set,this.disabledGestures.set(Te,ye)),ye.add(Ce)}enableGesture(Te,Ce){const ye=this.disabledGestures.get(Te);void 0!==ye&&ye.delete(Ce)}disableScroll(Te){this.disabledScroll.add(Te),1===this.disabledScroll.size&&document.body.classList.add(xe)}enableScroll(Te){this.disabledScroll.delete(Te),0===this.disabledScroll.size&&document.body.classList.remove(xe)}canStart(Te){return!(void 0!==this.capturedId||this.isDisabled(Te))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Te){const Ce=this.disabledGestures.get(Te);return!!(Ce&&Ce.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Xt,tt,P)=>{"use strict";P.r(tt),P.d(tt,{MENU_BACK_BUTTON_PRIORITY:()=>we,OVERLAY_BACK_BUTTON_PRIORITY:()=>xe,blockHardwareBackButton:()=>G,startHardwareBackButton:()=>$});var a=P(5861);const G=()=>{document.addEventListener("backbutton",()=>{})},$=()=>{const se=document;let Te=!1;se.addEventListener("backbutton",()=>{if(Te)return;let Ce=0,ye=[];const oe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Q,Pe){ye.push({priority:Q,handler:Pe,id:Ce++})}}});se.dispatchEvent(oe);const re=function(){var Q=(0,a.Z)(function*(Pe){try{if(null==Pe?void 0:Pe.handler){const rt=Pe.handler(ue);null!=rt&&(yield rt)}}catch(rt){console.error(rt)}});return function(rt){return Q.apply(this,arguments)}}(),ue=()=>{if(ye.length>0){let Q={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ye.forEach(Pe=>{Pe.priority>=Q.priority&&(Q=Pe)}),Te=!0,ye=ye.filter(Pe=>Pe.id!==Q.id),re(Q).then(()=>Te=!1)}};ue()})},xe=100,we=99},1643:(Xt,tt,P)=>{"use strict";P.d(tt,{a:()=>we,b:()=>se,c:()=>$,d:()=>ue,e:()=>Q,f:()=>re,g:()=>Te,h:()=>Je,i:()=>xe,j:()=>oe,k:()=>Pe,l:()=>ye,m:()=>rt,n:()=>ge,o:()=>te,p:()=>ve,q:()=>fe,r:()=>Ce,s:()=>Ye,t:()=>a});const a=(be,je=0)=>new Promise(ot=>{G(be,je,ot)}),G=(be,je=0,ot)=>{let Le,Ct;const ce={passive:!0},he=()=>{Le&&Le()},Ae=ze=>{(void 0===ze||be===ze.target)&&(he(),ot(ze))};return be&&(be.addEventListener("webkitTransitionEnd",Ae,ce),be.addEventListener("transitionend",Ae,ce),Ct=setTimeout(Ae,je+500),Le=()=>{Ct&&(clearTimeout(Ct),Ct=void 0),be.removeEventListener("webkitTransitionEnd",Ae,ce),be.removeEventListener("transitionend",Ae,ce)}),he},$=(be,je)=>{be.componentOnReady?be.componentOnReady().then(ot=>je(ot)):Ce(()=>je(be))},xe=(be,je=[])=>{const ot={};return je.forEach(Le=>{be.hasAttribute(Le)&&(null!==be.getAttribute(Le)&&(ot[Le]=be.getAttribute(Le)),be.removeAttribute(Le))}),ot},we=(be,je,ot,Le)=>{var Ct;if("undefined"!=typeof window){const ce=window,le=null===(Ct=null==ce?void 0:ce.Ionic)||void 0===Ct?void 0:Ct.config;if(le){const he=le.get("_ael");if(he)return he(be,je,ot,Le);if(le._ael)return le._ael(be,je,ot,Le)}}return be.addEventListener(je,ot,Le)},se=(be,je,ot,Le)=>{var Ct;if("undefined"!=typeof window){const ce=window,le=null===(Ct=null==ce?void 0:ce.Ionic)||void 0===Ct?void 0:Ct.config;if(le){const he=le.get("_rel");if(he)return he(be,je,ot,Le);if(le._rel)return le._rel(be,je,ot,Le)}}return be.removeEventListener(je,ot,Le)},Te=(be,je=be)=>be.shadowRoot||je,Ce=be=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(be):"function"==typeof requestAnimationFrame?requestAnimationFrame(be):setTimeout(be),ye=be=>!!be.shadowRoot&&!!be.attachShadow,oe=be=>{const je=be.closest("ion-item");return je?je.querySelector("ion-label"):null},re=be=>{if(be.focus(),be.classList.contains("ion-focusable")){const je=be.closest("ion-app");je&&je.setFocus([be])}},ue=(be,je)=>{let ot;const Le=be.getAttribute("aria-labelledby"),Ct=be.id;let ce=null!==Le&&""!==Le.trim()?Le:je+"-lbl",le=null!==Le&&""!==Le.trim()?document.getElementById(Le):oe(be);return le?(null===Le&&(le.id=ce),ot=le.textContent,le.setAttribute("aria-hidden","true")):""!==Ct.trim()&&(le=document.querySelector(`label[for="${Ct}"]`),le&&(""!==le.id?ce=le.id:le.id=ce=`${Ct}-lbl`,ot=le.textContent)),{label:le,labelId:ce,labelText:ot}},Q=(be,je,ot,Le,Ct)=>{if(be||ye(je)){let ce=je.querySelector("input.aux-input");ce||(ce=je.ownerDocument.createElement("input"),ce.type="hidden",ce.classList.add("aux-input"),je.appendChild(ce)),ce.disabled=Ct,ce.name=ot,ce.value=Le||""}},Pe=(be,je,ot)=>Math.max(be,Math.min(je,ot)),rt=(be,je)=>{if(!be){const ot="ASSERT: "+je;throw console.error(ot),new Error(ot)}},fe=be=>be.timeStamp||Date.now(),ve=be=>{if(be){const je=be.changedTouches;if(je&&je.length>0){const ot=je[0];return{x:ot.clientX,y:ot.clientY}}if(void 0!==be.pageX)return{x:be.pageX,y:be.pageY}}return{x:0,y:0}},ge=be=>{const je="rtl"===document.dir;switch(be){case"start":return je;case"end":return!je;default:throw new Error(`"${be}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Je=(be,je)=>{const ot=be._original||be;return{_original:be,emit:te(ot.emit.bind(ot),je)}},te=(be,je=0)=>{let ot;return(...Le)=>{clearTimeout(ot),ot=setTimeout(be,je,...Le)}},Ye=(be,je)=>{if(null!=be||(be={}),null!=je||(je={}),be===je)return!0;const ot=Object.keys(be);if(ot.length!==Object.keys(je).length)return!1;for(const Le of ot)if(!(Le in je)||be[Le]!==je[Le])return!1;return!0}},3139:(Xt,tt,P)=>{"use strict";P.r(tt),P.d(tt,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>ye});var a=P(3509);const G=(Q,Pe,rt,fe)=>{const ve=$(Q)?{capture:!!fe.capture,passive:!!fe.passive}:!!fe.capture;let ge,Je;return Q.__zone_symbol__addEventListener?(ge="__zone_symbol__addEventListener",Je="__zone_symbol__removeEventListener"):(ge="addEventListener",Je="removeEventListener"),Q[ge](Pe,rt,ve),()=>{Q[Je](Pe,rt,ve)}},$=Q=>{if(void 0===xe)try{const Pe=Object.defineProperty({},"passive",{get:()=>{xe=!0}});Q.addEventListener("optsTest",()=>{},Pe)}catch(Pe){xe=!1}return!!xe};let xe;const Te=Q=>Q instanceof Document?Q:Q.ownerDocument,ye=Q=>{let Pe=!1,rt=!1,fe=!0,ve=!1;const ge=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Q),Je=ge.canStart,te=ge.onWillStart,Ye=ge.onStart,be=ge.onEnd,je=ge.notCaptured,ot=ge.onMove,Le=ge.threshold,Ct=ge.passive,ce=ge.blurOnStart,le={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},he=((Q,Pe,rt)=>{const fe=rt*(Math.PI/180),ve="x"===Q,ge=Math.cos(fe),Je=Pe*Pe;let te=0,Ye=0,be=!1,je=0;return{start(ot,Le){te=ot,Ye=Le,je=0,be=!0},detect(ot,Le){if(!be)return!1;const Ct=ot-te,ce=Le-Ye,le=Ct*Ct+ce*ce;if(le<Je)return!1;const he=Math.sqrt(le),Ae=(ve?Ct:ce)/he;return je=Ae>ge?1:Ae<-ge?-1:0,be=!1,!0},isGesture:()=>0!==je,getDirection:()=>je}})(ge.direction,ge.threshold,ge.maxAngle),Ae=a.G.createGesture({name:Q.gestureName,priority:Q.gesturePriority,disableScroll:Q.disableScroll}),Rt=()=>{!Pe||(ve=!1,ot&&ot(le))},Gt=()=>!(Ae&&!Ae.capture()||(Pe=!0,fe=!1,le.startX=le.currentX,le.startY=le.currentY,le.startTime=le.currentTime,te?te(le).then(Qe):Qe(),0)),Qe=()=>{ce&&(()=>{if("undefined"!=typeof document){const Ke=document.activeElement;(null==Ke?void 0:Ke.blur)&&Ke.blur()}})(),Ye&&Ye(le),fe=!0},Xe=()=>{Pe=!1,rt=!1,ve=!1,fe=!0,Ae.release()},qe=Ke=>{const ut=Pe,dt=fe;if(Xe(),dt){if(oe(le,Ke),ut)return void(be&&be(le));je&&je(le)}},Ze=((Q,Pe,rt,fe,ve)=>{let ge,Je,te,Ye,be,je,ot,Le=0;const Ct=at=>{Le=Date.now()+2e3,Pe(at)&&(!Je&&rt&&(Je=G(Q,"touchmove",rt,ve)),te||(te=G(at.target,"touchend",le,ve)),Ye||(Ye=G(at.target,"touchcancel",le,ve)))},ce=at=>{Le>Date.now()||!Pe(at)||(!je&&rt&&(je=G(Te(Q),"mousemove",rt,ve)),ot||(ot=G(Te(Q),"mouseup",he,ve)))},le=at=>{Ae(),fe&&fe(at)},he=at=>{ze(),fe&&fe(at)},Ae=()=>{Je&&Je(),te&&te(),Ye&&Ye(),Je=te=Ye=void 0},ze=()=>{je&&je(),ot&&ot(),je=ot=void 0},Be=()=>{Ae(),ze()},Rt=(at=!0)=>{at?(ge||(ge=G(Q,"touchstart",Ct,ve)),be||(be=G(Q,"mousedown",ce,ve))):(ge&&ge(),be&&be(),ge=be=void 0,Be())};return{enable:Rt,stop:Be,destroy:()=>{Rt(!1),fe=rt=Pe=void 0}}})(ge.el,Ke=>{const ut=ue(Ke);return!(rt||!fe||(re(Ke,le),le.startX=le.currentX,le.startY=le.currentY,le.startTime=le.currentTime=ut,le.velocityX=le.velocityY=le.deltaX=le.deltaY=0,le.event=Ke,Je&&!1===Je(le))||(Ae.release(),!Ae.start()))&&(rt=!0,0===Le?Gt():(he.start(le.startX,le.startY),!0))},Ke=>{Pe?!ve&&fe&&(ve=!0,oe(le,Ke),requestAnimationFrame(Rt)):(oe(le,Ke),he.detect(le.currentX,le.currentY)&&(!he.isGesture()||!Gt())&&et())},qe,{capture:!1,passive:Ct}),et=()=>{Xe(),Ze.stop(),je&&je(le)};return{enable(Ke=!0){Ke||(Pe&&qe(void 0),Xe()),Ze.enable(Ke)},destroy(){Ae.destroy(),Ze.destroy()}}},oe=(Q,Pe)=>{if(!Pe)return;const rt=Q.currentX,fe=Q.currentY,ve=Q.currentTime;re(Pe,Q);const ge=Q.currentX,Je=Q.currentY,Ye=(Q.currentTime=ue(Pe))-ve;if(Ye>0&&Ye<100){const je=(Je-fe)/Ye;Q.velocityX=(ge-rt)/Ye*.7+.3*Q.velocityX,Q.velocityY=.7*je+.3*Q.velocityY}Q.deltaX=ge-Q.startX,Q.deltaY=Je-Q.startY,Q.event=Pe},re=(Q,Pe)=>{let rt=0,fe=0;if(Q){const ve=Q.changedTouches;if(ve&&ve.length>0){const ge=ve[0];rt=ge.clientX,fe=ge.clientY}else void 0!==Q.pageX&&(rt=Q.pageX,fe=Q.pageY)}Pe.currentX=rt,Pe.currentY=fe},ue=Q=>Q.timeStamp||Date.now()},6708:(Xt,tt,P)=>{"use strict";P.d(tt,{m:()=>re});var a=P(5861),G=P(7593),$=P(1643),xe=P(6254),we=P(8015);const se=ue=>(0,we.c)().duration(ue?400:300),Te=ue=>{let Q,Pe;const rt=ue.width+8,fe=(0,we.c)(),ve=(0,we.c)();ue.isEndSide?(Q=rt+"px",Pe="0px"):(Q=-rt+"px",Pe="0px"),fe.addElement(ue.menuInnerEl).fromTo("transform",`translateX(${Q})`,`translateX(${Pe})`);const Je="ios"===(0,xe.b)(ue),te=Je?.2:.25;return ve.addElement(ue.backdropEl).fromTo("opacity",.01,te),se(Je).addAnimation([fe,ve])},Ce=ue=>{let Q,Pe;const rt=(0,xe.b)(ue),fe=ue.width;ue.isEndSide?(Q=-fe+"px",Pe=fe+"px"):(Q=fe+"px",Pe=-fe+"px");const ve=(0,we.c)().addElement(ue.menuInnerEl).fromTo("transform",`translateX(${Pe})`,"translateX(0px)"),ge=(0,we.c)().addElement(ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${Q})`),Je=(0,we.c)().addElement(ue.backdropEl).fromTo("opacity",.01,.32);return se("ios"===rt).addAnimation([ve,ge,Je])},ye=ue=>{const Q=(0,xe.b)(ue),Pe=ue.width*(ue.isEndSide?-1:1)+"px",rt=(0,we.c)().addElement(ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${Pe})`);return se("ios"===Q).addAnimation(rt)},re=(()=>{const ue=new Map,Q=[],Pe=function(){var Qe=(0,a.Z)(function*(Xe){const qe=yield Ye(Xe);return!!qe&&qe.open()});return function(qe){return Qe.apply(this,arguments)}}(),rt=function(){var Qe=(0,a.Z)(function*(Xe){const qe=yield void 0!==Xe?Ye(Xe):be();return void 0!==qe&&qe.close()});return function(qe){return Qe.apply(this,arguments)}}(),fe=function(){var Qe=(0,a.Z)(function*(Xe){const qe=yield Ye(Xe);return!!qe&&qe.toggle()});return function(qe){return Qe.apply(this,arguments)}}(),ve=function(){var Qe=(0,a.Z)(function*(Xe,qe){const Ze=yield Ye(qe);return Ze&&(Ze.disabled=!Xe),Ze});return function(qe,Ze){return Qe.apply(this,arguments)}}(),ge=function(){var Qe=(0,a.Z)(function*(Xe,qe){const Ze=yield Ye(qe);return Ze&&(Ze.swipeGesture=Xe),Ze});return function(qe,Ze){return Qe.apply(this,arguments)}}(),Je=function(){var Qe=(0,a.Z)(function*(Xe){if(null!=Xe){const qe=yield Ye(Xe);return void 0!==qe&&qe.isOpen()}return void 0!==(yield be())});return function(qe){return Qe.apply(this,arguments)}}(),te=function(){var Qe=(0,a.Z)(function*(Xe){const qe=yield Ye(Xe);return!!qe&&!qe.disabled});return function(qe){return Qe.apply(this,arguments)}}(),Ye=function(){var Qe=(0,a.Z)(function*(Xe){return yield at(),"start"===Xe||"end"===Xe?Gt(et=>et.side===Xe&&!et.disabled)||Gt(et=>et.side===Xe):null!=Xe?Gt(Ze=>Ze.menuId===Xe):Gt(Ze=>!Ze.disabled)||(Q.length>0?Q[0].el:void 0)});return function(qe){return Qe.apply(this,arguments)}}(),be=function(){var Qe=(0,a.Z)(function*(){return yield at(),ze()});return function(){return Qe.apply(this,arguments)}}(),je=function(){var Qe=(0,a.Z)(function*(){return yield at(),Be()});return function(){return Qe.apply(this,arguments)}}(),ot=function(){var Qe=(0,a.Z)(function*(){return yield at(),Rt()});return function(){return Qe.apply(this,arguments)}}(),Le=(Qe,Xe)=>{ue.set(Qe,Xe)},le=Qe=>{const Xe=Qe.side;Q.filter(qe=>qe.side===Xe&&qe!==Qe).forEach(qe=>qe.disabled=!0)},he=function(){var Qe=(0,a.Z)(function*(Xe,qe,Ze){if(Rt())return!1;if(qe){const et=yield be();et&&Xe.el!==et&&(yield et.setOpen(!1,!1))}return Xe._setOpen(qe,Ze)});return function(qe,Ze,et){return Qe.apply(this,arguments)}}(),ze=()=>Gt(Qe=>Qe._isOpen),Be=()=>Q.map(Qe=>Qe.el),Rt=()=>Q.some(Qe=>Qe.isAnimating),Gt=Qe=>{const Xe=Q.find(Qe);if(void 0!==Xe)return Xe.el},at=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Qe=>new Promise(Xe=>(0,$.c)(Qe,Xe))));return Le("reveal",ye),Le("push",Ce),Le("overlay",Te),"undefined"!=typeof document&&document.addEventListener("ionBackButton",Qe=>{const Xe=ze();Xe&&Qe.detail.register(G.MENU_BACK_BUTTON_PRIORITY,()=>Xe.close())}),{registerAnimation:Le,get:Ye,getMenus:je,getOpen:be,isEnabled:te,swipeGesture:ge,isAnimating:ot,isOpen:Je,enable:ve,toggle:fe,close:rt,open:Pe,_getOpenSync:ze,_createAnimation:(Qe,Xe)=>{const qe=ue.get(Qe);if(!qe)throw new Error("animation not registered");return qe(Xe)},_register:Qe=>{Q.indexOf(Qe)<0&&(Qe.disabled||le(Qe),Q.push(Qe))},_unregister:Qe=>{const Xe=Q.indexOf(Qe);Xe>-1&&Q.splice(Xe,1)},_setOpen:he,_setActiveMenu:le}})()},2361:(Xt,tt,P)=>{"use strict";P.d(tt,{B:()=>Ln,H:()=>It,a:()=>et,b:()=>Hr,c:()=>bn,e:()=>zn,f:()=>ct,g:()=>Ke,h:()=>zt,i:()=>Mn,j:()=>_e,k:()=>Dr,p:()=>fe,r:()=>dr,s:()=>Pe});var a=P(5861);let $,xe,we,se=!1,Te=!1,Ce=!1,ye=!1,oe=!1;const re="undefined"!=typeof window?window:{},ue=re.document||{head:{}},Q={$flags$:0,$resourcesUrl$:"",jmp:R=>R(),raf:R=>requestAnimationFrame(R),ael:(R,B,X,pe)=>R.addEventListener(B,X,pe),rel:(R,B,X,pe)=>R.removeEventListener(B,X,pe),ce:(R,B)=>new CustomEvent(R,B)},Pe=R=>{Object.assign(Q,R)},fe=R=>Promise.resolve(R),ve=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(R){}return!1})(),ge=(R,B,X,pe)=>{X&&X.map(([Z,de,Ne])=>{const yt=te(R,Z),ft=Je(B,Ne),wt=Ye(Z);Q.ael(yt,de,ft,wt),(B.$rmListeners$=B.$rmListeners$||[]).push(()=>Q.rel(yt,de,ft,wt))})},Je=(R,B)=>X=>{try{256&R.$flags$?R.$lazyInstance$[B](X):(R.$queuedListeners$=R.$queuedListeners$||[]).push([B,X])}catch(pe){ar(pe)}},te=(R,B)=>4&B?ue:8&B?re:16&B?ue.body:R,Ye=R=>0!=(2&R),Ct="s-id",ce="sty-id",Ae="http://www.w3.org/1999/xlink",Rt=new WeakMap,Gt=(R,B,X)=>{let pe=Qn.get(R);ve&&X?(pe=pe||new CSSStyleSheet,pe.replace(B)):pe=B,Qn.set(R,pe)},at=(R,B,X,pe)=>{let Z=Xe(B,X),de=Qn.get(Z);if(R=11===R.nodeType?R:ue,de)if("string"==typeof de){let yt,Ne=Rt.get(R=R.head||R);Ne||Rt.set(R,Ne=new Set),Ne.has(Z)||(R.host&&(yt=R.querySelector(`[${ce}="${Z}"]`))?yt.innerHTML=de:(yt=ue.createElement("style"),yt.innerHTML=de,R.insertBefore(yt,R.querySelector("link"))),Ne&&Ne.add(Z))}else R.adoptedStyleSheets.includes(de)||(R.adoptedStyleSheets=[...R.adoptedStyleSheets,de]);return Z},Xe=(R,B)=>"sc-"+(B&&32&R.$flags$?R.$tagName$+"-"+B:R.$tagName$),qe=R=>R.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),et=R=>Yn.push(R),Ke=R=>Wn(R).$modeName$,ut={},on=R=>"object"==(R=typeof R)||"function"===R,zt=(R,B,...X)=>{let pe=null,Z=null,de=null,Ne=!1,yt=!1,ft=[];const wt=sn=>{for(let Dn=0;Dn<sn.length;Dn++)pe=sn[Dn],Array.isArray(pe)?wt(pe):null!=pe&&"boolean"!=typeof pe&&((Ne="function"!=typeof R&&!on(pe))&&(pe=String(pe)),Ne&&yt?ft[ft.length-1].$text$+=pe:ft.push(Ne?gn(null,pe):pe),yt=Ne)};if(wt(X),B){B.key&&(Z=B.key),B.name&&(de=B.name);{const sn=B.className||B.class;sn&&(B.class="object"!=typeof sn?sn:Object.keys(sn).filter(Dn=>sn[Dn]).join(" "))}}if("function"==typeof R)return R(null===B?{}:B,ft,Nn);const Zt=gn(R,null);return Zt.$attrs$=B,ft.length>0&&(Zt.$children$=ft),Zt.$key$=Z,Zt.$name$=de,Zt},gn=(R,B)=>({$flags$:0,$tag$:R,$text$:B,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),It={},Nn={forEach:(R,B)=>R.map(Gn).forEach(B),map:(R,B)=>R.map(Gn).map(B).map(pn)},Gn=R=>({vattrs:R.$attrs$,vchildren:R.$children$,vkey:R.$key$,vname:R.$name$,vtag:R.$tag$,vtext:R.$text$}),pn=R=>{if("function"==typeof R.vtag){const X=Object.assign({},R.vattrs);return R.vkey&&(X.key=R.vkey),R.vname&&(X.name=R.vname),zt(R.vtag,X,...R.vchildren||[])}const B=gn(R.vtag,R.vtext);return B.$attrs$=R.vattrs,B.$children$=R.vchildren,B.$key$=R.vkey,B.$name$=R.vname,B},Xn=(R,B,X,pe,Z,de)=>{if(X!==pe){let Ne=Zr(R,B),yt=B.toLowerCase();if("class"===B){const ft=R.classList,wt=Hn(X),Zt=Hn(pe);ft.remove(...wt.filter(sn=>sn&&!Zt.includes(sn))),ft.add(...Zt.filter(sn=>sn&&!wt.includes(sn)))}else if("style"===B){for(const ft in X)(!pe||null==pe[ft])&&(ft.includes("-")?R.style.removeProperty(ft):R.style[ft]="");for(const ft in pe)(!X||pe[ft]!==X[ft])&&(ft.includes("-")?R.style.setProperty(ft,pe[ft]):R.style[ft]=pe[ft])}else if("key"!==B)if("ref"===B)pe&&pe(R);else if(Ne||"o"!==B[0]||"n"!==B[1]){const ft=on(pe);if((Ne||ft&&null!==pe)&&!Z)try{if(R.tagName.includes("-"))R[B]=pe;else{let Zt=null==pe?"":pe;"list"===B?Ne=!1:(null==X||R[B]!=Zt)&&(R[B]=Zt)}}catch(Zt){}let wt=!1;yt!==(yt=yt.replace(/^xlink\:?/,""))&&(B=yt,wt=!0),null==pe||!1===pe?(!1!==pe||""===R.getAttribute(B))&&(wt?R.removeAttributeNS(Ae,B):R.removeAttribute(B)):(!Ne||4&de||Z)&&!ft&&(pe=!0===pe?"":pe,wt?R.setAttributeNS(Ae,B,pe):R.setAttribute(B,pe))}else B="-"===B[2]?B.slice(3):Zr(re,yt)?yt.slice(2):yt[2]+B.slice(3),X&&Q.rel(R,B,X,!1),pe&&Q.ael(R,B,pe,!1)}},Bn=/\s/,Hn=R=>R?R.split(Bn):[],wn=(R,B,X,pe)=>{const Z=11===B.$elm$.nodeType&&B.$elm$.host?B.$elm$.host:B.$elm$,de=R&&R.$attrs$||ut,Ne=B.$attrs$||ut;for(pe in de)pe in Ne||Xn(Z,pe,de[pe],void 0,X,B.$flags$);for(pe in Ne)Xn(Z,pe,de[pe],Ne[pe],X,B.$flags$)},tn=(R,B,X,pe)=>{let Ne,yt,ft,Z=B.$children$[X],de=0;if(se||(Ce=!0,"slot"===Z.$tag$&&($&&pe.classList.add($+"-s"),Z.$flags$|=Z.$children$?2:1)),null!==Z.$text$)Ne=Z.$elm$=ue.createTextNode(Z.$text$);else if(1&Z.$flags$)Ne=Z.$elm$=ue.createTextNode("");else{if(ye||(ye="svg"===Z.$tag$),Ne=Z.$elm$=ue.createElementNS(ye?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Z.$flags$?"slot-fb":Z.$tag$),ye&&"foreignObject"===Z.$tag$&&(ye=!1),wn(null,Z,ye),(R=>null!=R)($)&&Ne["s-si"]!==$&&Ne.classList.add(Ne["s-si"]=$),Z.$children$)for(de=0;de<Z.$children$.length;++de)yt=tn(R,Z,de,Ne),yt&&Ne.appendChild(yt);"svg"===Z.$tag$?ye=!1:"foreignObject"===Ne.tagName&&(ye=!0)}return Ne["s-hn"]=we,3&Z.$flags$&&(Ne["s-sr"]=!0,Ne["s-cr"]=xe,Ne["s-sn"]=Z.$name$||"",ft=R&&R.$children$&&R.$children$[X],ft&&ft.$tag$===Z.$tag$&&R.$elm$&&qn(R.$elm$,!1)),Ne},qn=(R,B)=>{Q.$flags$|=1;const X=R.childNodes;for(let pe=X.length-1;pe>=0;pe--){const Z=X[pe];Z["s-hn"]!==we&&Z["s-ol"]&&(Yt(Z).insertBefore(Z,en(Z)),Z["s-ol"].remove(),Z["s-ol"]=void 0,Ce=!0),B&&qn(Z,B)}Q.$flags$&=-2},xr=(R,B,X,pe,Z,de)=>{let yt,Ne=R["s-cr"]&&R["s-cr"].parentNode||R;for(Ne.shadowRoot&&Ne.tagName===we&&(Ne=Ne.shadowRoot);Z<=de;++Z)pe[Z]&&(yt=tn(null,X,Z,R),yt&&(pe[Z].$elm$=yt,Ne.insertBefore(yt,en(B))))},hr=(R,B,X,pe,Z)=>{for(;B<=X;++B)(pe=R[B])&&(Z=pe.$elm$,ln(pe),Te=!0,Z["s-ol"]?Z["s-ol"].remove():qn(Z,!0),Z.remove())},kn=(R,B)=>R.$tag$===B.$tag$&&("slot"===R.$tag$?R.$name$===B.$name$:R.$key$===B.$key$),en=R=>R&&R["s-ol"]||R,Yt=R=>(R["s-ol"]?R["s-ol"]:R).parentNode,wr=(R,B)=>{const X=B.$elm$=R.$elm$,pe=R.$children$,Z=B.$children$,de=B.$tag$,Ne=B.$text$;let yt;null===Ne?(ye="svg"===de||"foreignObject"!==de&&ye,"slot"===de||wn(R,B,ye),null!==pe&&null!==Z?((R,B,X,pe)=>{let Cr,Nr,Z=0,de=0,Ne=0,yt=0,ft=B.length-1,wt=B[0],Zt=B[ft],sn=pe.length-1,Dn=pe[0],er=pe[sn];for(;Z<=ft&&de<=sn;)if(null==wt)wt=B[++Z];else if(null==Zt)Zt=B[--ft];else if(null==Dn)Dn=pe[++de];else if(null==er)er=pe[--sn];else if(kn(wt,Dn))wr(wt,Dn),wt=B[++Z],Dn=pe[++de];else if(kn(Zt,er))wr(Zt,er),Zt=B[--ft],er=pe[--sn];else if(kn(wt,er))("slot"===wt.$tag$||"slot"===er.$tag$)&&qn(wt.$elm$.parentNode,!1),wr(wt,er),R.insertBefore(wt.$elm$,Zt.$elm$.nextSibling),wt=B[++Z],er=pe[--sn];else if(kn(Zt,Dn))("slot"===wt.$tag$||"slot"===er.$tag$)&&qn(Zt.$elm$.parentNode,!1),wr(Zt,Dn),R.insertBefore(Zt.$elm$,wt.$elm$),Zt=B[--ft],Dn=pe[++de];else{for(Ne=-1,yt=Z;yt<=ft;++yt)if(B[yt]&&null!==B[yt].$key$&&B[yt].$key$===Dn.$key$){Ne=yt;break}Ne>=0?(Nr=B[Ne],Nr.$tag$!==Dn.$tag$?Cr=tn(B&&B[de],X,Ne,R):(wr(Nr,Dn),B[Ne]=void 0,Cr=Nr.$elm$),Dn=pe[++de]):(Cr=tn(B&&B[de],X,de,R),Dn=pe[++de]),Cr&&Yt(wt.$elm$).insertBefore(Cr,en(wt.$elm$))}Z>ft?xr(R,null==pe[sn+1]?null:pe[sn+1].$elm$,X,pe,de,sn):de>sn&&hr(B,Z,ft)})(X,pe,B,Z):null!==Z?(null!==R.$text$&&(X.textContent=""),xr(X,null,B,Z,0,Z.length-1)):null!==pe&&hr(pe,0,pe.length-1),ye&&"svg"===de&&(ye=!1)):(yt=X["s-cr"])?yt.parentNode.textContent=Ne:R.$text$!==Ne&&(X.data=Ne)},Ur=R=>{let X,pe,Z,de,Ne,yt,B=R.childNodes;for(pe=0,Z=B.length;pe<Z;pe++)if(X=B[pe],1===X.nodeType){if(X["s-sr"])for(Ne=X["s-sn"],X.hidden=!1,de=0;de<Z;de++)if(yt=B[de].nodeType,B[de]["s-hn"]!==X["s-hn"]||""!==Ne){if(1===yt&&Ne===B[de].getAttribute("slot")){X.hidden=!0;break}}else if(1===yt||3===yt&&""!==B[de].textContent.trim()){X.hidden=!0;break}Ur(X)}},Kn=[],Pr=R=>{let B,X,pe,Z,de,Ne,yt=0,ft=R.childNodes,wt=ft.length;for(;yt<wt;yt++){if(B=ft[yt],B["s-sr"]&&(X=B["s-cr"])&&X.parentNode)for(pe=X.parentNode.childNodes,Z=B["s-sn"],Ne=pe.length-1;Ne>=0;Ne--)X=pe[Ne],!X["s-cn"]&&!X["s-nr"]&&X["s-hn"]!==B["s-hn"]&&(ir(X,Z)?(de=Kn.find(Zt=>Zt.$nodeToRelocate$===X),Te=!0,X["s-sn"]=X["s-sn"]||Z,de?de.$slotRefNode$=B:Kn.push({$slotRefNode$:B,$nodeToRelocate$:X}),X["s-sr"]&&Kn.map(Zt=>{ir(Zt.$nodeToRelocate$,X["s-sn"])&&(de=Kn.find(sn=>sn.$nodeToRelocate$===X),de&&!Zt.$slotRefNode$&&(Zt.$slotRefNode$=de.$slotRefNode$))})):Kn.some(Zt=>Zt.$nodeToRelocate$===X)||Kn.push({$nodeToRelocate$:X}));1===B.nodeType&&Pr(B)}},ir=(R,B)=>1===R.nodeType?null===R.getAttribute("slot")&&""===B||R.getAttribute("slot")===B:R["s-sn"]===B||""===B,ln=R=>{R.$attrs$&&R.$attrs$.ref&&R.$attrs$.ref(null),R.$children$&&R.$children$.map(ln)},Mn=R=>Wn(R).$hostElement$,zn=(R,B,X)=>{const pe=Mn(R);return{emit:Z=>qt(pe,B,{bubbles:!!(4&X),composed:!!(2&X),cancelable:!!(1&X),detail:Z})}},qt=(R,B,X)=>{const pe=Q.ce(B,X);return R.dispatchEvent(pe),pe},Dt=(R,B)=>{B&&!R.$onRenderResolve$&&B["s-p"]&&B["s-p"].push(new Promise(X=>R.$onRenderResolve$=X))},Pt=(R,B)=>{if(R.$flags$|=16,!(4&R.$flags$))return Dt(R,R.$ancestorComponent$),bn(()=>mn(R,B));R.$flags$|=512},mn=(R,B)=>{const pe=R.$lazyInstance$;let Z;return B&&(R.$flags$|=256,R.$queuedListeners$&&(R.$queuedListeners$.map(([de,Ne])=>nt(pe,de,Ne)),R.$queuedListeners$=null),Z=nt(pe,"componentWillLoad")),Z=ae(Z,()=>nt(pe,"componentWillRender")),ae(Z,()=>Ut(R,pe,B))},Ut=function(){var R=(0,a.Z)(function*(B,X,pe){const Z=B.$hostElement$,Ne=Z["s-rc"];pe&&(R=>{const B=R.$cmpMeta$,X=R.$hostElement$,pe=B.$flags$,de=at(X.shadowRoot?X.shadowRoot:X.getRootNode(),B,R.$modeName$);10&pe&&(X["s-sc"]=de,X.classList.add(de+"-h"),2&pe&&X.classList.add(de+"-s"))})(B);Qt(B,X),Ne&&(Ne.map(ft=>ft()),Z["s-rc"]=void 0);{const ft=Z["s-p"],wt=()=>Fe(B);0===ft.length?wt():(Promise.all(ft).then(wt),B.$flags$|=4,ft.length=0)}});return function(X,pe,Z){return R.apply(this,arguments)}}(),Qt=(R,B,X)=>{try{B=B.render&&B.render(),R.$flags$&=-17,R.$flags$|=2,((R,B)=>{const X=R.$hostElement$,pe=R.$cmpMeta$,Z=R.$vnode$||gn(null,null),de=(R=>R&&R.$tag$===It)(B)?B:zt(null,null,B);if(we=X.tagName,pe.$attrsToReflect$&&(de.$attrs$=de.$attrs$||{},pe.$attrsToReflect$.map(([Ne,yt])=>de.$attrs$[yt]=X[Ne])),de.$tag$=null,de.$flags$|=4,R.$vnode$=de,de.$elm$=Z.$elm$=X.shadowRoot||X,$=X["s-sc"],xe=X["s-cr"],se=0!=(1&pe.$flags$),Te=!1,wr(Z,de),Q.$flags$|=1,Ce){Pr(de.$elm$);let Ne,yt,ft,wt,Zt,sn,Dn=0;for(;Dn<Kn.length;Dn++)Ne=Kn[Dn],yt=Ne.$nodeToRelocate$,yt["s-ol"]||(ft=ue.createTextNode(""),ft["s-nr"]=yt,yt.parentNode.insertBefore(yt["s-ol"]=ft,yt));for(Dn=0;Dn<Kn.length;Dn++)if(Ne=Kn[Dn],yt=Ne.$nodeToRelocate$,Ne.$slotRefNode$){for(wt=Ne.$slotRefNode$.parentNode,Zt=Ne.$slotRefNode$.nextSibling,ft=yt["s-ol"];ft=ft.previousSibling;)if(sn=ft["s-nr"],sn&&sn["s-sn"]===yt["s-sn"]&&wt===sn.parentNode&&(sn=sn.nextSibling,!sn||!sn["s-nr"])){Zt=sn;break}(!Zt&&wt!==yt.parentNode||yt.nextSibling!==Zt)&&yt!==Zt&&(!yt["s-hn"]&&yt["s-ol"]&&(yt["s-hn"]=yt["s-ol"].parentNode.nodeName),wt.insertBefore(yt,Zt))}else 1===yt.nodeType&&(yt.hidden=!0)}Te&&Ur(de.$elm$),Q.$flags$&=-2,Kn.length=0})(R,B)}catch(pe){ar(pe,R.$hostElement$)}return null},Fe=R=>{const X=R.$hostElement$,Z=R.$lazyInstance$,de=R.$ancestorComponent$;nt(Z,"componentDidRender"),64&R.$flags$?nt(Z,"componentDidUpdate"):(R.$flags$|=64,me(X),nt(Z,"componentDidLoad"),R.$onReadyResolve$(X),de||$e()),R.$onInstanceResolve$(X),R.$onRenderResolve$&&(R.$onRenderResolve$(),R.$onRenderResolve$=void 0),512&R.$flags$&&lt(()=>Pt(R,!1)),R.$flags$&=-517},_e=R=>{{const B=Wn(R),X=B.$hostElement$.isConnected;return X&&2==(18&B.$flags$)&&Pt(B,!1),X}},$e=R=>{me(ue.documentElement),lt(()=>qt(re,"appload",{detail:{namespace:"ionic"}}))},nt=(R,B,X)=>{if(R&&R[B])try{return R[B](X)}catch(pe){ar(pe)}},ae=(R,B)=>R&&R.then?R.then(B):B(),me=R=>R.classList.add("hydrated"),it=(R,B,X,pe,Z,de,Ne)=>{let yt,ft,wt,Zt;if(1===de.nodeType){for(yt=de.getAttribute("c-id"),yt&&(ft=yt.split("."),(ft[0]===Ne||"0"===ft[0])&&(wt={$flags$:0,$hostId$:ft[0],$nodeId$:ft[1],$depth$:ft[2],$index$:ft[3],$tag$:de.tagName.toLowerCase(),$elm$:de,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},B.push(wt),de.removeAttribute("c-id"),R.$children$||(R.$children$=[]),R.$children$[wt.$index$]=wt,R=wt,pe&&"0"===wt.$depth$&&(pe[wt.$index$]=wt.$elm$))),Zt=de.childNodes.length-1;Zt>=0;Zt--)it(R,B,X,pe,Z,de.childNodes[Zt],Ne);if(de.shadowRoot)for(Zt=de.shadowRoot.childNodes.length-1;Zt>=0;Zt--)it(R,B,X,pe,Z,de.shadowRoot.childNodes[Zt],Ne)}else if(8===de.nodeType)ft=de.nodeValue.split("."),(ft[1]===Ne||"0"===ft[1])&&(yt=ft[0],wt={$flags$:0,$hostId$:ft[1],$nodeId$:ft[2],$depth$:ft[3],$index$:ft[4],$elm$:de,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===yt?(wt.$elm$=de.nextSibling,wt.$elm$&&3===wt.$elm$.nodeType&&(wt.$text$=wt.$elm$.textContent,B.push(wt),de.remove(),R.$children$||(R.$children$=[]),R.$children$[wt.$index$]=wt,pe&&"0"===wt.$depth$&&(pe[wt.$index$]=wt.$elm$))):wt.$hostId$===Ne&&("s"===yt?(wt.$tag$="slot",de["s-sn"]=ft[5]?wt.$name$=ft[5]:"",de["s-sr"]=!0,pe&&(wt.$elm$=ue.createElement(wt.$tag$),wt.$name$&&wt.$elm$.setAttribute("name",wt.$name$),de.parentNode.insertBefore(wt.$elm$,de),de.remove(),"0"===wt.$depth$&&(pe[wt.$index$]=wt.$elm$)),X.push(wt),R.$children$||(R.$children$=[]),R.$children$[wt.$index$]=wt):"r"===yt&&(pe?de.remove():(Z["s-cr"]=de,de["s-cn"]=!0))));else if(R&&"style"===R.$tag$){const sn=gn(null,de.textContent);sn.$elm$=de,sn.$index$="0",R.$children$=[sn]}},Nt=(R,B)=>{if(1===R.nodeType){let X=0;for(;X<R.childNodes.length;X++)Nt(R.childNodes[X],B);if(R.shadowRoot)for(X=0;X<R.shadowRoot.childNodes.length;X++)Nt(R.shadowRoot.childNodes[X],B)}else if(8===R.nodeType){const X=R.nodeValue.split(".");"o"===X[0]&&(B.set(X[1]+"."+X[2],R),R.nodeValue="",R["s-en"]=X[3])}},On=(R,B,X)=>{if(B.$members$){R.watchers&&(B.$watchers$=R.watchers);const pe=Object.entries(B.$members$),Z=R.prototype;if(pe.map(([de,[Ne]])=>{31&Ne||2&X&&32&Ne?Object.defineProperty(Z,de,{get(){return((R,B)=>Wn(this).$instanceValues$.get(B))(0,de)},set(yt){((R,B,X,pe)=>{const Z=Wn(R),de=Z.$hostElement$,Ne=Z.$instanceValues$.get(B),yt=Z.$flags$,ft=Z.$lazyInstance$;X=((R,B)=>null==R||on(R)?R:4&B?"false"!==R&&(""===R||!!R):2&B?parseFloat(R):1&B?String(R):R)(X,pe.$members$[B][0]);const wt=Number.isNaN(Ne)&&Number.isNaN(X);if((!(8&yt)||void 0===Ne)&&X!==Ne&&!wt&&(Z.$instanceValues$.set(B,X),ft)){if(pe.$watchers$&&128&yt){const sn=pe.$watchers$[B];sn&&sn.map(Dn=>{try{ft[Dn](X,Ne,B)}catch(er){ar(er,de)}})}2==(18&yt)&&Pt(Z,!1)}})(this,de,yt,B)},configurable:!0,enumerable:!0}):1&X&&64&Ne&&Object.defineProperty(Z,de,{value(...yt){const ft=Wn(this);return ft.$onInstancePromise$.then(()=>ft.$lazyInstance$[de](...yt))}})}),1&X){const de=new Map;Z.attributeChangedCallback=function(Ne,yt,ft){Q.jmp(()=>{const wt=de.get(Ne);if(this.hasOwnProperty(wt))ft=this[wt],delete this[wt];else if(Z.hasOwnProperty(wt)&&"number"==typeof this[wt]&&this[wt]==ft)return;this[wt]=(null!==ft||"boolean"!=typeof this[wt])&&ft})},R.observedAttributes=pe.filter(([Ne,yt])=>15&yt[0]).map(([Ne,yt])=>{const ft=yt[1]||Ne;return de.set(ft,Ne),512&yt[0]&&B.$attrsToReflect$.push([Ne,ft]),ft})}}return R},gr=function(){var R=(0,a.Z)(function*(B,X,pe,Z,de){if(0==(32&X.$flags$)){{if(X.$flags$|=32,(de=En(pe)).then){const wt=()=>{};de=yield de,wt()}de.isProxied||(pe.$watchers$=de.watchers,On(de,pe,2),de.isProxied=!0);const ft=()=>{};X.$flags$|=8;try{new de(X)}catch(wt){ar(wt)}X.$flags$&=-9,X.$flags$|=128,ft(),$n(X.$lazyInstance$)}if(de.style){let ft=de.style;"string"!=typeof ft&&(ft=ft[X.$modeName$=(R=>Yn.map(B=>B(R)).find(B=>!!B))(B)]);const wt=Xe(pe,X.$modeName$);if(!Qn.has(wt)){const Zt=()=>{};Gt(wt,ft,!!(1&pe.$flags$)),Zt()}}}const Ne=X.$ancestorComponent$,yt=()=>Pt(X,!0);Ne&&Ne["s-rc"]?Ne["s-rc"].push(yt):yt()});return function(X,pe,Z,de,Ne){return R.apply(this,arguments)}}(),$n=R=>{nt(R,"connectedCallback")},In=R=>{const B=R["s-cr"]=ue.createComment("");B["s-cn"]=!0,R.insertBefore(B,R.firstChild)},Hr=(R,B={})=>{const pe=[],Z=B.exclude||[],de=re.customElements,Ne=ue.head,yt=Ne.querySelector("meta[charset]"),ft=ue.createElement("style"),wt=[],Zt=ue.querySelectorAll(`[${ce}]`);let sn,Dn=!0,er=0;for(Object.assign(Q,B),Q.$resourcesUrl$=new URL(B.resourcesUrl||"./",ue.baseURI).href,Q.$flags$|=2;er<Zt.length;er++)Gt(Zt[er].getAttribute(ce),qe(Zt[er].innerHTML),!0);R.map(Cr=>{Cr[1].map(Nr=>{const ei={$flags$:Nr[0],$tagName$:Nr[1],$members$:Nr[2],$listeners$:Nr[3]};ei.$members$=Nr[2],ei.$listeners$=Nr[3],ei.$attrsToReflect$=[],ei.$watchers$={};const Pi=ei.$tagName$,Br=class extends HTMLElement{constructor(ai){super(ai),cr(ai=this,ei),1&ei.$flags$&&ai.attachShadow({mode:"open",delegatesFocus:!!(16&ei.$flags$)})}connectedCallback(){sn&&(clearTimeout(sn),sn=null),Dn?wt.push(this):Q.jmp(()=>(R=>{if(0==(1&Q.$flags$)){const B=Wn(R),X=B.$cmpMeta$,pe=()=>{};if(1&B.$flags$)ge(R,B,X.$listeners$),$n(B.$lazyInstance$);else{let Z;if(B.$flags$|=1,Z=R.getAttribute(Ct),Z){if(1&X.$flags$){const de=at(R.shadowRoot,X,R.getAttribute("s-mode"));R.classList.remove(de+"-h",de+"-s")}((R,B,X,pe)=>{const de=R.shadowRoot,Ne=[],ft=de?[]:null,wt=pe.$vnode$=gn(B,null);Q.$orgLocNodes$||Nt(ue.body,Q.$orgLocNodes$=new Map),R[Ct]=X,R.removeAttribute(Ct),it(wt,Ne,[],ft,R,R,X),Ne.map(Zt=>{const sn=Zt.$hostId$+"."+Zt.$nodeId$,Dn=Q.$orgLocNodes$.get(sn),er=Zt.$elm$;Dn&&""===Dn["s-en"]&&Dn.parentNode.insertBefore(er,Dn.nextSibling),de||(er["s-hn"]=B,Dn&&(er["s-ol"]=Dn,er["s-ol"]["s-nr"]=er)),Q.$orgLocNodes$.delete(sn)}),de&&ft.map(Zt=>{Zt&&de.appendChild(Zt)})})(R,X.$tagName$,Z,B)}Z||12&X.$flags$&&In(R);{let de=R;for(;de=de.parentNode||de.host;)if(1===de.nodeType&&de.hasAttribute("s-id")&&de["s-p"]||de["s-p"]){Dt(B,B.$ancestorComponent$=de);break}}X.$members$&&Object.entries(X.$members$).map(([de,[Ne]])=>{if(31&Ne&&R.hasOwnProperty(de)){const yt=R[de];delete R[de],R[de]=yt}}),lt(()=>gr(R,B,X))}pe()}})(this))}disconnectedCallback(){Q.jmp(()=>(R=>{if(0==(1&Q.$flags$)){const B=Wn(this),X=B.$lazyInstance$;B.$rmListeners$&&(B.$rmListeners$.map(pe=>pe()),B.$rmListeners$=void 0),nt(X,"disconnectedCallback")}})())}componentOnReady(){return Wn(this).$onReadyPromise$}};ei.$lazyBundleId$=Cr[0],!Z.includes(Pi)&&!de.get(Pi)&&(pe.push(Pi),de.define(Pi,On(Br,ei,1)))})}),ft.innerHTML=pe+"{visibility:hidden}.hydrated{visibility:inherit}",ft.setAttribute("data-styles",""),Ne.insertBefore(ft,yt?yt.nextSibling:Ne.firstChild),Dn=!1,wt.length?wt.map(Cr=>Cr.connectedCallback()):Q.jmp(()=>sn=setTimeout($e,30))},Dr=R=>{const B=new URL(R,Q.$resourcesUrl$);return B.origin!==re.location.origin?B.href:B.pathname},or=new WeakMap,Wn=R=>or.get(R),dr=(R,B)=>or.set(B.$lazyInstance$=R,B),cr=(R,B)=>{const X={$flags$:0,$hostElement$:R,$cmpMeta$:B,$instanceValues$:new Map};return X.$onInstancePromise$=new Promise(pe=>X.$onInstanceResolve$=pe),X.$onReadyPromise$=new Promise(pe=>X.$onReadyResolve$=pe),R["s-p"]=[],R["s-rc"]=[],ge(R,X,B.$listeners$),or.set(R,X)},Zr=(R,B)=>B in R,ar=(R,B)=>(0,console.error)(R,B),jt=new Map,En=(R,B,X)=>{const pe=R.$tagName$.replace(/-/g,"_"),Z=R.$lazyBundleId$,de=jt.get(Z);return de?de[pe]:P(863)(`./${Z}.entry.js`).then(Ne=>(jt.set(Z,Ne),Ne[pe]),ar)},Qn=new Map,Yn=[],Mr=[],vr=[],Ue=(R,B)=>X=>{R.push(X),oe||(oe=!0,B&&4&Q.$flags$?lt(Se):Q.raf(Se))},Oe=R=>{for(let B=0;B<R.length;B++)try{R[B](performance.now())}catch(X){ar(X)}R.length=0},Se=()=>{Oe(Mr),Oe(vr),(oe=Mr.length>0)&&Q.raf(Se)},lt=R=>fe().then(R),ct=Ue(Mr,!1),bn=Ue(vr,!0),Ln={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},7249:(Xt,tt,P)=>{"use strict";P.d(tt,{L:()=>xe,a:()=>we,b:()=>se,c:()=>Te,d:()=>Ce,e:()=>Le,g:()=>le,l:()=>je,s:()=>Ct,t:()=>re});var a=P(5861),G=P(2361),$=P(1643);const xe="ionViewWillEnter",we="ionViewDidEnter",se="ionViewWillLeave",Te="ionViewDidLeave",Ce="ionViewWillUnload",re=he=>new Promise((Ae,ze)=>{(0,G.c)(()=>{ue(he),Q(he).then(Be=>{Be.animation&&Be.animation.destroy(),Pe(he),Ae(Be)},Be=>{Pe(he),ze(Be)})})}),ue=he=>{const Ae=he.enteringEl,ze=he.leavingEl;ce(Ae,ze,he.direction),he.showGoBack?Ae.classList.add("can-go-back"):Ae.classList.remove("can-go-back"),Ct(Ae,!1),Ae.style.setProperty("pointer-events","none"),ze&&(Ct(ze,!1),ze.style.setProperty("pointer-events","none"))},Q=function(){var he=(0,a.Z)(function*(Ae){const ze=yield rt(Ae);return ze&&G.B.isBrowser?fe(ze,Ae):ve(Ae)});return function(ze){return he.apply(this,arguments)}}(),Pe=he=>{const Ae=he.enteringEl,ze=he.leavingEl;Ae.classList.remove("ion-page-invisible"),Ae.style.removeProperty("pointer-events"),void 0!==ze&&(ze.classList.remove("ion-page-invisible"),ze.style.removeProperty("pointer-events"))},rt=function(){var he=(0,a.Z)(function*(Ae){return Ae.leavingEl&&Ae.animated&&0!==Ae.duration?Ae.animationBuilder?Ae.animationBuilder:"ios"===Ae.mode?(yield Promise.resolve().then(P.bind(P,936))).iosTransitionAnimation:(yield Promise.resolve().then(P.bind(P,8447))).mdTransitionAnimation:void 0});return function(ze){return he.apply(this,arguments)}}(),fe=function(){var he=(0,a.Z)(function*(Ae,ze){yield ge(ze,!0);const Be=Ae(ze.baseEl,ze);Ye(ze.enteringEl,ze.leavingEl);const Rt=yield te(Be,ze);return ze.progressCallback&&ze.progressCallback(void 0),Rt&&be(ze.enteringEl,ze.leavingEl),{hasCompleted:Rt,animation:Be}});return function(ze,Be){return he.apply(this,arguments)}}(),ve=function(){var he=(0,a.Z)(function*(Ae){const ze=Ae.enteringEl,Be=Ae.leavingEl;return yield ge(Ae,!1),Ye(ze,Be),be(ze,Be),{hasCompleted:!0}});return function(ze){return he.apply(this,arguments)}}(),ge=function(){var he=(0,a.Z)(function*(Ae,ze){const Rt=(void 0!==Ae.deepWait?Ae.deepWait:ze)?[Le(Ae.enteringEl),Le(Ae.leavingEl)]:[ot(Ae.enteringEl),ot(Ae.leavingEl)];yield Promise.all(Rt),yield Je(Ae.viewIsReady,Ae.enteringEl)});return function(ze,Be){return he.apply(this,arguments)}}(),Je=function(){var he=(0,a.Z)(function*(Ae,ze){Ae&&(yield Ae(ze))});return function(ze,Be){return he.apply(this,arguments)}}(),te=(he,Ae)=>{const ze=Ae.progressCallback,Be=new Promise(Rt=>{he.onFinish(Gt=>Rt(1===Gt))});return ze?(he.progressStart(!0),ze(he)):he.play(),Be},Ye=(he,Ae)=>{je(Ae,se),je(he,xe)},be=(he,Ae)=>{je(he,we),je(Ae,Te)},je=(he,Ae)=>{if(he){const ze=new CustomEvent(Ae,{bubbles:!1,cancelable:!1});he.dispatchEvent(ze)}},ot=he=>he?new Promise(Ae=>(0,$.c)(he,Ae)):Promise.resolve(),Le=function(){var he=(0,a.Z)(function*(Ae){const ze=Ae;if(ze){if(null!=ze.componentOnReady){if(null!=(yield ze.componentOnReady()))return}else if(null!=ze.__registerHost)return void(yield new Promise(Rt=>(0,$.r)(Rt)));yield Promise.all(Array.from(ze.children).map(Le))}});return function(ze){return he.apply(this,arguments)}}(),Ct=(he,Ae)=>{Ae?(he.setAttribute("aria-hidden","true"),he.classList.add("ion-page-hidden")):(he.hidden=!1,he.removeAttribute("aria-hidden"),he.classList.remove("ion-page-hidden"))},ce=(he,Ae,ze)=>{void 0!==he&&(he.style.zIndex="back"===ze?"99":"101"),void 0!==Ae&&(Ae.style.zIndex="100")},le=he=>he.classList.contains("ion-page")?he:he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||he},4464:(Xt,tt,P)=>{"use strict";P.d(tt,{AK:()=>xe.g,n$:()=>xe.a,hh:()=>we.c,re:()=>se.a,Jd:()=>se.c,kx:()=>se.L,EQ:()=>se.b,F8:()=>se.d,Fy:()=>Ce.m,oq:()=>Ce.c,L$:()=>rt,qc:()=>re}),P(936),P(8447),P(3139);var xe=P(6254),we=P(1643),se=P(7249),Ce=(P(6708),P(1450));P(3509),P(2361);const re=fe=>{const ve=window,ge=ve.Ionic;if(!ge||!ge.config||"Object"===ge.config.constructor.name)return ve.Ionic=ve.Ionic||{},ve.Ionic.config=Object.assign(Object.assign({},ve.Ionic.config),fe),ve.Ionic.config},rt=fe=>{const{swiper:ve,extendParams:ge}=fe,Je={effect:void 0,direction:"horizontal",initialSlide:0,loop:!1,parallax:!1,slidesPerView:1,spaceBetween:0,speed:300,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,touchEventsTarget:"container",autoplay:!1,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,zoom:{maxRatio:3,minRatio:1,toggle:!1},touchRatio:1,touchAngle:45,simulateTouch:!0,touchStartPreventDefault:!1,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loopAdditionalSlides:0,noSwiping:!0,runCallbacksOnInit:!0,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flipEffect:{slideShadows:!0,limitRotation:!0},cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fadeEffect:{crossFade:!1},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide"}};ve.pagination&&(Je.pagination={type:"bullets",clickable:!1,hideOnClick:!1}),ve.scrollbar&&(Je.scrollbar={hide:!0}),ge(Je)}},6254:(Xt,tt,P)=>{"use strict";P.d(tt,{a:()=>re,b:()=>Rt,c:()=>$,g:()=>oe,i:()=>Gt});var a=P(2361);class G{constructor(){this.m=new Map}reset(Qe){this.m=new Map(Object.entries(Qe))}get(Qe,Xe){const qe=this.m.get(Qe);return void 0!==qe?qe:Xe}getBoolean(Qe,Xe=!1){const qe=this.m.get(Qe);return void 0===qe?Xe:"string"==typeof qe?"true"===qe:!!qe}getNumber(Qe,Xe){const qe=parseFloat(this.m.get(Qe));return isNaN(qe)?void 0!==Xe?Xe:NaN:qe}set(Qe,Xe){this.m.set(Qe,Xe)}}const $=new G,ye="ionic-persist-config",oe=at=>ue(at),re=(at,Qe)=>("string"==typeof at&&(Qe=at,at=void 0),oe(at).includes(Qe)),ue=(at=window)=>{if(void 0===at)return[];at.Ionic=at.Ionic||{};let Qe=at.Ionic.platforms;return null==Qe&&(Qe=at.Ionic.platforms=Q(at),Qe.forEach(Xe=>at.document.documentElement.classList.add(`plt-${Xe}`))),Qe},Q=at=>{const Qe=$.get("platform");return Object.keys(ze).filter(Xe=>{const qe=null==Qe?void 0:Qe[Xe];return"function"==typeof qe?qe(at):ze[Xe](at)})},rt=at=>!!(he(at,/iPad/i)||he(at,/Macintosh/i)&&be(at)),ge=at=>he(at,/android|sink/i),be=at=>Ae(at,"(any-pointer:coarse)"),ot=at=>Le(at)||Ct(at),Le=at=>!!(at.cordova||at.phonegap||at.PhoneGap),Ct=at=>{const Qe=at.Capacitor;return!!(null==Qe?void 0:Qe.isNative)},he=(at,Qe)=>Qe.test(at.navigator.userAgent),Ae=(at,Qe)=>{var Xe;return null===(Xe=at.matchMedia)||void 0===Xe?void 0:Xe.call(at,Qe).matches},ze={ipad:rt,iphone:at=>he(at,/iPhone/i),ios:at=>he(at,/iPhone|iPod/i)||rt(at),android:ge,phablet:at=>{const Qe=at.innerWidth,Xe=at.innerHeight,qe=Math.min(Qe,Xe),Ze=Math.max(Qe,Xe);return qe>390&&qe<520&&Ze>620&&Ze<800},tablet:at=>{const Qe=at.innerWidth,Xe=at.innerHeight,qe=Math.min(Qe,Xe),Ze=Math.max(Qe,Xe);return rt(at)||(at=>ge(at)&&!he(at,/mobile/i))(at)||qe>460&&qe<820&&Ze>780&&Ze<1400},cordova:Le,capacitor:Ct,electron:at=>he(at,/electron/i),pwa:at=>{var Qe;return!(!(null===(Qe=at.matchMedia)||void 0===Qe?void 0:Qe.call(at,"(display-mode: standalone)").matches)&&!at.navigator.standalone)},mobile:be,mobileweb:at=>be(at)&&!ot(at),desktop:at=>!be(at),hybrid:ot};let Be;const Rt=at=>at&&(0,a.g)(at)||Be,Gt=(at={})=>{if("undefined"==typeof window)return;const Qe=window.document,Xe=window,qe=Xe.Ionic=Xe.Ionic||{},Ze={};at._ael&&(Ze.ael=at._ael),at._rel&&(Ze.rel=at._rel),at._ce&&(Ze.ce=at._ce),(0,a.s)(Ze);const et=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(at=>{try{const Qe=at.sessionStorage.getItem(ye);return null!==Qe?JSON.parse(Qe):{}}catch(Qe){return{}}})(Xe)),{persistConfig:!1}),qe.config),(at=>{const Qe={};return at.location.search.slice(1).split("&").map(Xe=>Xe.split("=")).map(([Xe,qe])=>[decodeURIComponent(Xe),decodeURIComponent(qe)]).filter(([Xe])=>((at,Qe)=>at.substr(0,Qe.length)===Qe)(Xe,"ionic:")).map(([Xe,qe])=>[Xe.slice("ionic:".length),qe]).forEach(([Xe,qe])=>{Qe[Xe]=qe}),Qe})(Xe)),at);$.reset(et),$.getBoolean("persistConfig")&&((at,Qe)=>{try{at.sessionStorage.setItem(ye,JSON.stringify(Qe))}catch(Xe){return}})(Xe,et),ue(Xe),qe.config=$,qe.mode=Be=$.get("mode",Qe.documentElement.getAttribute("mode")||(re(Xe,"ios")?"ios":"md")),$.set("mode",Be),Qe.documentElement.setAttribute("mode",Be),Qe.documentElement.classList.add(Be),$.getBoolean("_testing")&&$.set("animated",!1);const Ke=dt=>{var Ot;return null===(Ot=dt.tagName)||void 0===Ot?void 0:Ot.startsWith("ION-")},ut=dt=>["ios","md"].includes(dt);(0,a.a)(dt=>{for(;dt;){const Ot=dt.mode||dt.getAttribute("mode");if(Ot){if(ut(Ot))return Ot;Ke(dt)&&console.warn('Invalid ionic mode: "'+Ot+'", expected: "ios" or "md"')}dt=dt.parentElement}return Be})}},936:(Xt,tt,P)=>{"use strict";P.r(tt),P.d(tt,{iosTransitionAnimation:()=>ue,shadow:()=>se});var a=P(8015),G=P(7249);P(2361);const we=Q=>document.querySelector(`${Q}.ion-cloned-element`),se=Q=>Q.shadowRoot||Q,Te=Q=>{const Pe="ION-TABS"===Q.tagName?Q:Q.querySelector("ion-tabs"),rt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Pe){const fe=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=fe?fe.querySelector(rt):null}return Q.querySelector(rt)},Ce=(Q,Pe)=>{const rt="ION-TABS"===Q.tagName?Q:Q.querySelector("ion-tabs");let fe=[];if(null!=rt){const ve=rt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ve&&(fe=ve.querySelectorAll("ion-buttons"))}else fe=Q.querySelectorAll("ion-buttons");for(const ve of fe){const ge=ve.closest("ion-header"),Je=ge&&!ge.classList.contains("header-collapse-condense-inactive"),te=ve.querySelector("ion-back-button"),Ye=ve.classList.contains("buttons-collapse"),be="start"===ve.slot||""===ve.slot;if(null!==te&&be&&(Ye&&Je&&Pe||!Ye))return te}return null},oe=(Q,Pe,rt,fe,ve,ge)=>{const Je=Pe?`calc(100% - ${ge.right+4}px)`:ge.left-4+"px",te=Pe?"7px":"-7px",Ye=Pe?"-4px":"4px",be=Pe?"-4px":"4px",je=Pe?"right":"left",ot=Pe?"left":"right",ce=rt?[{offset:0,opacity:1,transform:`translate3d(${Ye}, ${ge.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${te}, ${ve.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${te}, ${ve.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ye}, ${ge.top-46}px, 0) scale(1)`}],Ae=rt?[{offset:0,opacity:1,transform:`translate3d(${be}, ${ge.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${be}, ${ge.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${be}, ${ge.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${be}, ${ge.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${be}, ${ge.top-46}px, 0) scale(1)`}],ze=(0,a.c)(),Be=(0,a.c)(),Rt=we("ion-back-button"),Gt=se(Rt).querySelector(".button-text"),at=se(Rt).querySelector("ion-icon");Rt.text=fe.text,Rt.mode=fe.mode,Rt.icon=fe.icon,Rt.color=fe.color,Rt.disabled=fe.disabled,Rt.style.setProperty("display","block"),Rt.style.setProperty("position","fixed"),Be.addElement(at),ze.addElement(Gt),ze.beforeStyles({"transform-origin":`${je} center`}).beforeAddWrite(()=>{fe.style.setProperty("display","none"),Rt.style.setProperty(je,Je)}).afterAddWrite(()=>{fe.style.setProperty("display",""),Rt.style.setProperty("display","none"),Rt.style.removeProperty(je)}).keyframes(ce),Be.beforeStyles({"transform-origin":`${ot} center`}).keyframes(Ae),Q.addAnimation([ze,Be])},re=(Q,Pe,rt,fe,ve,ge)=>{const Je=Pe?`calc(100% - ${ve.right}px)`:`${ve.left}px`,te=Pe?"-18px":"18px",Ye=Pe?"right":"left",ot=rt?[{offset:0,opacity:0,transform:`translate3d(${te}, ${ge.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ve.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ve.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${te}, ${ge.top-4}px, 0) scale(0.5)`}],Le=we("ion-title"),Ct=(0,a.c)();Le.innerText=fe.innerText,Le.size=fe.size,Le.color=fe.color,Ct.addElement(Le),Ct.beforeStyles({"transform-origin":`${Ye} center`,height:"46px",display:"",position:"relative",[Ye]:Je}).beforeAddWrite(()=>{fe.style.setProperty("display","none")}).afterAddWrite(()=>{fe.style.setProperty("display",""),Le.style.setProperty("display","none")}).keyframes(ot),Q.addAnimation(Ct)},ue=(Q,Pe)=>{try{const rt="cubic-bezier(0.32,0.72,0,1)",fe="opacity",ve="transform",ge="0%",te="rtl"===Q.ownerDocument.dir,Ye=te?"-99.5%":"99.5%",be=te?"33%":"-33%",je=Pe.enteringEl,ot=Pe.leavingEl,Le="back"===Pe.direction,Ct=je.querySelector(":scope > ion-content"),ce=je.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),le=je.querySelectorAll(":scope > ion-header > ion-toolbar"),he=(0,a.c)(),Ae=(0,a.c)();if(he.addElement(je).duration(Pe.duration||540).easing(Pe.easing||rt).fill("both").beforeRemoveClass("ion-page-invisible"),ot&&Q){const Gt=(0,a.c)();Gt.addElement(Q),he.addAnimation(Gt)}if(Ct||0!==le.length||0!==ce.length?(Ae.addElement(Ct),Ae.addElement(ce)):Ae.addElement(je.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),he.addAnimation(Ae),Le?Ae.beforeClearStyles([fe]).fromTo("transform",`translateX(${be})`,`translateX(${ge})`).fromTo(fe,.8,1):Ae.beforeClearStyles([fe]).fromTo("transform",`translateX(${Ye})`,`translateX(${ge})`),Ct){const Gt=se(Ct).querySelector(".transition-effect");if(Gt){const at=Gt.querySelector(".transition-cover"),Qe=Gt.querySelector(".transition-shadow"),Xe=(0,a.c)(),qe=(0,a.c)(),Ze=(0,a.c)();Xe.addElement(Gt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),qe.addElement(at).beforeClearStyles([fe]).fromTo(fe,0,.1),Ze.addElement(Qe).beforeClearStyles([fe]).fromTo(fe,.03,.7),Xe.addAnimation([qe,Ze]),Ae.addAnimation([Xe])}}const ze=je.querySelector("ion-header.header-collapse-condense"),{forward:Be,backward:Rt}=((Q,Pe,rt,fe,ve)=>{const ge=Ce(fe,rt),Je=Te(ve),te=Te(fe),Ye=Ce(ve,rt),be=null!==ge&&null!==Je&&!rt,je=null!==te&&null!==Ye&&rt;if(be){const ot=Je.getBoundingClientRect(),Le=ge.getBoundingClientRect();re(Q,Pe,rt,Je,ot,Le),oe(Q,Pe,rt,ge,ot,Le)}else if(je){const ot=te.getBoundingClientRect(),Le=Ye.getBoundingClientRect();re(Q,Pe,rt,te,ot,Le),oe(Q,Pe,rt,Ye,ot,Le)}return{forward:be,backward:je}})(he,te,Le,je,ot);if(le.forEach(Gt=>{const at=(0,a.c)();at.addElement(Gt),he.addAnimation(at);const Qe=(0,a.c)();Qe.addElement(Gt.querySelector("ion-title"));const Xe=(0,a.c)(),qe=Array.from(Gt.querySelectorAll("ion-buttons,[menuToggle]")),Ze=Gt.closest("ion-header"),et=null==Ze?void 0:Ze.classList.contains("header-collapse-condense-inactive");let Ke;Ke=qe.filter(Le?on=>{const zt=on.classList.contains("buttons-collapse");return zt&&!et||!zt}:on=>!on.classList.contains("buttons-collapse")),Xe.addElement(Ke);const ut=(0,a.c)();ut.addElement(Gt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const dt=(0,a.c)();dt.addElement(se(Gt).querySelector(".toolbar-background"));const Ot=(0,a.c)(),hn=Gt.querySelector("ion-back-button");if(hn&&Ot.addElement(hn),at.addAnimation([Qe,Xe,ut,dt,Ot]),Xe.fromTo(fe,.01,1),ut.fromTo(fe,.01,1),Le)et||Qe.fromTo("transform",`translateX(${be})`,`translateX(${ge})`).fromTo(fe,.01,1),ut.fromTo("transform",`translateX(${be})`,`translateX(${ge})`),Ot.fromTo(fe,.01,1);else if(ze||Qe.fromTo("transform",`translateX(${Ye})`,`translateX(${ge})`).fromTo(fe,.01,1),ut.fromTo("transform",`translateX(${Ye})`,`translateX(${ge})`),dt.beforeClearStyles([fe,"transform"]),(null==Ze?void 0:Ze.translucent)?dt.fromTo("transform",te?"translateX(-100%)":"translateX(100%)","translateX(0px)"):dt.fromTo(fe,.01,"var(--opacity)"),Be||Ot.fromTo(fe,.01,1),hn&&!Be){const zt=(0,a.c)();zt.addElement(se(hn).querySelector(".button-text")).fromTo("transform",te?"translateX(-100px)":"translateX(100px)","translateX(0px)"),at.addAnimation(zt)}}),ot){const Gt=(0,a.c)(),at=ot.querySelector(":scope > ion-content"),Qe=ot.querySelectorAll(":scope > ion-header > ion-toolbar"),Xe=ot.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(at||0!==Qe.length||0!==Xe.length?(Gt.addElement(at),Gt.addElement(Xe)):Gt.addElement(ot.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),he.addAnimation(Gt),Le){Gt.beforeClearStyles([fe]).fromTo("transform",`translateX(${ge})`,te?"translateX(-100%)":"translateX(100%)");const qe=(0,G.g)(ot);he.afterAddWrite(()=>{"normal"===he.getDirection()&&qe.style.setProperty("display","none")})}else Gt.fromTo("transform",`translateX(${ge})`,`translateX(${be})`).fromTo(fe,1,.8);if(at){const qe=se(at).querySelector(".transition-effect");if(qe){const Ze=qe.querySelector(".transition-cover"),et=qe.querySelector(".transition-shadow"),Ke=(0,a.c)(),ut=(0,a.c)(),dt=(0,a.c)();Ke.addElement(qe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ut.addElement(Ze).beforeClearStyles([fe]).fromTo(fe,.1,0),dt.addElement(et).beforeClearStyles([fe]).fromTo(fe,.7,.03),Ke.addAnimation([ut,dt]),Gt.addAnimation([Ke])}}Qe.forEach(qe=>{const Ze=(0,a.c)();Ze.addElement(qe);const et=(0,a.c)();et.addElement(qe.querySelector("ion-title"));const Ke=(0,a.c)(),ut=qe.querySelectorAll("ion-buttons,[menuToggle]"),dt=qe.closest("ion-header"),Ot=null==dt?void 0:dt.classList.contains("header-collapse-condense-inactive"),hn=Array.from(ut).filter(Nn=>{const Gn=Nn.classList.contains("buttons-collapse");return Gn&&!Ot||!Gn});Ke.addElement(hn);const on=(0,a.c)(),zt=qe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");zt.length>0&&on.addElement(zt);const gn=(0,a.c)();gn.addElement(se(qe).querySelector(".toolbar-background"));const It=(0,a.c)(),Pn=qe.querySelector("ion-back-button");if(Pn&&It.addElement(Pn),Ze.addAnimation([et,Ke,on,It,gn]),he.addAnimation(Ze),It.fromTo(fe,.99,0),Ke.fromTo(fe,.99,0),on.fromTo(fe,.99,0),Le){if(Ot||et.fromTo("transform",`translateX(${ge})`,te?"translateX(-100%)":"translateX(100%)").fromTo(fe,.99,0),on.fromTo("transform",`translateX(${ge})`,te?"translateX(-100%)":"translateX(100%)"),gn.beforeClearStyles([fe,"transform"]),(null==dt?void 0:dt.translucent)?gn.fromTo("transform","translateX(0px)",te?"translateX(-100%)":"translateX(100%)"):gn.fromTo(fe,"var(--opacity)",0),Pn&&!Rt){const Gn=(0,a.c)();Gn.addElement(se(Pn).querySelector(".button-text")).fromTo("transform",`translateX(${ge})`,`translateX(${(te?-124:124)+"px"})`),Ze.addAnimation(Gn)}}else Ot||et.fromTo("transform",`translateX(${ge})`,`translateX(${be})`).fromTo(fe,.99,0).afterClearStyles([ve,fe]),on.fromTo("transform",`translateX(${ge})`,`translateX(${be})`).afterClearStyles([ve,fe]),It.afterClearStyles([fe]),et.afterClearStyles([fe]),Ke.afterClearStyles([fe])})}return he}catch(rt){throw rt}}},8447:(Xt,tt,P)=>{"use strict";P.r(tt),P.d(tt,{mdTransitionAnimation:()=>xe});var a=P(8015),G=P(7249);P(2361);const xe=(we,se)=>{const ye="back"===se.direction,re=se.leavingEl,ue=(0,G.g)(se.enteringEl),Q=ue.querySelector("ion-toolbar"),Pe=(0,a.c)();if(Pe.addElement(ue).fill("both").beforeRemoveClass("ion-page-invisible"),ye?Pe.duration(se.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Pe.duration(se.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Q){const rt=(0,a.c)();rt.addElement(Q),Pe.addAnimation(rt)}if(re&&ye){Pe.duration(se.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const rt=(0,a.c)();rt.addElement((0,G.g)(re)).onFinish(fe=>{1===fe&&rt.elements.length>0&&rt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Pe.addAnimation(rt)}return Pe}},1450:(Xt,tt,P)=>{"use strict";P.d(tt,{B:()=>qe,a:()=>Ce,b:()=>ye,c:()=>Q,d:()=>le,e:()=>rt,f:()=>Ae,g:()=>Rt,h:()=>se,i:()=>at,j:()=>Je,k:()=>Ct,m:()=>re,s:()=>Xe});var a=P(5861),G=P(6254),$=P(7593),xe=P(1643);let we=0;const se=new WeakMap,Te=Ze=>({create:et=>fe(Ze,et),dismiss:(et,Ke,ut)=>ot(document,et,Ke,Ze,ut),getTop:()=>(0,a.Z)(function*(){return Ct(document,Ze)})()}),Ce=Te("ion-alert"),ye=Te("ion-action-sheet"),re=Te("ion-modal"),Q=Te("ion-popover"),rt=Ze=>{"undefined"!=typeof document&&je(document);const et=we++;Ze.overlayIndex=et,Ze.hasAttribute("id")||(Ze.id=`ion-overlay-${et}`)},fe=(Ze,et)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(Ze).then(()=>{const Ke=document.createElement(Ze);return Ke.classList.add("overlay-hidden"),Object.assign(Ke,Object.assign(Object.assign({},et),{hasController:!0})),ze(document).appendChild(Ke),new Promise(ut=>(0,xe.c)(Ke,ut))}):Promise.resolve(),ve='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',ge="input:not([type=hidden]), textarea, button, select",Je=(Ze,et)=>{let Ke=Ze.querySelector(ve);const ut=null==Ke?void 0:Ke.shadowRoot;ut&&(Ke=ut.querySelector(ge)||Ke),Ke?(0,xe.f)(Ke):et.focus()},Ye=(Ze,et)=>{const Ke=Array.from(Ze.querySelectorAll(ve));let ut=Ke.length>0?Ke[Ke.length-1]:null;const dt=null==ut?void 0:ut.shadowRoot;dt&&(ut=dt.querySelector(ge)||ut),ut?ut.focus():et.focus()},je=Ze=>{0===we&&(we=1,Ze.addEventListener("focus",et=>{((Ze,et)=>{const Ke=Ct(et,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ut=Ze.target;Ke&&ut&&!Ke.classList.contains("ion-disable-focus-trap")&&(Ke.shadowRoot?(()=>{if(Ke.contains(ut))Ke.lastFocus=ut;else{const hn=Ke.lastFocus;Je(Ke,Ke),hn===et.activeElement&&Ye(Ke,Ke),Ke.lastFocus=et.activeElement}})():(()=>{if(Ke===ut)Ke.lastFocus=void 0;else{const hn=(0,xe.g)(Ke);if(!hn.contains(ut))return;const on=hn.querySelector(".ion-overlay-wrapper");if(!on)return;if(on.contains(ut))Ke.lastFocus=ut;else{const zt=Ke.lastFocus;Je(on,Ke),zt===et.activeElement&&Ye(on,Ke),Ke.lastFocus=et.activeElement}}})())})(et,Ze)},!0),Ze.addEventListener("ionBackButton",et=>{const Ke=Ct(Ze);(null==Ke?void 0:Ke.backdropDismiss)&&et.detail.register($.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ke.dismiss(void 0,qe))}),Ze.addEventListener("keyup",et=>{if("Escape"===et.key){const Ke=Ct(Ze);(null==Ke?void 0:Ke.backdropDismiss)&&Ke.dismiss(void 0,qe)}}))},ot=(Ze,et,Ke,ut,dt)=>{const Ot=Ct(Ze,ut,dt);return Ot?Ot.dismiss(et,Ke):Promise.reject("overlay does not exist")},Ct=(Ze,et,Ke)=>{const ut=((Ze,et)=>(void 0===et&&(et="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ze.querySelectorAll(et)).filter(Ke=>Ke.overlayIndex>0)))(Ze,et).filter(dt=>!(Ze=>Ze.classList.contains("overlay-hidden"))(dt));return void 0===Ke?ut[ut.length-1]:ut.find(dt=>dt.id===Ke)},ce=(Ze=!1)=>{const Ke=ze(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Ke||(Ze?Ke.setAttribute("aria-hidden","true"):Ke.removeAttribute("aria-hidden"))},le=function(){var Ze=(0,a.Z)(function*(et,Ke,ut,dt,Ot){var hn,on;if(et.presented)return;ce(!0),et.presented=!0,et.willPresent.emit(),null===(hn=et.willPresentShorthand)||void 0===hn||hn.emit();const zt=(0,G.b)(et),gn=et.enterAnimation?et.enterAnimation:G.c.get(Ke,"ios"===zt?ut:dt);(yield Be(et,gn,et.el,Ot))&&(et.didPresent.emit(),null===(on=et.didPresentShorthand)||void 0===on||on.emit()),"ION-TOAST"!==et.el.tagName&&he(et.el),et.keyboardClose&&et.el.focus()});return function(Ke,ut,dt,Ot,hn){return Ze.apply(this,arguments)}}(),he=function(){var Ze=(0,a.Z)(function*(et){let Ke=document.activeElement;if(!Ke)return;const ut=null==Ke?void 0:Ke.shadowRoot;ut&&(Ke=ut.querySelector(ge)||Ke),yield et.onDidDismiss(),Ke.focus()});return function(Ke){return Ze.apply(this,arguments)}}(),Ae=function(){var Ze=(0,a.Z)(function*(et,Ke,ut,dt,Ot,hn,on){var zt,gn;if(!et.presented)return!1;ce(!1),et.presented=!1;try{et.el.style.setProperty("pointer-events","none"),et.willDismiss.emit({data:Ke,role:ut}),null===(zt=et.willDismissShorthand)||void 0===zt||zt.emit({data:Ke,role:ut});const It=(0,G.b)(et),Pn=et.leaveAnimation?et.leaveAnimation:G.c.get(dt,"ios"===It?Ot:hn);"gesture"!==ut&&(yield Be(et,Pn,et.el,on)),et.didDismiss.emit({data:Ke,role:ut}),null===(gn=et.didDismissShorthand)||void 0===gn||gn.emit({data:Ke,role:ut}),se.delete(et),et.el.classList.add("overlay-hidden"),et.el.style.removeProperty("pointer-events")}catch(It){console.error(It)}return et.el.remove(),!0});return function(Ke,ut,dt,Ot,hn,on,zt){return Ze.apply(this,arguments)}}(),ze=Ze=>Ze.querySelector("ion-app")||Ze.body,Be=function(){var Ze=(0,a.Z)(function*(et,Ke,ut,dt){ut.classList.remove("overlay-hidden");const hn=Ke(et.el,dt);(!et.animated||!G.c.getBoolean("animated",!0))&&hn.duration(0),et.keyboardClose&&hn.beforeAddWrite(()=>{const zt=ut.ownerDocument.activeElement;(null==zt?void 0:zt.matches("input,ion-input, ion-textarea"))&&zt.blur()});const on=se.get(et)||[];return se.set(et,[...on,hn]),yield hn.play(),!0});return function(Ke,ut,dt,Ot){return Ze.apply(this,arguments)}}(),Rt=(Ze,et)=>{let Ke;const ut=new Promise(dt=>Ke=dt);return Gt(Ze,et,dt=>{Ke(dt.detail)}),ut},Gt=(Ze,et,Ke)=>{const ut=dt=>{(0,xe.b)(Ze,et,ut),Ke(dt)};(0,xe.a)(Ze,et,ut)},at=Ze=>"cancel"===Ze||Ze===qe,Qe=Ze=>Ze(),Xe=(Ze,et)=>{if("function"==typeof Ze)return G.c.get("_zoneGate",Qe)(()=>{try{return Ze(et)}catch(ut){throw ut}})},qe="backdrop"},3250:(Xt,tt,P)=>{"use strict";var a=P(9808),G=P(6435);class $ extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xe extends ${static makeCurrent(){(0,a.HT)(new xe)}onAndCancel(Oe,Se,lt){return Oe.addEventListener(Se,lt,!1),()=>{Oe.removeEventListener(Se,lt,!1)}}dispatchEvent(Oe,Se){Oe.dispatchEvent(Se)}remove(Oe){Oe.parentNode&&Oe.parentNode.removeChild(Oe)}createElement(Oe,Se){return(Se=Se||this.getDefaultDocument()).createElement(Oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Oe){return Oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Oe){return Oe instanceof DocumentFragment}getGlobalEventTarget(Oe,Se){return"window"===Se?window:"document"===Se?Oe:"body"===Se?Oe.body:null}getBaseHref(Oe){const Se=function se(){return we=we||document.querySelector("base"),we?we.getAttribute("href"):null}();return null==Se?null:function Ce(Ue){Te=Te||document.createElement("a"),Te.setAttribute("href",Ue);const Oe=Te.pathname;return"/"===Oe.charAt(0)?Oe:`/${Oe}`}(Se)}resetBaseElement(){we=null}getUserAgent(){return window.navigator.userAgent}getCookie(Oe){return(0,a.Mx)(document.cookie,Oe)}}let Te,we=null;const ye=new G.OlP("TRANSITION_ID"),re=[{provide:G.ip1,useFactory:function oe(Ue,Oe,Se){return()=>{Se.get(G.CZH).donePromise.then(()=>{const lt=(0,a.q)(),ct=Oe.querySelectorAll(`style[ng-transition="${Ue}"]`);for(let bn=0;bn<ct.length;bn++)lt.remove(ct[bn])})}},deps:[ye,a.K0,G.zs3],multi:!0}];class ue{static init(){(0,G.VLi)(new ue)}addToWindow(Oe){G.dqk.getAngularTestability=(lt,ct=!0)=>{const bn=Oe.findTestabilityInTree(lt,ct);if(null==bn)throw new Error("Could not find testability for element.");return bn},G.dqk.getAllAngularTestabilities=()=>Oe.getAllTestabilities(),G.dqk.getAllAngularRootElements=()=>Oe.getAllRootElements(),G.dqk.frameworkStabilizers||(G.dqk.frameworkStabilizers=[]),G.dqk.frameworkStabilizers.push(lt=>{const ct=G.dqk.getAllAngularTestabilities();let bn=ct.length,Ln=!1;const R=function(B){Ln=Ln||B,bn--,0==bn&&lt(Ln)};ct.forEach(function(B){B.whenStable(R)})})}findTestabilityInTree(Oe,Se,lt){if(null==Se)return null;const ct=Oe.getTestability(Se);return null!=ct?ct:lt?(0,a.q)().isShadowRoot(Se)?this.findTestabilityInTree(Oe,Se.host,!0):this.findTestabilityInTree(Oe,Se.parentElement,!0):null}}let Q=(()=>{class Ue{build(){return new XMLHttpRequest}}return Ue.\u0275fac=function(Se){return new(Se||Ue)},Ue.\u0275prov=G.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const Pe=new G.OlP("EventManagerPlugins");let rt=(()=>{class Ue{constructor(Se,lt){this._zone=lt,this._eventNameToPlugin=new Map,Se.forEach(ct=>ct.manager=this),this._plugins=Se.slice().reverse()}addEventListener(Se,lt,ct){return this._findPluginFor(lt).addEventListener(Se,lt,ct)}addGlobalEventListener(Se,lt,ct){return this._findPluginFor(lt).addGlobalEventListener(Se,lt,ct)}getZone(){return this._zone}_findPluginFor(Se){const lt=this._eventNameToPlugin.get(Se);if(lt)return lt;const ct=this._plugins;for(let bn=0;bn<ct.length;bn++){const Ln=ct[bn];if(Ln.supports(Se))return this._eventNameToPlugin.set(Se,Ln),Ln}throw new Error(`No event manager plugin found for event ${Se}`)}}return Ue.\u0275fac=function(Se){return new(Se||Ue)(G.LFG(Pe),G.LFG(G.R0b))},Ue.\u0275prov=G.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();class fe{constructor(Oe){this._doc=Oe}addGlobalEventListener(Oe,Se,lt){const ct=(0,a.q)().getGlobalEventTarget(this._doc,Oe);if(!ct)throw new Error(`Unsupported event target ${ct} for event ${Se}`);return this.addEventListener(ct,Se,lt)}}let ve=(()=>{class Ue{constructor(){this._stylesSet=new Set}addStyles(Se){const lt=new Set;Se.forEach(ct=>{this._stylesSet.has(ct)||(this._stylesSet.add(ct),lt.add(ct))}),this.onStylesAdded(lt)}onStylesAdded(Se){}getAllStyles(){return Array.from(this._stylesSet)}}return Ue.\u0275fac=function(Se){return new(Se||Ue)},Ue.\u0275prov=G.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),ge=(()=>{class Ue extends ve{constructor(Se){super(),this._doc=Se,this._hostNodes=new Map,this._hostNodes.set(Se.head,[])}_addStylesToHost(Se,lt,ct){Se.forEach(bn=>{const Ln=this._doc.createElement("style");Ln.textContent=bn,ct.push(lt.appendChild(Ln))})}addHost(Se){const lt=[];this._addStylesToHost(this._stylesSet,Se,lt),this._hostNodes.set(Se,lt)}removeHost(Se){const lt=this._hostNodes.get(Se);lt&&lt.forEach(Je),this._hostNodes.delete(Se)}onStylesAdded(Se){this._hostNodes.forEach((lt,ct)=>{this._addStylesToHost(Se,ct,lt)})}ngOnDestroy(){this._hostNodes.forEach(Se=>Se.forEach(Je))}}return Ue.\u0275fac=function(Se){return new(Se||Ue)(G.LFG(a.K0))},Ue.\u0275prov=G.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();function Je(Ue){(0,a.q)().remove(Ue)}const te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ye=/%COMP%/g;function le(Ue,Oe,Se){for(let lt=0;lt<Oe.length;lt++){let ct=Oe[lt];Array.isArray(ct)?le(Ue,ct,Se):(ct=ct.replace(Ye,Ue),Se.push(ct))}return Se}function he(Ue){return Oe=>{if("__ngUnwrap__"===Oe)return Ue;!1===Ue(Oe)&&(Oe.preventDefault(),Oe.returnValue=!1)}}let ze=(()=>{class Ue{constructor(Se,lt,ct){this.eventManager=Se,this.sharedStylesHost=lt,this.appId=ct,this.rendererByCompId=new Map,this.defaultRenderer=new Be(Se)}createRenderer(Se,lt){if(!Se||!lt)return this.defaultRenderer;switch(lt.encapsulation){case G.ifc.Emulated:{let ct=this.rendererByCompId.get(lt.id);return ct||(ct=new at(this.eventManager,this.sharedStylesHost,lt,this.appId),this.rendererByCompId.set(lt.id,ct)),ct.applyToHost(Se),ct}case 1:case G.ifc.ShadowDom:return new Qe(this.eventManager,this.sharedStylesHost,Se,lt);default:if(!this.rendererByCompId.has(lt.id)){const ct=le(lt.id,lt.styles,[]);this.sharedStylesHost.addStyles(ct),this.rendererByCompId.set(lt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ue.\u0275fac=function(Se){return new(Se||Ue)(G.LFG(rt),G.LFG(ge),G.LFG(G.AFp))},Ue.\u0275prov=G.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();class Be{constructor(Oe){this.eventManager=Oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Oe,Se){return Se?document.createElementNS(te[Se]||Se,Oe):document.createElement(Oe)}createComment(Oe){return document.createComment(Oe)}createText(Oe){return document.createTextNode(Oe)}appendChild(Oe,Se){Oe.appendChild(Se)}insertBefore(Oe,Se,lt){Oe&&Oe.insertBefore(Se,lt)}removeChild(Oe,Se){Oe&&Oe.removeChild(Se)}selectRootElement(Oe,Se){let lt="string"==typeof Oe?document.querySelector(Oe):Oe;if(!lt)throw new Error(`The selector "${Oe}" did not match any elements`);return Se||(lt.textContent=""),lt}parentNode(Oe){return Oe.parentNode}nextSibling(Oe){return Oe.nextSibling}setAttribute(Oe,Se,lt,ct){if(ct){Se=ct+":"+Se;const bn=te[ct];bn?Oe.setAttributeNS(bn,Se,lt):Oe.setAttribute(Se,lt)}else Oe.setAttribute(Se,lt)}removeAttribute(Oe,Se,lt){if(lt){const ct=te[lt];ct?Oe.removeAttributeNS(ct,Se):Oe.removeAttribute(`${lt}:${Se}`)}else Oe.removeAttribute(Se)}addClass(Oe,Se){Oe.classList.add(Se)}removeClass(Oe,Se){Oe.classList.remove(Se)}setStyle(Oe,Se,lt,ct){ct&(G.JOm.DashCase|G.JOm.Important)?Oe.style.setProperty(Se,lt,ct&G.JOm.Important?"important":""):Oe.style[Se]=lt}removeStyle(Oe,Se,lt){lt&G.JOm.DashCase?Oe.style.removeProperty(Se):Oe.style[Se]=""}setProperty(Oe,Se,lt){Oe[Se]=lt}setValue(Oe,Se){Oe.nodeValue=Se}listen(Oe,Se,lt){return"string"==typeof Oe?this.eventManager.addGlobalEventListener(Oe,Se,he(lt)):this.eventManager.addEventListener(Oe,Se,he(lt))}}class at extends Be{constructor(Oe,Se,lt,ct){super(Oe),this.component=lt;const bn=le(ct+"-"+lt.id,lt.styles,[]);Se.addStyles(bn),this.contentAttr=function Ct(Ue){return"_ngcontent-%COMP%".replace(Ye,Ue)}(ct+"-"+lt.id),this.hostAttr=function ce(Ue){return"_nghost-%COMP%".replace(Ye,Ue)}(ct+"-"+lt.id)}applyToHost(Oe){super.setAttribute(Oe,this.hostAttr,"")}createElement(Oe,Se){const lt=super.createElement(Oe,Se);return super.setAttribute(lt,this.contentAttr,""),lt}}class Qe extends Be{constructor(Oe,Se,lt,ct){super(Oe),this.sharedStylesHost=Se,this.hostEl=lt,this.shadowRoot=lt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const bn=le(ct.id,ct.styles,[]);for(let Ln=0;Ln<bn.length;Ln++){const R=document.createElement("style");R.textContent=bn[Ln],this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(Oe){return Oe===this.hostEl?this.shadowRoot:Oe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Oe,Se){return super.appendChild(this.nodeOrShadowRoot(Oe),Se)}insertBefore(Oe,Se,lt){return super.insertBefore(this.nodeOrShadowRoot(Oe),Se,lt)}removeChild(Oe,Se){return super.removeChild(this.nodeOrShadowRoot(Oe),Se)}parentNode(Oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Oe)))}}let Xe=(()=>{class Ue extends fe{constructor(Se){super(Se)}supports(Se){return!0}addEventListener(Se,lt,ct){return Se.addEventListener(lt,ct,!1),()=>this.removeEventListener(Se,lt,ct)}removeEventListener(Se,lt,ct){return Se.removeEventListener(lt,ct)}}return Ue.\u0275fac=function(Se){return new(Se||Ue)(G.LFG(a.K0))},Ue.\u0275prov=G.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const qe=["alt","control","meta","shift"],et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ke={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ut={alt:Ue=>Ue.altKey,control:Ue=>Ue.ctrlKey,meta:Ue=>Ue.metaKey,shift:Ue=>Ue.shiftKey};let dt=(()=>{class Ue extends fe{constructor(Se){super(Se)}supports(Se){return null!=Ue.parseEventName(Se)}addEventListener(Se,lt,ct){const bn=Ue.parseEventName(lt),Ln=Ue.eventCallback(bn.fullKey,ct,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(Se,bn.domEventName,Ln))}static parseEventName(Se){const lt=Se.toLowerCase().split("."),ct=lt.shift();if(0===lt.length||"keydown"!==ct&&"keyup"!==ct)return null;const bn=Ue._normalizeKey(lt.pop());let Ln="";if(qe.forEach(B=>{const X=lt.indexOf(B);X>-1&&(lt.splice(X,1),Ln+=B+".")}),Ln+=bn,0!=lt.length||0===bn.length)return null;const R={};return R.domEventName=ct,R.fullKey=Ln,R}static getEventFullKey(Se){let lt="",ct=function Ot(Ue){let Oe=Ue.key;if(null==Oe){if(Oe=Ue.keyIdentifier,null==Oe)return"Unidentified";Oe.startsWith("U+")&&(Oe=String.fromCharCode(parseInt(Oe.substring(2),16)),3===Ue.location&&Ke.hasOwnProperty(Oe)&&(Oe=Ke[Oe]))}return et[Oe]||Oe}(Se);return ct=ct.toLowerCase()," "===ct?ct="space":"."===ct&&(ct="dot"),qe.forEach(bn=>{bn!=ct&&ut[bn](Se)&&(lt+=bn+".")}),lt+=ct,lt}static eventCallback(Se,lt,ct){return bn=>{Ue.getEventFullKey(bn)===Se&&ct.runGuarded(()=>lt(bn))}}static _normalizeKey(Se){return"esc"===Se?"escape":Se}}return Ue.\u0275fac=function(Se){return new(Se||Ue)(G.LFG(a.K0))},Ue.\u0275prov=G.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const It=(0,G.eFA)(G._c5,"browser",[{provide:G.Lbi,useValue:a.bD},{provide:G.g9A,useValue:function hn(){xe.makeCurrent(),ue.init()},multi:!0},{provide:a.K0,useFactory:function zt(){return(0,G.RDi)(document),document},deps:[]}]),Pn=[{provide:G.zSh,useValue:"root"},{provide:G.qLn,useFactory:function on(){return new G.qLn},deps:[]},{provide:Pe,useClass:Xe,multi:!0,deps:[a.K0,G.R0b,G.Lbi]},{provide:Pe,useClass:dt,multi:!0,deps:[a.K0]},{provide:ze,useClass:ze,deps:[rt,ge,G.AFp]},{provide:G.FYo,useExisting:ze},{provide:ve,useExisting:ge},{provide:ge,useClass:ge,deps:[a.K0]},{provide:G.dDg,useClass:G.dDg,deps:[G.R0b]},{provide:rt,useClass:rt,deps:[Pe,G.R0b]},{provide:a.JF,useClass:Q,deps:[]}];let Nn=(()=>{class Ue{constructor(Se){if(Se)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Se){return{ngModule:Ue,providers:[{provide:G.AFp,useValue:Se.appId},{provide:ye,useExisting:G.AFp},re]}}}return Ue.\u0275fac=function(Se){return new(Se||Ue)(G.LFG(Ue,12))},Ue.\u0275mod=G.oAB({type:Ue}),Ue.\u0275inj=G.cJS({providers:Pn,imports:[a.ez,G.hGG]}),Ue})();"undefined"!=typeof window&&window;var De=P(3151),it=P(661);let Nt=(()=>{class Ue{constructor(){}}return Ue.\u0275fac=function(Se){return new(Se||Ue)},Ue.\u0275cmp=G.Xpm({type:Ue,selectors:[["app-root"]],decls:29,vars:0,consts:[["menuId","main-menu","content-id","main","autoHide","true",1,"menu-container"],["id","menu-header"],[1,"menu-container"],[1,"menu-list"],["routerLink","/home",1,"menu-items","current"],["name","home","slot","start"],["routerLink","./report",1,"menu-items"],["name","alert-circle-outline","slot","start"],["routerLink","/about",1,"menu-items"],["name","information-circle-outline","slot","start"],["routerLink","/login",1,"menu-items"],["name","notifications","slot","start"],["id","main"]],template:function(Se,lt){1&Se&&(G.TgZ(0,"ion-app")(1,"ion-menu",0)(2,"ion-header")(3,"ion-toolbar",1)(4,"ion-title"),G._uU(5,"Men\xfa"),G.qZA()()(),G.TgZ(6,"ion-content",2)(7,"ion-list",3)(8,"ion-menu-toggle")(9,"ion-item",4),G._UZ(10,"ion-icon",5),G.TgZ(11,"ion-label"),G._uU(12,"Inicio"),G.qZA()()(),G.TgZ(13,"ion-menu-toggle")(14,"ion-item",6),G._UZ(15,"ion-icon",7),G.TgZ(16,"ion-label"),G._uU(17,"Denunciar"),G.qZA()()(),G.TgZ(18,"ion-menu-toggle")(19,"ion-item",8),G._UZ(20,"ion-icon",9),G.TgZ(21,"ion-label"),G._uU(22,"Quienes somos"),G.qZA()()(),G.TgZ(23,"ion-menu-toggle")(24,"ion-item",10),G._UZ(25,"ion-icon",11),G.TgZ(26,"ion-label"),G._uU(27,"Iniciar sesi\xf3n"),G.qZA()()()()()(),G._UZ(28,"ion-router-outlet",12),G.qZA())},directives:[it.dr,it.z0,it.Gu,it.sr,it.wd,it.W2,it.q_,it.zc,it.Ie,it.YI,De.rH,it.gu,it.Q$,it.jP],styles:["#menu-header[_ngcontent-%COMP%]{--background:#fff;color:#331832}.menu-container[_ngcontent-%COMP%]{--background: rgba(51,24,50, .5)}.menu-list[_ngcontent-%COMP%]{background:rgba(51,24,50,.5)}.menu-items[_ngcontent-%COMP%]{--background: none;color:#fff}ion-icon[_ngcontent-%COMP%]{color:#fff}ion-icon[_ngcontent-%COMP%]:hover{color:#39b54a}"]}),Ue})();var cn=P(4843),Tn=P(4850),an=P(2986),On=P(3999);P(5867);const $n=(0,Tn.U)(Ue=>!!Ue);let Sn=(()=>{class Ue{constructor(Se,lt){this.router=Se,this.auth=lt,this.canActivate=(ct,bn)=>{const Ln=ct.data.authGuardPipe||(()=>$n);return(0,On.EA)(this.auth).pipe((0,an.q)(1),Ln(ct,bn),(0,Tn.U)(R=>"boolean"==typeof R?R:Array.isArray(R)?this.router.createUrlTree(R):this.router.parseUrl(R)))}}}return Ue.\u0275fac=function(Se){return new(Se||Ue)(G.LFG(De.F0),G.LFG(On.gx))},Ue.\u0275prov=G.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"any"}),Ue})();const ar=[{path:"home",loadChildren:()=>Promise.all([P.e(9485),P.e(4851)]).then(P.bind(P,4851)).then(Ue=>Ue.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"report",loadChildren:()=>Promise.all([P.e(5226),P.e(2716)]).then(P.bind(P,2716)).then(Ue=>Ue.ReportPageModule)},{path:"about",loadChildren:()=>Promise.all([P.e(9485),P.e(8959)]).then(P.bind(P,8959)).then(Ue=>Ue.AboutPageModule)},{path:"login",loadChildren:()=>Promise.all([P.e(5226),P.e(8592),P.e(8802)]).then(P.bind(P,8802)).then(Ue=>Ue.LoginPageModule)},Object.assign({path:"panel-admin",loadChildren:()=>Promise.all([P.e(5226),P.e(8592),P.e(19)]).then(P.bind(P,19)).then(Ue=>Ue.PanelAdminPageModule)},(Ue=()=>{return Ue=["/home"],(0,cn.z)($n,(0,Tn.U)(Oe=>Oe||Ue));var Ue},{canActivate:[Sn],data:{authGuardPipe:Ue}})),{path:"violence-type/institucional",loadChildren:()=>P.e(6740).then(P.bind(P,6740)).then(Ue=>Ue.InstitucionalPageModule)},{path:"violence-type/sexual",loadChildren:()=>P.e(9435).then(P.bind(P,9435)).then(Ue=>Ue.SexualPageModule)},{path:"violence-type/laboral",loadChildren:()=>P.e(6657).then(P.bind(P,6657)).then(Ue=>Ue.LaboralPageModule)},{path:"violence-type/familiar",loadChildren:()=>P.e(5131).then(P.bind(P,5131)).then(Ue=>Ue.FamiliarPageModule)},{path:"violence-type/feminicidio",loadChildren:()=>P.e(2202).then(P.bind(P,2202)).then(Ue=>Ue.FeminicidioPageModule)}];var Ue;let jt=(()=>{class Ue{}return Ue.\u0275fac=function(Se){return new(Se||Ue)},Ue.\u0275mod=G.oAB({type:Ue}),Ue.\u0275inj=G.cJS({imports:[[De.Bz.forRoot(ar,{preloadingStrategy:De.wm})],De.Bz]}),Ue})();var En=P(3692);const Qn_firebase={apiKey:"AIzaSyBNidqsgvOJouy0_eHCvnsVbxuWUoBI3x4",authDomain:"progresomex-gps.firebaseapp.com",projectId:"progresomex-gps",storageBucket:"progresomex-gps.appspot.com",messagingSenderId:"19383712365",appId:"1:19383712365:web:229928bb6f56d292dfdd64",measurementId:"G-LF08RKM7L2"};var Yn=P(2011),Mr=P(2796);let vr=(()=>{class Ue{}return Ue.\u0275fac=function(Se){return new(Se||Ue)},Ue.\u0275mod=G.oAB({type:Ue,bootstrap:[Nt]}),Ue.\u0275inj=G.cJS({providers:[{provide:De.wN,useClass:it.r4},Mr.ST],imports:[[Nn,it.Pc.forRoot(),jt,(0,En.hX)(()=>(0,En.ZF)(Qn_firebase)),(0,On.AR)(()=>(0,On.v0)()),Yn.hO.initializeApp(Qn_firebase),Mr.yb,(0,En.hX)(()=>(0,En.ZF)(Qn_firebase)),(0,On.AR)(()=>(0,On.v0)())]]}),Ue})();(0,G.G48)(),It().bootstrapModule(vr).catch(Ue=>console.log(Ue))},5867:(Xt,tt,P)=>{"use strict";P.d(tt,{Mq:()=>a.getApp,C6:()=>a.getApps,ZF:()=>a.initializeApp,KN:()=>a.registerVersion});var a=P(9681);(0,a.registerVersion)("firebase","9.7.0","app")},127:(Xt,tt,P)=>{"use strict";P.d(tt,{Z:()=>a.Z});var a=P(3942);a.Z.registerVersion("firebase","9.7.0","app-compat")},5881:(Xt,tt,P)=>{"use strict";P.r(tt);var a=P(5861),G=P(3942),$=P(573),xe=P(2090),Te=(P(9681),P(1877),P(4859));function Ce(){return window}function re(){return(re=(0,a.Z)(function*(ae,me,De){var it;const{BuildInfo:Nt}=Ce();(0,$.ap)(me.sessionId,"AuthEvent did not contain a session ID");const cn=yield ge(me.sessionId),Tn={};return(0,$.aq)()?Tn.ibi=Nt.packageName:(0,$.ar)()?Tn.apn=Nt.packageName:(0,$.as)(ae,"operation-not-supported-in-this-environment"),Nt.displayName&&(Tn.appDisplayName=Nt.displayName),Tn.sessionId=cn,(0,$.at)(ae,De,me.type,void 0,null!==(it=me.eventId)&&void 0!==it?it:void 0,Tn)})).apply(this,arguments)}function Q(){return(Q=(0,a.Z)(function*(ae){const{BuildInfo:me}=Ce(),De={};(0,$.aq)()?De.iosBundleId=me.packageName:(0,$.ar)()?De.androidPackageName=me.packageName:(0,$.as)(ae,"operation-not-supported-in-this-environment"),yield(0,$.au)(ae,De)})).apply(this,arguments)}function fe(){return(fe=(0,a.Z)(function*(ae,me,De){const{cordova:it}=Ce();let Nt=()=>{};try{yield new Promise((cn,Tn)=>{let an=null;function On(){var Sn;cn();const In=null===(Sn=it.plugins.browsertab)||void 0===Sn?void 0:Sn.close;"function"==typeof In&&In(),"function"==typeof(null==De?void 0:De.close)&&De.close()}function gr(){an||(an=window.setTimeout(()=>{Tn((0,$.av)(ae,"redirect-cancelled-by-user"))},2e3))}function $n(){"visible"===(null==document?void 0:document.visibilityState)&&gr()}me.addPassiveListener(On),document.addEventListener("resume",gr,!1),(0,$.ar)()&&document.addEventListener("visibilitychange",$n,!1),Nt=()=>{me.removePassiveListener(On),document.removeEventListener("resume",gr,!1),document.removeEventListener("visibilitychange",$n,!1),an&&window.clearTimeout(an)}})}finally{Nt()}})).apply(this,arguments)}function ge(ae){return Je.apply(this,arguments)}function Je(){return(Je=(0,a.Z)(function*(ae){const me=te(ae),De=yield crypto.subtle.digest("SHA-256",me);return Array.from(new Uint8Array(De)).map(Nt=>Nt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function te(ae){if((0,$.ap)(/[0-9a-zA-Z]+/.test(ae),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ae);const me=new ArrayBuffer(ae.length),De=new Uint8Array(me);for(let it=0;it<ae.length;it++)De[it]=ae.charCodeAt(it);return De}class be extends $.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(me=>{this.resolveInialized=me})}addPassiveListener(me){this.passiveListeners.add(me)}removePassiveListener(me){this.passiveListeners.delete(me)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(me){return this.resolveInialized(),this.passiveListeners.forEach(De=>De(me)),super.onEvent(me)}initialized(){var me=this;return(0,a.Z)(function*(){yield me.initPromise})()}}function Le(ae){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,a.Z)(function*(ae){const me=yield he()._get(Ae(ae));return me&&(yield he()._remove(Ae(ae))),me})).apply(this,arguments)}function le(){const ae=[],me="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let De=0;De<20;De++){const it=Math.floor(Math.random()*me.length);ae.push(me.charAt(it))}return ae.join("")}function he(){return(0,$.ax)($.b)}function Ae(ae){return(0,$.ay)("authEvent",ae.config.apiKey,ae.name)}function Rt(ae){if(!(null==ae?void 0:ae.includes("?")))return{};const[me,...De]=ae.split("?");return(0,xe.zd)(De.join("?"))}function Xe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,$.av)("no-auth-event")}}function ut(){var ae;return(null===(ae=null==self?void 0:self.location)||void 0===ae?void 0:ae.protocol)||null}function Ot(ae=(0,xe.z$)()){return!("file:"!==ut()&&"ionic:"!==ut()||!ae.toLowerCase().match(/iphone|ipad|ipod|android/))}function It(){try{const ae=self.localStorage,me=$.aG();if(ae)return ae.setItem(me,"1"),ae.removeItem(me),!function gn(ae=(0,xe.z$)()){return function on(){return(0,xe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function zt(ae=(0,xe.z$)()){return/Edge\/\d+/.test(ae)}(ae)}()||(0,xe.hl)()}catch(ae){return Pn()&&(0,xe.hl)()}return!1}function Pn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Nn(){return(function dt(){return"http:"===ut()||"https:"===ut()}()||(0,xe.ru)()||Ot())&&!function hn(){return(0,xe.b$)()||(0,xe.UG)()}()&&It()&&!Pn()}function Gn(){return Ot()&&"undefined"!=typeof document}function Xn(){return(Xn=(0,a.Z)(function*(){return!!Gn()&&new Promise(ae=>{const me=setTimeout(()=>{ae(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(me),ae(!0)})})})).apply(this,arguments)}const Hn={LOCAL:"local",NONE:"none",SESSION:"session"},wn=$.aw,tn="persistence";function xr(ae){return hr.apply(this,arguments)}function hr(){return(hr=(0,a.Z)(function*(ae){yield ae._initializationPromise;const me=kn(),De=$.ay(tn,ae.config.apiKey,ae.name);me&&me.setItem(De,ae._getPersistence())})).apply(this,arguments)}function kn(){var ae;try{return(null===(ae=function Bn(){return"undefined"!=typeof window?window:null}())||void 0===ae?void 0:ae.sessionStorage)||null}catch(me){return null}}const en=$.aw;class Yt{constructor(){this.browserResolver=$.ax($.k),this.cordovaResolver=$.ax(class at{constructor(){this._redirectPersistence=$.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$.aA}_initialize(me){var De=this;return(0,a.Z)(function*(){const it=me._key();let Nt=De.eventManagers.get(it);return Nt||(Nt=new be(me),De.eventManagers.set(it,Nt),De.attachCallbackListeners(me,Nt)),Nt})()}_openPopup(me){(0,$.as)(me,"operation-not-supported-in-this-environment")}_openRedirect(me,De,it,Nt){var cn=this;return(0,a.Z)(function*(){!function ve(ae){var me,De,it,Nt,cn,Tn,an,On,gr,$n;const Sn=Ce();(0,$.aw)("function"==typeof(null===(me=null==Sn?void 0:Sn.universalLinks)||void 0===me?void 0:me.subscribe),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,$.aw)(void 0!==(null===(De=null==Sn?void 0:Sn.BuildInfo)||void 0===De?void 0:De.packageName),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,$.aw)("function"==typeof(null===(cn=null===(Nt=null===(it=null==Sn?void 0:Sn.cordova)||void 0===it?void 0:it.plugins)||void 0===Nt?void 0:Nt.browsertab)||void 0===cn?void 0:cn.openUrl),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aw)("function"==typeof(null===(On=null===(an=null===(Tn=null==Sn?void 0:Sn.cordova)||void 0===Tn?void 0:Tn.plugins)||void 0===an?void 0:an.browsertab)||void 0===On?void 0:On.isAvailable),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aw)("function"==typeof(null===($n=null===(gr=null==Sn?void 0:Sn.cordova)||void 0===gr?void 0:gr.InAppBrowser)||void 0===$n?void 0:$n.open),ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(me);const Tn=yield cn._initialize(me);yield Tn.initialized(),Tn.resetRedirect(),(0,$.aB)(),yield cn._originValidation(me);const an=function je(ae,me,De=null){return{type:me,eventId:De,urlResponse:null,sessionId:le(),postBody:null,tenantId:ae.tenantId,error:(0,$.av)(ae,"no-auth-event")}}(me,it,Nt);yield function ot(ae,me){return he()._set(Ae(ae),me)}(me,an);const On=yield function oe(ae,me,De){return re.apply(this,arguments)}(me,an,De),gr=yield function Pe(ae){const{cordova:me}=Ce();return new Promise(De=>{me.plugins.browsertab.isAvailable(it=>{let Nt=null;it?me.plugins.browsertab.openUrl(ae):Nt=me.InAppBrowser.open(ae,(0,$.ao)()?"_blank":"_system","location=yes"),De(Nt)})})}(On);return function rt(ae,me,De){return fe.apply(this,arguments)}(me,Tn,gr)})()}_isIframeWebStorageSupported(me,De){throw new Error("Method not implemented.")}_originValidation(me){const De=me._key();return this.originValidationPromises[De]||(this.originValidationPromises[De]=function ue(ae){return Q.apply(this,arguments)}(me)),this.originValidationPromises[De]}attachCallbackListeners(me,De){const{universalLinks:it,handleOpenURL:Nt,BuildInfo:cn}=Ce(),Tn=setTimeout((0,a.Z)(function*(){yield Le(me),De.onEvent(Xe())}),500),an=function(){var $n=(0,a.Z)(function*(Sn){clearTimeout(Tn);const In=yield Le(me);let Sr=null;In&&(null==Sn?void 0:Sn.url)&&(Sr=function ce(ae,me){var De,it;const Nt=function Be(ae){const me=Rt(ae),De=me.link?decodeURIComponent(me.link):void 0,it=Rt(De).link,Nt=me.deep_link_id?decodeURIComponent(me.deep_link_id):void 0;return Rt(Nt).link||Nt||it||De||ae}(me);if(Nt.includes("/__/auth/callback")){const cn=Rt(Nt),Tn=cn.firebaseError?function ze(ae){try{return JSON.parse(ae)}catch(me){return null}}(decodeURIComponent(cn.firebaseError)):null,an=null===(it=null===(De=null==Tn?void 0:Tn.code)||void 0===De?void 0:De.split("auth/"))||void 0===it?void 0:it[1],On=an?(0,$.av)(an):null;return On?{type:ae.type,eventId:ae.eventId,tenantId:ae.tenantId,error:On,urlResponse:null,sessionId:null,postBody:null}:{type:ae.type,eventId:ae.eventId,tenantId:ae.tenantId,sessionId:ae.sessionId,urlResponse:Nt,postBody:null}}return null}(In,Sn.url)),De.onEvent(Sr||Xe())});return function(In){return $n.apply(this,arguments)}}();void 0!==it&&"function"==typeof it.subscribe&&it.subscribe(null,an);const On=Nt,gr=`${cn.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var $n=(0,a.Z)(function*(Sn){if(Sn.toLowerCase().startsWith(gr)&&an({url:Sn}),"function"==typeof On)try{On(Sn)}catch(In){console.error(In)}});return function(Sn){return $n.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=$.a,this._completeRedirectFn=$.aA}_initialize(me){var De=this;return(0,a.Z)(function*(){return yield De.selectUnderlyingResolver(),De.assertedUnderlyingResolver._initialize(me)})()}_openPopup(me,De,it,Nt){var cn=this;return(0,a.Z)(function*(){return yield cn.selectUnderlyingResolver(),cn.assertedUnderlyingResolver._openPopup(me,De,it,Nt)})()}_openRedirect(me,De,it,Nt){var cn=this;return(0,a.Z)(function*(){return yield cn.selectUnderlyingResolver(),cn.assertedUnderlyingResolver._openRedirect(me,De,it,Nt)})()}_isIframeWebStorageSupported(me,De){this.assertedUnderlyingResolver._isIframeWebStorageSupported(me,De)}_originValidation(me){return this.assertedUnderlyingResolver._originValidation(me)}get _shouldInitProactively(){return Gn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return en(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var me=this;return(0,a.Z)(function*(){if(me.underlyingResolver)return;const De=yield function pn(){return Xn.apply(this,arguments)}();me.underlyingResolver=De?me.cordovaResolver:me.browserResolver})()}}function wr(ae){return ae.unwrap()}function Kn(ae){return ir(ae)}function ir(ae){const{_tokenResponse:me}=ae instanceof xe.ZR?ae.customData:ae;if(!me)return null;if(!(ae instanceof xe.ZR)&&"temporaryProof"in me&&"phoneNumber"in me)return $.P.credentialFromResult(ae);const De=me.providerId;if(!De||De===$.o.PASSWORD)return null;let it;switch(De){case $.o.GOOGLE:it=$.N;break;case $.o.FACEBOOK:it=$.M;break;case $.o.GITHUB:it=$.Q;break;case $.o.TWITTER:it=$.V;break;default:const{oauthIdToken:Nt,oauthAccessToken:cn,oauthTokenSecret:Tn,pendingToken:an,nonce:On}=me;return cn||Tn||Nt||an?an?De.startsWith("saml.")?$.aJ._create(De,an):$.I._fromParams({providerId:De,signInMethod:De,pendingToken:an,idToken:Nt,accessToken:cn}):new $.T(De).credential({idToken:Nt,accessToken:cn,rawNonce:On}):null}return ae instanceof xe.ZR?it.credentialFromError(ae):it.credentialFromResult(ae)}function ln(ae,me){return me.catch(De=>{throw De instanceof xe.ZR&&function Pr(ae,me){var De;const it=null===(De=me.customData)||void 0===De?void 0:De._tokenResponse;if("auth/multi-factor-auth-required"===me.code)me.resolver=new zn(ae,$.am(ae,me));else if(it){const Nt=ir(me),cn=me;Nt&&(cn.credential=Nt,cn.tenantId=it.tenantId||void 0,cn.email=it.email||void 0,cn.phoneNumber=it.phoneNumber||void 0)}}(ae,De),De}).then(De=>{const Nt=De.user;return{operationType:De.operationType,credential:Kn(De),additionalUserInfo:$.ak(De),user:qt.getOrCreate(Nt)}})}function sr(ae,me){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(ae,me){const De=yield me;return{verificationId:De.verificationId,confirm:it=>ln(ae,De.confirm(it))}})).apply(this,arguments)}class zn{constructor(me,De){this.resolver=De,this.auth=function Ur(ae){return ae.wrapped()}(me)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(me){return ln(wr(this.auth),this.resolver.resolveSignIn(me))}}class qt{constructor(me){this._delegate=me,this.multiFactor=$.an(me)}static getOrCreate(me){return qt.USER_MAP.has(me)||qt.USER_MAP.set(me,new qt(me)),qt.USER_MAP.get(me)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(me){return this._delegate.getIdTokenResult(me)}getIdToken(me){return this._delegate.getIdToken(me)}linkAndRetrieveDataWithCredential(me){return this.linkWithCredential(me)}linkWithCredential(me){var De=this;return(0,a.Z)(function*(){return ln(De.auth,$.Y(De._delegate,me))})()}linkWithPhoneNumber(me,De){var it=this;return(0,a.Z)(function*(){return sr(it.auth,$.l(it._delegate,me,De))})()}linkWithPopup(me){var De=this;return(0,a.Z)(function*(){return ln(De.auth,$.d(De._delegate,me,Yt))})()}linkWithRedirect(me){var De=this;return(0,a.Z)(function*(){return yield xr($.aC(De.auth)),$.g(De._delegate,me,Yt)})()}reauthenticateAndRetrieveDataWithCredential(me){return this.reauthenticateWithCredential(me)}reauthenticateWithCredential(me){var De=this;return(0,a.Z)(function*(){return ln(De.auth,$.Z(De._delegate,me))})()}reauthenticateWithPhoneNumber(me,De){return sr(this.auth,$.r(this._delegate,me,De))}reauthenticateWithPopup(me){return ln(this.auth,$.e(this._delegate,me,Yt))}reauthenticateWithRedirect(me){var De=this;return(0,a.Z)(function*(){return yield xr($.aC(De.auth)),$.h(De._delegate,me,Yt)})()}sendEmailVerification(me){return $.aa(this._delegate,me)}unlink(me){var De=this;return(0,a.Z)(function*(){return yield $.aj(De._delegate,me),De})()}updateEmail(me){return $.af(this._delegate,me)}updatePassword(me){return $.ag(this._delegate,me)}updatePhoneNumber(me){return $.u(this._delegate,me)}updateProfile(me){return $.ae(this._delegate,me)}verifyBeforeUpdateEmail(me,De){return $.ab(this._delegate,me,De)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qt.USER_MAP=new WeakMap;const Dt=$.aw;let Pt=(()=>{class ae{constructor(De,it){if(this.app=De,it.isInitialized())return this._delegate=it.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Nt}=De.options;Dt(Nt,"invalid-api-key",{appName:De.name}),Dt(Nt,"invalid-api-key",{appName:De.name});const cn="undefined"!=typeof window?Yt:void 0;this._delegate=it.initialize({options:{persistence:Ut(Nt,De.name),popupRedirectResolver:cn}}),this._delegate._updateErrorMap($.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(De){this._delegate.languageCode=De}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(De){this._delegate.tenantId=De}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(De,it){$.E(this._delegate,De,it)}applyActionCode(De){return $.a1(this._delegate,De)}checkActionCode(De){return $.a2(this._delegate,De)}confirmPasswordReset(De,it){return $.a0(this._delegate,De,it)}createUserWithEmailAndPassword(De,it){var Nt=this;return(0,a.Z)(function*(){return ln(Nt._delegate,$.a4(Nt._delegate,De,it))})()}fetchProvidersForEmail(De){return this.fetchSignInMethodsForEmail(De)}fetchSignInMethodsForEmail(De){return $.a9(this._delegate,De)}isSignInWithEmailLink(De){return $.a7(this._delegate,De)}getRedirectResult(){var De=this;return(0,a.Z)(function*(){Dt(Nn(),De._delegate,"operation-not-supported-in-this-environment");const it=yield $.j(De._delegate,Yt);return it?ln(De._delegate,Promise.resolve(it)):{credential:null,user:null}})()}addFrameworkForLogging(De){!function qe(ae,me){(0,$.aC)(ae)._logFramework(me)}(this._delegate,De)}onAuthStateChanged(De,it,Nt){const{next:cn,error:Tn,complete:an}=mn(De,it,Nt);return this._delegate.onAuthStateChanged(cn,Tn,an)}onIdTokenChanged(De,it,Nt){const{next:cn,error:Tn,complete:an}=mn(De,it,Nt);return this._delegate.onIdTokenChanged(cn,Tn,an)}sendSignInLinkToEmail(De,it){return $.a6(this._delegate,De,it)}sendPasswordResetEmail(De,it){return $.$(this._delegate,De,it||void 0)}setPersistence(De){var it=this;return(0,a.Z)(function*(){let Nt;switch(function qn(ae,me){wn(Object.values(Hn).includes(me),ae,"invalid-persistence-type"),(0,xe.b$)()?wn(me!==Hn.SESSION,ae,"unsupported-persistence-type"):(0,xe.UG)()?wn(me===Hn.NONE,ae,"unsupported-persistence-type"):Pn()?wn(me===Hn.NONE||me===Hn.LOCAL&&(0,xe.hl)(),ae,"unsupported-persistence-type"):wn(me===Hn.NONE||It(),ae,"unsupported-persistence-type")}(it._delegate,De),De){case Hn.SESSION:Nt=$.a;break;case Hn.LOCAL:Nt=(yield $.ax($.i)._isAvailable())?$.i:$.b;break;case Hn.NONE:Nt=$.K;break;default:return $.as("argument-error",{appName:it._delegate.name})}return it._delegate.setPersistence(Nt)})()}signInAndRetrieveDataWithCredential(De){return this.signInWithCredential(De)}signInAnonymously(){return ln(this._delegate,$.W(this._delegate))}signInWithCredential(De){return ln(this._delegate,$.X(this._delegate,De))}signInWithCustomToken(De){return ln(this._delegate,$._(this._delegate,De))}signInWithEmailAndPassword(De,it){return ln(this._delegate,$.a5(this._delegate,De,it))}signInWithEmailLink(De,it){return ln(this._delegate,$.a8(this._delegate,De,it))}signInWithPhoneNumber(De,it){return sr(this._delegate,$.s(this._delegate,De,it))}signInWithPopup(De){var it=this;return(0,a.Z)(function*(){return Dt(Nn(),it._delegate,"operation-not-supported-in-this-environment"),ln(it._delegate,$.c(it._delegate,De,Yt))})()}signInWithRedirect(De){var it=this;return(0,a.Z)(function*(){return Dt(Nn(),it._delegate,"operation-not-supported-in-this-environment"),yield xr(it._delegate),$.f(it._delegate,De,Yt)})()}updateCurrentUser(De){return this._delegate.updateCurrentUser(De)}verifyPasswordResetCode(De){return $.a3(this._delegate,De)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ae.Persistence=Hn,ae})();function mn(ae,me,De){let it=ae;"function"!=typeof ae&&({next:it,error:me,complete:De}=ae);const Nt=it;return{next:Tn=>Nt(Tn&&qt.getOrCreate(Tn)),error:me,complete:De}}function Ut(ae,me){const De=function Tr(ae,me){const De=kn();if(!De)return[];const it=$.ay(tn,ae,me);switch(De.getItem(it)){case Hn.NONE:return[$.K];case Hn.LOCAL:return[$.i,$.a];case Hn.SESSION:return[$.a];default:return[]}}(ae,me);if("undefined"!=typeof self&&!De.includes($.i)&&De.push($.i),"undefined"!=typeof window)for(const it of[$.b,$.a])De.includes(it)||De.push(it);return De.includes($.K)||De.push($.K),De}class Qt{constructor(){this.providerId="phone",this._delegate=new $.P(wr(G.Z.auth()))}static credential(me,De){return $.P.credential(me,De)}verifyPhoneNumber(me,De){return this._delegate.verifyPhoneNumber(me,De)}unwrap(){return this._delegate}}Qt.PHONE_SIGN_IN_METHOD=$.P.PHONE_SIGN_IN_METHOD,Qt.PROVIDER_ID=$.P.PROVIDER_ID;const Fe=$.aw;class _e{constructor(me,De,it=G.Z.app()){var Nt;Fe(null===(Nt=it.options)||void 0===Nt?void 0:Nt.apiKey,"invalid-api-key",{appName:it.name}),this._delegate=new $.R(me,De,it.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function nt(ae){ae.INTERNAL.registerComponent(new Te.wA("auth-compat",me=>{const De=me.getProvider("app-compat").getImmediate(),it=me.getProvider("auth");return new Pt(De,it)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$.A.EMAIL_SIGNIN,PASSWORD_RESET:$.A.PASSWORD_RESET,RECOVER_EMAIL:$.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$.A.VERIFY_EMAIL}},EmailAuthProvider:$.L,FacebookAuthProvider:$.M,GithubAuthProvider:$.Q,GoogleAuthProvider:$.N,OAuthProvider:$.T,SAMLAuthProvider:$.U,PhoneAuthProvider:Qt,PhoneMultiFactorGenerator:$.m,RecaptchaVerifier:_e,TwitterAuthProvider:$.V,Auth:Pt,AuthCredential:$.G,Error:xe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ae.registerVersion("@firebase/auth-compat","0.2.12")}(G.Z)},591:(Xt,tt,P)=>{"use strict";P.d(tt,{X:()=>$});var a=P(8929),G=P(5279);class $ extends a.xQ{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const se=super._subscribe(we);return se&&!se.closed&&we.next(this._value),se}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new G.N;return this._value}next(we){super.next(this._value=we)}}},6498:(Xt,tt,P)=>{"use strict";P.d(tt,{y:()=>ye});var a=P(3489),$=P(7668),xe=P(3292),se=P(3821),Te=P(4843),Ce=P(2830);let ye=(()=>{class re{constructor(Q){this._isScalar=!1,Q&&(this._subscribe=Q)}lift(Q){const Pe=new re;return Pe.source=this,Pe.operator=Q,Pe}subscribe(Q,Pe,rt){const{operator:fe}=this,ve=function we(re,ue,Q){if(re){if(re instanceof a.L)return re;if(re[$.b])return re[$.b]()}return re||ue||Q?new a.L(re,ue,Q):new a.L(xe.c)}(Q,Pe,rt);if(ve.add(fe?fe.call(ve,this.source):this.source||Ce.v.useDeprecatedSynchronousErrorHandling&&!ve.syncErrorThrowable?this._subscribe(ve):this._trySubscribe(ve)),Ce.v.useDeprecatedSynchronousErrorHandling&&ve.syncErrorThrowable&&(ve.syncErrorThrowable=!1,ve.syncErrorThrown))throw ve.syncErrorValue;return ve}_trySubscribe(Q){try{return this._subscribe(Q)}catch(Pe){Ce.v.useDeprecatedSynchronousErrorHandling&&(Q.syncErrorThrown=!0,Q.syncErrorValue=Pe),function G(re){for(;re;){const{closed:ue,destination:Q,isStopped:Pe}=re;if(ue||Pe)return!1;re=Q&&Q instanceof a.L?Q:null}return!0}(Q)?Q.error(Pe):console.warn(Pe)}}forEach(Q,Pe){return new(Pe=oe(Pe))((rt,fe)=>{let ve;ve=this.subscribe(ge=>{try{Q(ge)}catch(Je){fe(Je),ve&&ve.unsubscribe()}},fe,rt)})}_subscribe(Q){const{source:Pe}=this;return Pe&&Pe.subscribe(Q)}[se.L](){return this}pipe(...Q){return 0===Q.length?this:(0,Te.U)(Q)(this)}toPromise(Q){return new(Q=oe(Q))((Pe,rt)=>{let fe;this.subscribe(ve=>fe=ve,ve=>rt(ve),()=>Pe(fe))})}}return re.create=ue=>new re(ue),re})();function oe(re){if(re||(re=Ce.v.Promise||Promise),!re)throw new Error("no Promise impl found");return re}},3292:(Xt,tt,P)=>{"use strict";P.d(tt,{c:()=>$});var a=P(2830),G=P(2782);const $={closed:!0,next(xe){},error(xe){if(a.v.useDeprecatedSynchronousErrorHandling)throw xe;(0,G.z)(xe)},complete(){}}},8929:(Xt,tt,P)=>{"use strict";P.d(tt,{Yc:()=>Te,xQ:()=>Ce});var a=P(6498),G=P(3489),$=P(2654),xe=P(5279),we=P(5283),se=P(7668);class Te extends G.L{constructor(re){super(re),this.destination=re}}let Ce=(()=>{class oe extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new Te(this)}lift(ue){const Q=new ye(this,this);return Q.operator=ue,Q}next(ue){if(this.closed)throw new xe.N;if(!this.isStopped){const{observers:Q}=this,Pe=Q.length,rt=Q.slice();for(let fe=0;fe<Pe;fe++)rt[fe].next(ue)}}error(ue){if(this.closed)throw new xe.N;this.hasError=!0,this.thrownError=ue,this.isStopped=!0;const{observers:Q}=this,Pe=Q.length,rt=Q.slice();for(let fe=0;fe<Pe;fe++)rt[fe].error(ue);this.observers.length=0}complete(){if(this.closed)throw new xe.N;this.isStopped=!0;const{observers:ue}=this,Q=ue.length,Pe=ue.slice();for(let rt=0;rt<Q;rt++)Pe[rt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ue){if(this.closed)throw new xe.N;return super._trySubscribe(ue)}_subscribe(ue){if(this.closed)throw new xe.N;return this.hasError?(ue.error(this.thrownError),$.w.EMPTY):this.isStopped?(ue.complete(),$.w.EMPTY):(this.observers.push(ue),new we.W(this,ue))}asObservable(){const ue=new a.y;return ue.source=this,ue}}return oe.create=(re,ue)=>new ye(re,ue),oe})();class ye extends Ce{constructor(re,ue){super(),this.destination=re,this.source=ue}next(re){const{destination:ue}=this;ue&&ue.next&&ue.next(re)}error(re){const{destination:ue}=this;ue&&ue.error&&this.destination.error(re)}complete(){const{destination:re}=this;re&&re.complete&&this.destination.complete()}_subscribe(re){const{source:ue}=this;return ue?this.source.subscribe(re):$.w.EMPTY}}},5283:(Xt,tt,P)=>{"use strict";P.d(tt,{W:()=>G});var a=P(2654);class G extends a.w{constructor(xe,we){super(),this.subject=xe,this.subscriber=we,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const xe=this.subject,we=xe.observers;if(this.subject=null,!we||0===we.length||xe.isStopped||xe.closed)return;const se=we.indexOf(this.subscriber);-1!==se&&we.splice(se,1)}}},3489:(Xt,tt,P)=>{"use strict";P.d(tt,{L:()=>Te});var a=P(7043),G=P(3292),$=P(2654),xe=P(7668),we=P(2830),se=P(2782);class Te extends $.w{constructor(oe,re,ue){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=G.c;break;case 1:if(!oe){this.destination=G.c;break}if("object"==typeof oe){oe instanceof Te?(this.syncErrorThrowable=oe.syncErrorThrowable,this.destination=oe,oe.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ce(this,oe));break}default:this.syncErrorThrowable=!0,this.destination=new Ce(this,oe,re,ue)}}[xe.b](){return this}static create(oe,re,ue){const Q=new Te(oe,re,ue);return Q.syncErrorThrowable=!1,Q}next(oe){this.isStopped||this._next(oe)}error(oe){this.isStopped||(this.isStopped=!0,this._error(oe))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(oe){this.destination.next(oe)}_error(oe){this.destination.error(oe),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:oe}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=oe,this}}class Ce extends Te{constructor(oe,re,ue,Q){super(),this._parentSubscriber=oe;let Pe,rt=this;(0,a.m)(re)?Pe=re:re&&(Pe=re.next,ue=re.error,Q=re.complete,re!==G.c&&(rt=Object.create(re),(0,a.m)(rt.unsubscribe)&&this.add(rt.unsubscribe.bind(rt)),rt.unsubscribe=this.unsubscribe.bind(this))),this._context=rt,this._next=Pe,this._error=ue,this._complete=Q}next(oe){if(!this.isStopped&&this._next){const{_parentSubscriber:re}=this;we.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?this.__tryOrSetError(re,this._next,oe)&&this.unsubscribe():this.__tryOrUnsub(this._next,oe)}}error(oe){if(!this.isStopped){const{_parentSubscriber:re}=this,{useDeprecatedSynchronousErrorHandling:ue}=we.v;if(this._error)ue&&re.syncErrorThrowable?(this.__tryOrSetError(re,this._error,oe),this.unsubscribe()):(this.__tryOrUnsub(this._error,oe),this.unsubscribe());else if(re.syncErrorThrowable)ue?(re.syncErrorValue=oe,re.syncErrorThrown=!0):(0,se.z)(oe),this.unsubscribe();else{if(this.unsubscribe(),ue)throw oe;(0,se.z)(oe)}}}complete(){if(!this.isStopped){const{_parentSubscriber:oe}=this;if(this._complete){const re=()=>this._complete.call(this._context);we.v.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable?(this.__tryOrSetError(oe,re),this.unsubscribe()):(this.__tryOrUnsub(re),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(oe,re){try{oe.call(this._context,re)}catch(ue){if(this.unsubscribe(),we.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,se.z)(ue)}}__tryOrSetError(oe,re,ue){if(!we.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{re.call(this._context,ue)}catch(Q){return we.v.useDeprecatedSynchronousErrorHandling?(oe.syncErrorValue=Q,oe.syncErrorThrown=!0,!0):((0,se.z)(Q),!0)}return!1}_unsubscribe(){const{_parentSubscriber:oe}=this;this._context=null,this._parentSubscriber=null,oe.unsubscribe()}}},2654:(Xt,tt,P)=>{"use strict";P.d(tt,{w:()=>se});var a=P(6688),G=P(7830),$=P(7043);const we=(()=>{function Ce(ye){return Error.call(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((oe,re)=>`${re+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye,this}return Ce.prototype=Object.create(Error.prototype),Ce})();class se{constructor(ye){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ye&&(this._ctorUnsubscribe=!0,this._unsubscribe=ye)}unsubscribe(){let ye;if(this.closed)return;let{_parentOrParents:oe,_ctorUnsubscribe:re,_unsubscribe:ue,_subscriptions:Q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,oe instanceof se)oe.remove(this);else if(null!==oe)for(let Pe=0;Pe<oe.length;++Pe)oe[Pe].remove(this);if((0,$.m)(ue)){re&&(this._unsubscribe=void 0);try{ue.call(this)}catch(Pe){ye=Pe instanceof we?Te(Pe.errors):[Pe]}}if((0,a.k)(Q)){let Pe=-1,rt=Q.length;for(;++Pe<rt;){const fe=Q[Pe];if((0,G.K)(fe))try{fe.unsubscribe()}catch(ve){ye=ye||[],ve instanceof we?ye=ye.concat(Te(ve.errors)):ye.push(ve)}}}if(ye)throw new we(ye)}add(ye){let oe=ye;if(!ye)return se.EMPTY;switch(typeof ye){case"function":oe=new se(ye);case"object":if(oe===this||oe.closed||"function"!=typeof oe.unsubscribe)return oe;if(this.closed)return oe.unsubscribe(),oe;if(!(oe instanceof se)){const Q=oe;oe=new se,oe._subscriptions=[Q]}break;default:throw new Error("unrecognized teardown "+ye+" added to Subscription.")}let{_parentOrParents:re}=oe;if(null===re)oe._parentOrParents=this;else if(re instanceof se){if(re===this)return oe;oe._parentOrParents=[re,this]}else{if(-1!==re.indexOf(this))return oe;re.push(this)}const ue=this._subscriptions;return null===ue?this._subscriptions=[oe]:ue.push(oe),oe}remove(ye){const oe=this._subscriptions;if(oe){const re=oe.indexOf(ye);-1!==re&&oe.splice(re,1)}}}var Ce;function Te(Ce){return Ce.reduce((ye,oe)=>ye.concat(oe instanceof we?oe.errors:oe),[])}se.EMPTY=((Ce=new se).closed=!0,Ce)},2830:(Xt,tt,P)=>{"use strict";P.d(tt,{v:()=>G});let a=!1;const G={Promise:void 0,set useDeprecatedSynchronousErrorHandling($){if($){const xe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+xe.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=$},get useDeprecatedSynchronousErrorHandling(){return a}}},1177:(Xt,tt,P)=>{"use strict";P.d(tt,{IY:()=>xe,Ds:()=>se,ft:()=>Ce});var a=P(3489),G=P(6498),$=P(9249);class xe extends a.L{constructor(oe){super(),this.parent=oe}_next(oe){this.parent.notifyNext(oe)}_error(oe){this.parent.notifyError(oe),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends a.L{notifyNext(oe){this.destination.next(oe)}notifyError(oe){this.destination.error(oe)}notifyComplete(){this.destination.complete()}}function Ce(ye,oe){if(oe.closed)return;if(ye instanceof G.y)return ye.subscribe(oe);let re;try{re=(0,$.s)(ye)(oe)}catch(ue){oe.error(ue)}return re}},1762:(Xt,tt,P)=>{"use strict";P.d(tt,{c:()=>we,N:()=>se});var a=P(8929),G=P(6498),$=P(2654),xe=P(4327);class we extends G.y{constructor(re,ue){super(),this.source=re,this.subjectFactory=ue,this._refCount=0,this._isComplete=!1}_subscribe(re){return this.getSubject().subscribe(re)}getSubject(){const re=this._subject;return(!re||re.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let re=this._connection;return re||(this._isComplete=!1,re=this._connection=new $.w,re.add(this.source.subscribe(new Te(this.getSubject(),this))),re.closed&&(this._connection=null,re=$.w.EMPTY)),re}refCount(){return(0,xe.x)()(this)}}const se=(()=>{const oe=we.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:oe._subscribe},_isComplete:{value:oe._isComplete,writable:!0},getSubject:{value:oe.getSubject},connect:{value:oe.connect},refCount:{value:oe.refCount}}})();class Te extends a.Yc{constructor(re,ue){super(re),this.connectable=ue}_error(re){this._unsubscribe(),super._error(re)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const re=this.connectable;if(re){this.connectable=null;const ue=re._connection;re._refCount=0,re._subject=null,re._connection=null,ue&&ue.unsubscribe()}}}},1221:(Xt,tt,P)=>{"use strict";P.d(tt,{z:()=>xe});var a=P(1086),G=P(9146);function xe(...we){return function $(){return(0,G.J)(1)}()((0,a.of)(...we))}},8896:(Xt,tt,P)=>{"use strict";P.d(tt,{E:()=>G,c:()=>$});var a=P(6498);const G=new a.y(we=>we.complete());function $(we){return we?function xe(we){return new a.y(se=>we.schedule(()=>se.complete()))}(we):G}},5254:(Xt,tt,P)=>{"use strict";P.d(tt,{D:()=>rt});var a=P(6498),G=P(9249),$=P(2654),xe=P(3821),Te=P(6454),Ce=P(5430),re=P(8955),ue=P(8515);function rt(fe,ve){return ve?function Pe(fe,ve){if(null!=fe){if(function oe(fe){return fe&&"function"==typeof fe[xe.L]}(fe))return function we(fe,ve){return new a.y(ge=>{const Je=new $.w;return Je.add(ve.schedule(()=>{const te=fe[xe.L]();Je.add(te.subscribe({next(Ye){Je.add(ve.schedule(()=>ge.next(Ye)))},error(Ye){Je.add(ve.schedule(()=>ge.error(Ye)))},complete(){Je.add(ve.schedule(()=>ge.complete()))}}))})),Je})}(fe,ve);if((0,re.t)(fe))return function se(fe,ve){return new a.y(ge=>{const Je=new $.w;return Je.add(ve.schedule(()=>fe.then(te=>{Je.add(ve.schedule(()=>{ge.next(te),Je.add(ve.schedule(()=>ge.complete()))}))},te=>{Je.add(ve.schedule(()=>ge.error(te)))}))),Je})}(fe,ve);if((0,ue.z)(fe))return(0,Te.r)(fe,ve);if(function Q(fe){return fe&&"function"==typeof fe[Ce.hZ]}(fe)||"string"==typeof fe)return function ye(fe,ve){if(!fe)throw new Error("Iterable cannot be null");return new a.y(ge=>{const Je=new $.w;let te;return Je.add(()=>{te&&"function"==typeof te.return&&te.return()}),Je.add(ve.schedule(()=>{te=fe[Ce.hZ](),Je.add(ve.schedule(function(){if(ge.closed)return;let Ye,be;try{const je=te.next();Ye=je.value,be=je.done}catch(je){return void ge.error(je)}be?ge.complete():(ge.next(Ye),this.schedule())}))})),Je})}(fe,ve)}throw new TypeError((null!==fe&&typeof fe||fe)+" is not observable")}(fe,ve):fe instanceof a.y?fe:new a.y((0,G.s)(fe))}},3009:(Xt,tt,P)=>{"use strict";P.d(tt,{n:()=>xe});var a=P(6498),G=P(3650),$=P(6454);function xe(we,se){return se?(0,$.r)(we,se):new a.y((0,G.V)(we))}},6787:(Xt,tt,P)=>{"use strict";P.d(tt,{T:()=>we});var a=P(6498),G=P(2866),$=P(9146),xe=P(3009);function we(...se){let Te=Number.POSITIVE_INFINITY,Ce=null,ye=se[se.length-1];return(0,G.K)(ye)?(Ce=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(Te=se.pop())):"number"==typeof ye&&(Te=se.pop()),null===Ce&&1===se.length&&se[0]instanceof a.y?se[0]:(0,$.J)(Te)((0,xe.n)(se,Ce))}},1086:(Xt,tt,P)=>{"use strict";P.d(tt,{of:()=>xe});var a=P(2866),G=P(3009),$=P(6454);function xe(...we){let se=we[we.length-1];return(0,a.K)(se)?(we.pop(),(0,$.r)(we,se)):(0,G.n)(we)}},1737:(Xt,tt,P)=>{"use strict";P.d(tt,{_:()=>G});var a=P(6498);function G(xe,we){return new a.y(we?se=>we.schedule($,0,{error:xe,subscriber:se}):se=>se.error(xe))}function $({error:xe,subscriber:we}){we.error(xe)}},7314:(Xt,tt,P)=>{"use strict";P.d(tt,{d:()=>G});var a=P(3489);function G(we=null){return se=>se.lift(new $(we))}class ${constructor(se){this.defaultValue=se}call(se,Te){return Te.subscribe(new xe(se,this.defaultValue))}}class xe extends a.L{constructor(se,Te){super(se),this.defaultValue=Te,this.isEmpty=!0}_next(se){this.isEmpty=!1,this.destination.next(se)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Xt,tt,P)=>{"use strict";P.d(tt,{x:()=>G});var a=P(3489);function G(we,se){return Te=>Te.lift(new $(we,se))}class ${constructor(se,Te){this.compare=se,this.keySelector=Te}call(se,Te){return Te.subscribe(new xe(se,this.compare,this.keySelector))}}class xe extends a.L{constructor(se,Te,Ce){super(se),this.keySelector=Ce,this.hasKey=!1,"function"==typeof Te&&(this.compare=Te)}compare(se,Te){return se===Te}_next(se){let Te;try{const{keySelector:ye}=this;Te=ye?ye(se):se}catch(ye){return this.destination.error(ye)}let Ce=!1;if(this.hasKey)try{const{compare:ye}=this;Ce=ye(this.key,Te)}catch(ye){return this.destination.error(ye)}else this.hasKey=!0;Ce||(this.key=Te,this.destination.next(se))}}},2198:(Xt,tt,P)=>{"use strict";P.d(tt,{h:()=>G});var a=P(3489);function G(we,se){return function(Ce){return Ce.lift(new $(we,se))}}class ${constructor(se,Te){this.predicate=se,this.thisArg=Te}call(se,Te){return Te.subscribe(new xe(se,this.predicate,this.thisArg))}}class xe extends a.L{constructor(se,Te,Ce){super(se),this.predicate=Te,this.thisArg=Ce,this.count=0}_next(se){let Te;try{Te=this.predicate.call(this.thisArg,se,this.count++)}catch(Ce){return void this.destination.error(Ce)}Te&&this.destination.next(se)}}},7224:(Xt,tt,P)=>{"use strict";P.d(tt,{P:()=>Te});var a=P(4450),G=P(2198),$=P(2986),xe=P(7314),we=P(4907),se=P(5379);function Te(Ce,ye){const oe=arguments.length>=2;return re=>re.pipe(Ce?(0,G.h)((ue,Q)=>Ce(ue,Q,re)):se.y,(0,$.q)(1),oe?(0,xe.d)(ye):(0,we.T)(()=>new a.K))}},4850:(Xt,tt,P)=>{"use strict";P.d(tt,{U:()=>G});var a=P(3489);function G(we,se){return function(Ce){if("function"!=typeof we)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ce.lift(new $(we,se))}}class ${constructor(se,Te){this.project=se,this.thisArg=Te}call(se,Te){return Te.subscribe(new xe(se,this.project,this.thisArg))}}class xe extends a.L{constructor(se,Te,Ce){super(se),this.project=Te,this.count=0,this.thisArg=Ce||this}_next(se){let Te;try{Te=this.project.call(this.thisArg,se,this.count++)}catch(Ce){return void this.destination.error(Ce)}this.destination.next(Te)}}},9146:(Xt,tt,P)=>{"use strict";P.d(tt,{J:()=>$});var a=P(1709),G=P(5379);function $(xe=Number.POSITIVE_INFINITY){return(0,a.zg)(G.y,xe)}},1709:(Xt,tt,P)=>{"use strict";P.d(tt,{zg:()=>xe});var a=P(4850),G=P(5254),$=P(1177);function xe(Ce,ye,oe=Number.POSITIVE_INFINITY){return"function"==typeof ye?re=>re.pipe(xe((ue,Q)=>(0,G.D)(Ce(ue,Q)).pipe((0,a.U)((Pe,rt)=>ye(ue,Pe,Q,rt))),oe)):("number"==typeof ye&&(oe=ye),re=>re.lift(new we(Ce,oe)))}class we{constructor(ye,oe=Number.POSITIVE_INFINITY){this.project=ye,this.concurrent=oe}call(ye,oe){return oe.subscribe(new se(ye,this.project,this.concurrent))}}class se extends $.Ds{constructor(ye,oe,re=Number.POSITIVE_INFINITY){super(ye),this.project=oe,this.concurrent=re,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ye){this.active<this.concurrent?this._tryNext(ye):this.buffer.push(ye)}_tryNext(ye){let oe;const re=this.index++;try{oe=this.project(ye,re)}catch(ue){return void this.destination.error(ue)}this.active++,this._innerSub(oe)}_innerSub(ye){const oe=new $.IY(this),re=this.destination;re.add(oe);const ue=(0,$.ft)(ye,oe);ue!==oe&&re.add(ue)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ye){this.destination.next(ye)}notifyComplete(){const ye=this.buffer;this.active--,ye.length>0?this._next(ye.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(Xt,tt,P)=>{"use strict";P.d(tt,{ht:()=>ye,QV:()=>Te});var a=P(3489),G=P(8896),$=P(1086),xe=P(1737);class se{constructor(ue,Q,Pe){this.kind=ue,this.value=Q,this.error=Pe,this.hasValue="N"===ue}observe(ue){switch(this.kind){case"N":return ue.next&&ue.next(this.value);case"E":return ue.error&&ue.error(this.error);case"C":return ue.complete&&ue.complete()}}do(ue,Q,Pe){switch(this.kind){case"N":return ue&&ue(this.value);case"E":return Q&&Q(this.error);case"C":return Pe&&Pe()}}accept(ue,Q,Pe){return ue&&"function"==typeof ue.next?this.observe(ue):this.do(ue,Q,Pe)}toObservable(){switch(this.kind){case"N":return(0,$.of)(this.value);case"E":return(0,xe._)(this.error);case"C":return(0,G.c)()}throw new Error("unexpected notification kind value")}static createNext(ue){return void 0!==ue?new se("N",ue):se.undefinedValueNotification}static createError(ue){return new se("E",void 0,ue)}static createComplete(){return se.completeNotification}}function Te(re,ue=0){return function(Pe){return Pe.lift(new Ce(re,ue))}}se.completeNotification=new se("C"),se.undefinedValueNotification=new se("N",void 0);class Ce{constructor(ue,Q=0){this.scheduler=ue,this.delay=Q}call(ue,Q){return Q.subscribe(new ye(ue,this.scheduler,this.delay))}}class ye extends a.L{constructor(ue,Q,Pe=0){super(ue),this.scheduler=Q,this.delay=Pe}static dispatch(ue){const{notification:Q,destination:Pe}=ue;Q.observe(Pe),this.unsubscribe()}scheduleMessage(ue){this.destination.add(this.scheduler.schedule(ye.dispatch,this.delay,new oe(ue,this.destination)))}_next(ue){this.scheduleMessage(se.createNext(ue))}_error(ue){this.scheduleMessage(se.createError(ue)),this.unsubscribe()}_complete(){this.scheduleMessage(se.createComplete()),this.unsubscribe()}}class oe{constructor(ue,Q){this.notification=ue,this.destination=Q}}},4327:(Xt,tt,P)=>{"use strict";P.d(tt,{x:()=>G});var a=P(3489);function G(){return function(se){return se.lift(new $(se))}}class ${constructor(se){this.connectable=se}call(se,Te){const{connectable:Ce}=this;Ce._refCount++;const ye=new xe(se,Ce),oe=Te.subscribe(ye);return ye.closed||(ye.connection=Ce.connect()),oe}}class xe extends a.L{constructor(se,Te){super(se),this.connectable=Te}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const Te=se._refCount;if(Te<=0)return void(this.connection=null);if(se._refCount=Te-1,Te>1)return void(this.connection=null);const{connection:Ce}=this,ye=se._connection;this.connection=null,ye&&(!Ce||ye===Ce)&&ye.unsubscribe()}}},2014:(Xt,tt,P)=>{"use strict";P.d(tt,{R:()=>G});var a=P(3489);function G(we,se){let Te=!1;return arguments.length>=2&&(Te=!0),function(ye){return ye.lift(new $(we,se,Te))}}class ${constructor(se,Te,Ce=!1){this.accumulator=se,this.seed=Te,this.hasSeed=Ce}call(se,Te){return Te.subscribe(new xe(se,this.accumulator,this.seed,this.hasSeed))}}class xe extends a.L{constructor(se,Te,Ce,ye){super(se),this.accumulator=Te,this._seed=Ce,this.hasSeed=ye,this.index=0}get seed(){return this._seed}set seed(se){this.hasSeed=!0,this._seed=se}_next(se){if(this.hasSeed)return this._tryNext(se);this.seed=se,this.destination.next(se)}_tryNext(se){const Te=this.index++;let Ce;try{Ce=this.accumulator(this.seed,se,Te)}catch(ye){this.destination.error(ye)}this.seed=Ce,this.destination.next(Ce)}}},1059:(Xt,tt,P)=>{"use strict";P.d(tt,{O:()=>$});var a=P(1221),G=P(2866);function $(...xe){const we=xe[xe.length-1];return(0,G.K)(we)?(xe.pop(),se=>(0,a.z)(xe,se,we)):se=>(0,a.z)(xe,se)}},8915:(Xt,tt,P)=>{"use strict";P.d(tt,{R:()=>ve});var a=P(6498);let G=1;const $=Promise.resolve(),xe={};function we(Je){return Je in xe&&(delete xe[Je],!0)}const se={setImmediate(Je){const te=G++;return xe[te]=!0,$.then(()=>we(te)&&Je()),te},clearImmediate(Je){we(Je)}};var Ce=P(6686),oe=P(2268);const Q=new class re extends oe.v{flush(te){this.active=!0,this.scheduled=void 0;const{actions:Ye}=this;let be,je=-1,ot=Ye.length;te=te||Ye.shift();do{if(be=te.execute(te.state,te.delay))break}while(++je<ot&&(te=Ye.shift()));if(this.active=!1,be){for(;++je<ot&&(te=Ye.shift());)te.unsubscribe();throw be}}}(class ye extends Ce.o{constructor(te,Ye){super(te,Ye),this.scheduler=te,this.work=Ye}requestAsyncId(te,Ye,be=0){return null!==be&&be>0?super.requestAsyncId(te,Ye,be):(te.actions.push(this),te.scheduled||(te.scheduled=se.setImmediate(te.flush.bind(te,null))))}recycleAsyncId(te,Ye,be=0){if(null!==be&&be>0||null===be&&this.delay>0)return super.recycleAsyncId(te,Ye,be);0===te.actions.length&&(se.clearImmediate(Ye),te.scheduled=void 0)}});var Pe=P(6688);class fe extends a.y{constructor(te,Ye=0,be=Q){super(),this.source=te,this.delayTime=Ye,this.scheduler=be,(!function rt(Je){return!(0,Pe.k)(Je)&&Je-parseFloat(Je)+1>=0}(Ye)||Ye<0)&&(this.delayTime=0),(!be||"function"!=typeof be.schedule)&&(this.scheduler=Q)}static create(te,Ye=0,be=Q){return new fe(te,Ye,be)}static dispatch(te){const{source:Ye,subscriber:be}=te;return this.add(Ye.subscribe(be))}_subscribe(te){return this.scheduler.schedule(fe.dispatch,this.delayTime,{source:this.source,subscriber:te})}}function ve(Je,te=0){return function(be){return be.lift(new ge(Je,te))}}class ge{constructor(te,Ye){this.scheduler=te,this.delay=Ye}call(te,Ye){return new fe(Ye,this.delay,this.scheduler).subscribe(te)}}},7545:(Xt,tt,P)=>{"use strict";P.d(tt,{w:()=>xe});var a=P(4850),G=P(5254),$=P(1177);function xe(Te,Ce){return"function"==typeof Ce?ye=>ye.pipe(xe((oe,re)=>(0,G.D)(Te(oe,re)).pipe((0,a.U)((ue,Q)=>Ce(oe,ue,re,Q))))):ye=>ye.lift(new we(Te))}class we{constructor(Ce){this.project=Ce}call(Ce,ye){return ye.subscribe(new se(Ce,this.project))}}class se extends $.Ds{constructor(Ce,ye){super(Ce),this.project=ye,this.index=0}_next(Ce){let ye;const oe=this.index++;try{ye=this.project(Ce,oe)}catch(re){return void this.destination.error(re)}this._innerSub(ye)}_innerSub(Ce){const ye=this.innerSubscription;ye&&ye.unsubscribe();const oe=new $.IY(this),re=this.destination;re.add(oe),this.innerSubscription=(0,$.ft)(Ce,oe),this.innerSubscription!==oe&&re.add(this.innerSubscription)}_complete(){const{innerSubscription:Ce}=this;(!Ce||Ce.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Ce){this.destination.next(Ce)}}},2986:(Xt,tt,P)=>{"use strict";P.d(tt,{q:()=>xe});var a=P(3489),G=P(4231),$=P(8896);function xe(Te){return Ce=>0===Te?(0,$.c)():Ce.lift(new we(Te))}class we{constructor(Ce){if(this.total=Ce,this.total<0)throw new G.W}call(Ce,ye){return ye.subscribe(new se(Ce,this.total))}}class se extends a.L{constructor(Ce,ye){super(Ce),this.total=ye,this.count=0}_next(Ce){const ye=this.total,oe=++this.count;oe<=ye&&(this.destination.next(Ce),oe===ye&&(this.destination.complete(),this.unsubscribe()))}}},2868:(Xt,tt,P)=>{"use strict";P.d(tt,{b:()=>xe});var a=P(3489);function G(){}var $=P(7043);function xe(Te,Ce,ye){return function(re){return re.lift(new we(Te,Ce,ye))}}class we{constructor(Ce,ye,oe){this.nextOrObserver=Ce,this.error=ye,this.complete=oe}call(Ce,ye){return ye.subscribe(new se(Ce,this.nextOrObserver,this.error,this.complete))}}class se extends a.L{constructor(Ce,ye,oe,re){super(Ce),this._tapNext=G,this._tapError=G,this._tapComplete=G,this._tapError=oe||G,this._tapComplete=re||G,(0,$.m)(ye)?(this._context=this,this._tapNext=ye):ye&&(this._context=ye,this._tapNext=ye.next||G,this._tapError=ye.error||G,this._tapComplete=ye.complete||G)}_next(Ce){try{this._tapNext.call(this._context,Ce)}catch(ye){return void this.destination.error(ye)}this.destination.next(Ce)}_error(Ce){try{this._tapError.call(this._context,Ce)}catch(ye){return void this.destination.error(ye)}this.destination.error(Ce)}_complete(){try{this._tapComplete.call(this._context)}catch(Ce){return void this.destination.error(Ce)}return this.destination.complete()}}},4907:(Xt,tt,P)=>{"use strict";P.d(tt,{T:()=>$});var a=P(4450),G=P(3489);function $(Te=se){return Ce=>Ce.lift(new xe(Te))}class xe{constructor(Ce){this.errorFactory=Ce}call(Ce,ye){return ye.subscribe(new we(Ce,this.errorFactory))}}class we extends G.L{constructor(Ce,ye){super(Ce),this.errorFactory=ye,this.hasValue=!1}_next(Ce){this.hasValue=!0,this.destination.next(Ce)}_complete(){if(this.hasValue)return this.destination.complete();{let Ce;try{Ce=this.errorFactory()}catch(ye){Ce=ye}this.destination.error(Ce)}}}function se(){return new a.K}},6454:(Xt,tt,P)=>{"use strict";P.d(tt,{r:()=>$});var a=P(6498),G=P(2654);function $(xe,we){return new a.y(se=>{const Te=new G.w;let Ce=0;return Te.add(we.schedule(function(){Ce!==xe.length?(se.next(xe[Ce++]),se.closed||Te.add(this.schedule())):se.complete()})),Te})}},6686:(Xt,tt,P)=>{"use strict";P.d(tt,{o:()=>$});var a=P(2654);class G extends a.w{constructor(we,se){super()}schedule(we,se=0){return this}}class $ extends G{constructor(we,se){super(we,se),this.scheduler=we,this.work=se,this.pending=!1}schedule(we,se=0){if(this.closed)return this;this.state=we;const Te=this.id,Ce=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(Ce,Te,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(Ce,this.id,se),this}requestAsyncId(we,se,Te=0){return setInterval(we.flush.bind(we,this),Te)}recycleAsyncId(we,se,Te=0){if(null!==Te&&this.delay===Te&&!1===this.pending)return se;clearInterval(se)}execute(we,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(we,se);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,se){let Ce,Te=!1;try{this.work(we)}catch(ye){Te=!0,Ce=!!ye&&ye||new Error(ye)}if(Te)return this.unsubscribe(),Ce}_unsubscribe(){const we=this.id,se=this.scheduler,Te=se.actions,Ce=Te.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Ce&&Te.splice(Ce,1),null!=we&&(this.id=this.recycleAsyncId(se,we,null)),this.delay=null}}},2268:(Xt,tt,P)=>{"use strict";P.d(tt,{v:()=>G});let a=(()=>{class ${constructor(we,se=$.now){this.SchedulerAction=we,this.now=se}schedule(we,se=0,Te){return new this.SchedulerAction(this,we).schedule(Te,se)}}return $.now=()=>Date.now(),$})();class G extends a{constructor(xe,we=a.now){super(xe,()=>G.delegate&&G.delegate!==this?G.delegate.now():we()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(xe,we=0,se){return G.delegate&&G.delegate!==this?G.delegate.schedule(xe,we,se):super.schedule(xe,we,se)}flush(xe){const{actions:we}=this;if(this.active)return void we.push(xe);let se;this.active=!0;do{if(se=xe.execute(xe.state,xe.delay))break}while(xe=we.shift());if(this.active=!1,se){for(;xe=we.shift();)xe.unsubscribe();throw se}}}},353:(Xt,tt,P)=>{"use strict";P.d(tt,{z:()=>$});var a=P(6686);const $=new(P(2268).v)(a.o)},341:(Xt,tt,P)=>{"use strict";P.d(tt,{c:()=>se,N:()=>we});var a=P(6686),$=P(2268);const we=new class xe extends $.v{}(class G extends a.o{constructor(Ce,ye){super(Ce,ye),this.scheduler=Ce,this.work=ye}schedule(Ce,ye=0){return ye>0?super.schedule(Ce,ye):(this.delay=ye,this.state=Ce,this.scheduler.flush(this),this)}execute(Ce,ye){return ye>0||this.closed?super.execute(Ce,ye):this._execute(Ce,ye)}requestAsyncId(Ce,ye,oe=0){return null!==oe&&oe>0||null===oe&&this.delay>0?super.requestAsyncId(Ce,ye,oe):Ce.flush(this)}}),se=we},5430:(Xt,tt,P)=>{"use strict";P.d(tt,{hZ:()=>G});const G=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Xt,tt,P)=>{"use strict";P.d(tt,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Xt,tt,P)=>{"use strict";P.d(tt,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Xt,tt,P)=>{"use strict";P.d(tt,{W:()=>G});const G=(()=>{function $(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return $.prototype=Object.create(Error.prototype),$})()},4450:(Xt,tt,P)=>{"use strict";P.d(tt,{K:()=>G});const G=(()=>{function $(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return $.prototype=Object.create(Error.prototype),$})()},5279:(Xt,tt,P)=>{"use strict";P.d(tt,{N:()=>G});const G=(()=>{function $(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return $.prototype=Object.create(Error.prototype),$})()},2782:(Xt,tt,P)=>{"use strict";function a(G){setTimeout(()=>{throw G},0)}P.d(tt,{z:()=>a})},5379:(Xt,tt,P)=>{"use strict";function a(G){return G}P.d(tt,{y:()=>a})},6688:(Xt,tt,P)=>{"use strict";P.d(tt,{k:()=>a});const a=Array.isArray||(G=>G&&"number"==typeof G.length)},8515:(Xt,tt,P)=>{"use strict";P.d(tt,{z:()=>a});const a=G=>G&&"number"==typeof G.length&&"function"!=typeof G},7043:(Xt,tt,P)=>{"use strict";function a(G){return"function"==typeof G}P.d(tt,{m:()=>a})},7830:(Xt,tt,P)=>{"use strict";function a(G){return null!==G&&"object"==typeof G}P.d(tt,{K:()=>a})},8955:(Xt,tt,P)=>{"use strict";function a(G){return!!G&&"function"!=typeof G.subscribe&&"function"==typeof G.then}P.d(tt,{t:()=>a})},2866:(Xt,tt,P)=>{"use strict";function a(G){return G&&"function"==typeof G.schedule}P.d(tt,{K:()=>a})},4843:(Xt,tt,P)=>{"use strict";P.d(tt,{z:()=>G,U:()=>$});var a=P(5379);function G(...xe){return $(xe)}function $(xe){return 0===xe.length?a.y:1===xe.length?xe[0]:function(se){return xe.reduce((Te,Ce)=>Ce(Te),se)}}},9249:(Xt,tt,P)=>{"use strict";P.d(tt,{s:()=>re});var a=P(3650),G=P(2782),xe=P(5430),se=P(3821),Ce=P(8515),ye=P(8955),oe=P(7830);const re=ue=>{if(ue&&"function"==typeof ue[se.L])return(ue=>Q=>{const Pe=ue[se.L]();if("function"!=typeof Pe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Pe.subscribe(Q)})(ue);if((0,Ce.z)(ue))return(0,a.V)(ue);if((0,ye.t)(ue))return(ue=>Q=>(ue.then(Pe=>{Q.closed||(Q.next(Pe),Q.complete())},Pe=>Q.error(Pe)).then(null,G.z),Q))(ue);if(ue&&"function"==typeof ue[xe.hZ])return(ue=>Q=>{const Pe=ue[xe.hZ]();for(;;){let rt;try{rt=Pe.next()}catch(fe){return Q.error(fe),Q}if(rt.done){Q.complete();break}if(Q.next(rt.value),Q.closed)break}return"function"==typeof Pe.return&&Q.add(()=>{Pe.return&&Pe.return()}),Q})(ue);{const Pe=`You provided ${(0,oe.K)(ue)?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Pe)}}},3650:(Xt,tt,P)=>{"use strict";P.d(tt,{V:()=>a});const a=G=>$=>{for(let xe=0,we=G.length;xe<we&&!$.closed;xe++)$.next(G[xe]);$.complete()}},863:(Xt,tt,P)=>{var a={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function G($){if(!P.o(a,$))return Promise.resolve().then(()=>{var se=new Error("Cannot find module '"+$+"'");throw se.code="MODULE_NOT_FOUND",se});var xe=a[$],we=xe[0];return Promise.all(xe.slice(1).map(P.e)).then(()=>P(we))}G.keys=()=>Object.keys(a),G.id=863,Xt.exports=G},655:(Xt,tt,P)=>{"use strict";function xe(ce,le){var he={};for(var Ae in ce)Object.prototype.hasOwnProperty.call(ce,Ae)&&le.indexOf(Ae)<0&&(he[Ae]=ce[Ae]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(Ae=Object.getOwnPropertySymbols(ce);ze<Ae.length;ze++)le.indexOf(Ae[ze])<0&&Object.prototype.propertyIsEnumerable.call(ce,Ae[ze])&&(he[Ae[ze]]=ce[Ae[ze]])}return he}function we(ce,le,he,Ae){var Rt,ze=arguments.length,Be=ze<3?le:null===Ae?Ae=Object.getOwnPropertyDescriptor(le,he):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Be=Reflect.decorate(ce,le,he,Ae);else for(var Gt=ce.length-1;Gt>=0;Gt--)(Rt=ce[Gt])&&(Be=(ze<3?Rt(Be):ze>3?Rt(le,he,Be):Rt(le,he))||Be);return ze>3&&Be&&Object.defineProperty(le,he,Be),Be}function Ce(ce,le,he,Ae){return new(he||(he=Promise))(function(Be,Rt){function Gt(Xe){try{Qe(Ae.next(Xe))}catch(qe){Rt(qe)}}function at(Xe){try{Qe(Ae.throw(Xe))}catch(qe){Rt(qe)}}function Qe(Xe){Xe.done?Be(Xe.value):function ze(Be){return Be instanceof he?Be:new he(function(Rt){Rt(Be)})}(Xe.value).then(Gt,at)}Qe((Ae=Ae.apply(ce,le||[])).next())})}P.d(tt,{_T:()=>xe,gn:()=>we,mG:()=>Ce})},9808:(Xt,tt,P)=>{"use strict";P.d(tt,{mr:()=>Je,Ov:()=>Br,ez:()=>_o,K0:()=>Te,Do:()=>Ye,V_:()=>oe,Ye:()=>be,S$:()=>ve,mk:()=>Oe,sg:()=>ct,O5:()=>R,RF:()=>Z,n9:()=>de,ED:()=>Ne,tP:()=>sn,b0:()=>te,lw:()=>Ce,EM:()=>Yr,JF:()=>_i,NF:()=>Wr,PM:()=>ci,w_:()=>se,bD:()=>li,q:()=>$,Mx:()=>Ue,HT:()=>we});var a=P(6435);let G=null;function $(){return G}function we(N){G||(G=N)}class se{}const Te=new a.OlP("DocumentToken");let Ce=(()=>{class N{historyGo(F){throw new Error("Not implemented")}}return N.\u0275fac=function(F){return new(F||N)},N.\u0275prov=a.Yz7({token:N,factory:function(){return function ye(){return(0,a.LFG)(re)}()},providedIn:"platform"}),N})();const oe=new a.OlP("Location Initialized");let re=(()=>{class N extends Ce{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(F){const ie=$().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("popstate",F,!1),()=>ie.removeEventListener("popstate",F)}onHashChange(F){const ie=$().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("hashchange",F,!1),()=>ie.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,ie,Ve){ue()?this._history.pushState(F,ie,Ve):this.location.hash=Ve}replaceState(F,ie,Ve){ue()?this._history.replaceState(F,ie,Ve):this.location.hash=Ve}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return N.\u0275fac=function(F){return new(F||N)(a.LFG(Te))},N.\u0275prov=a.Yz7({token:N,factory:function(){return function Q(){return new re((0,a.LFG)(Te))}()},providedIn:"platform"}),N})();function ue(){return!!window.history.pushState}function Pe(N,K){if(0==N.length)return K;if(0==K.length)return N;let F=0;return N.endsWith("/")&&F++,K.startsWith("/")&&F++,2==F?N+K.substring(1):1==F?N+K:N+"/"+K}function rt(N){const K=N.match(/#|\?|$/),F=K&&K.index||N.length;return N.slice(0,F-("/"===N[F-1]?1:0))+N.slice(F)}function fe(N){return N&&"?"!==N[0]?"?"+N:N}let ve=(()=>{class N{historyGo(F){throw new Error("Not implemented")}}return N.\u0275fac=function(F){return new(F||N)},N.\u0275prov=a.Yz7({token:N,factory:function(){return function ge(N){const K=(0,a.LFG)(Te).location;return new te((0,a.LFG)(Ce),K&&K.origin||"")}()},providedIn:"root"}),N})();const Je=new a.OlP("appBaseHref");let te=(()=>{class N extends ve{constructor(F,ie){if(super(),this._platformLocation=F,this._removeListenerFns=[],null==ie&&(ie=this._platformLocation.getBaseHrefFromDOM()),null==ie)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ie}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Pe(this._baseHref,F)}path(F=!1){const ie=this._platformLocation.pathname+fe(this._platformLocation.search),Ve=this._platformLocation.hash;return Ve&&F?`${ie}${Ve}`:ie}pushState(F,ie,Ve,pt){const kt=this.prepareExternalUrl(Ve+fe(pt));this._platformLocation.pushState(F,ie,kt)}replaceState(F,ie,Ve,pt){const kt=this.prepareExternalUrl(Ve+fe(pt));this._platformLocation.replaceState(F,ie,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var ie,Ve;null===(Ve=(ie=this._platformLocation).historyGo)||void 0===Ve||Ve.call(ie,F)}}return N.\u0275fac=function(F){return new(F||N)(a.LFG(Ce),a.LFG(Je,8))},N.\u0275prov=a.Yz7({token:N,factory:N.\u0275fac}),N})(),Ye=(()=>{class N extends ve{constructor(F,ie){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=ie&&(this._baseHref=ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let ie=this._platformLocation.hash;return null==ie&&(ie="#"),ie.length>0?ie.substring(1):ie}prepareExternalUrl(F){const ie=Pe(this._baseHref,F);return ie.length>0?"#"+ie:ie}pushState(F,ie,Ve,pt){let kt=this.prepareExternalUrl(Ve+fe(pt));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.pushState(F,ie,kt)}replaceState(F,ie,Ve,pt){let kt=this.prepareExternalUrl(Ve+fe(pt));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.replaceState(F,ie,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var ie,Ve;null===(Ve=(ie=this._platformLocation).historyGo)||void 0===Ve||Ve.call(ie,F)}}return N.\u0275fac=function(F){return new(F||N)(a.LFG(Ce),a.LFG(Je,8))},N.\u0275prov=a.Yz7({token:N,factory:N.\u0275fac}),N})(),be=(()=>{class N{constructor(F,ie){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=F;const Ve=this._platformStrategy.getBaseHref();this._platformLocation=ie,this._baseHref=rt(Le(Ve)),this._platformStrategy.onPopState(pt=>{this._subject.emit({url:this.path(!0),pop:!0,state:pt.state,type:pt.type})})}path(F=!1){return this.normalize(this._platformStrategy.path(F))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(F,ie=""){return this.path()==this.normalize(F+fe(ie))}normalize(F){return N.stripTrailingSlash(function ot(N,K){return N&&K.startsWith(N)?K.substring(N.length):K}(this._baseHref,Le(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._platformStrategy.prepareExternalUrl(F)}go(F,ie="",Ve=null){this._platformStrategy.pushState(Ve,"",F,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+fe(ie)),Ve)}replaceState(F,ie="",Ve=null){this._platformStrategy.replaceState(Ve,"",F,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+fe(ie)),Ve)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(F=0){var ie,Ve;null===(Ve=(ie=this._platformStrategy).historyGo)||void 0===Ve||Ve.call(ie,F)}onUrlChange(F){this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ie=>{this._notifyUrlChangeListeners(ie.url,ie.state)}))}_notifyUrlChangeListeners(F="",ie){this._urlChangeListeners.forEach(Ve=>Ve(F,ie))}subscribe(F,ie,Ve){return this._subject.subscribe({next:F,error:ie,complete:Ve})}}return N.normalizeQueryParams=fe,N.joinWithSlash=Pe,N.stripTrailingSlash=rt,N.\u0275fac=function(F){return new(F||N)(a.LFG(ve),a.LFG(Ce))},N.\u0275prov=a.Yz7({token:N,factory:function(){return function je(){return new be((0,a.LFG)(ve),(0,a.LFG)(Ce))}()},providedIn:"root"}),N})();function Le(N){return N.replace(/\/index.html$/,"")}function Ue(N,K){K=encodeURIComponent(K);for(const F of N.split(";")){const ie=F.indexOf("="),[Ve,pt]=-1==ie?[F,""]:[F.slice(0,ie),F.slice(ie+1)];if(Ve.trim()===K)return decodeURIComponent(pt)}return null}let Oe=(()=>{class N{constructor(F,ie,Ve,pt){this._iterableDiffers=F,this._keyValueDiffers=ie,this._ngEl=Ve,this._renderer=pt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(ie=>this._toggleClass(ie.key,ie.currentValue)),F.forEachChangedItem(ie=>this._toggleClass(ie.key,ie.currentValue)),F.forEachRemovedItem(ie=>{ie.previousValue&&this._toggleClass(ie.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(ie=>{if("string"!=typeof ie.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(ie.item)}`);this._toggleClass(ie.item,!0)}),F.forEachRemovedItem(ie=>this._toggleClass(ie.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(ie=>this._toggleClass(ie,!0)):Object.keys(F).forEach(ie=>this._toggleClass(ie,!!F[ie])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(ie=>this._toggleClass(ie,!1)):Object.keys(F).forEach(ie=>this._toggleClass(ie,!1)))}_toggleClass(F,ie){(F=F.trim())&&F.split(/\s+/g).forEach(Ve=>{ie?this._renderer.addClass(this._ngEl.nativeElement,Ve):this._renderer.removeClass(this._ngEl.nativeElement,Ve)})}}return N.\u0275fac=function(F){return new(F||N)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},N.\u0275dir=a.lG2({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),N})();class lt{constructor(K,F,ie,Ve){this.$implicit=K,this.ngForOf=F,this.index=ie,this.count=Ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ct=(()=>{class N{constructor(F,ie,Ve){this._viewContainer=F,this._template=ie,this._differs=Ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const ie=this._viewContainer;F.forEachOperation((Ve,pt,kt)=>{if(null==Ve.previousIndex)ie.createEmbeddedView(this._template,new lt(Ve.item,this._ngForOf,-1,-1),null===kt?void 0:kt);else if(null==kt)ie.remove(null===pt?void 0:pt);else if(null!==pt){const Bt=ie.get(pt);ie.move(Bt,kt),bn(Bt,Ve)}});for(let Ve=0,pt=ie.length;Ve<pt;Ve++){const Bt=ie.get(Ve).context;Bt.index=Ve,Bt.count=pt,Bt.ngForOf=this._ngForOf}F.forEachIdentityChange(Ve=>{bn(ie.get(Ve.currentIndex),Ve)})}static ngTemplateContextGuard(F,ie){return!0}}return N.\u0275fac=function(F){return new(F||N)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},N.\u0275dir=a.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),N})();function bn(N,K){N.context.$implicit=K.item}let R=(()=>{class N{constructor(F,ie){this._viewContainer=F,this._context=new B,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ie}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){X("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){X("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,ie){return!0}}return N.\u0275fac=function(F){return new(F||N)(a.Y36(a.s_b),a.Y36(a.Rgc))},N.\u0275dir=a.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),N})();class B{constructor(){this.$implicit=null,this.ngIf=null}}function X(N,K){if(K&&!K.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,a.AaK)(K)}'.`)}class pe{constructor(K,F){this._viewContainerRef=K,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(K){K&&!this._created?this.create():!K&&this._created&&this.destroy()}}let Z=(()=>{class N{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(F)}_matchCase(F){const ie=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ie,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ie}_updateDefaultCases(F){if(this._defaultViews&&F!==this._defaultUsed){this._defaultUsed=F;for(let ie=0;ie<this._defaultViews.length;ie++)this._defaultViews[ie].enforceState(F)}}}return N.\u0275fac=function(F){return new(F||N)},N.\u0275dir=a.lG2({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),N})(),de=(()=>{class N{constructor(F,ie,Ve){this.ngSwitch=Ve,Ve._addCase(),this._view=new pe(F,ie)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return N.\u0275fac=function(F){return new(F||N)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Z,9))},N.\u0275dir=a.lG2({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),N})(),Ne=(()=>{class N{constructor(F,ie,Ve){Ve._addDefault(new pe(F,ie))}}return N.\u0275fac=function(F){return new(F||N)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Z,9))},N.\u0275dir=a.lG2({type:N,selectors:[["","ngSwitchDefault",""]]}),N})(),sn=(()=>{class N{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(F){if(F.ngTemplateOutlet){const ie=this._viewContainerRef;this._viewRef&&ie.remove(ie.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ie.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return N.\u0275fac=function(F){return new(F||N)(a.Y36(a.s_b))},N.\u0275dir=a.lG2({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),N})();class Cr{createSubscription(K,F){return K.subscribe({next:F,error:ie=>{throw ie}})}dispose(K){K.unsubscribe()}onDestroy(K){K.unsubscribe()}}class Nr{createSubscription(K,F){return K.then(F,ie=>{throw ie})}dispose(K){}onDestroy(K){}}const ei=new Nr,Pi=new Cr;let Br=(()=>{class N{constructor(F){this._ref=F,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,ie=>this._updateLatestValue(F,ie))}_selectStrategy(F){if((0,a.QGY)(F))return ei;if((0,a.F4k)(F))return Pi;throw function er(N,K){return new a.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,ie){F===this._obj&&(this._latestValue=ie,this._ref.markForCheck())}}return N.\u0275fac=function(F){return new(F||N)(a.Y36(a.sBO,16))},N.\u0275pipe=a.Yjl({name:"async",type:N,pure:!1}),N})(),_o=(()=>{class N{}return N.\u0275fac=function(F){return new(F||N)},N.\u0275mod=a.oAB({type:N}),N.\u0275inj=a.cJS({}),N})();const li="browser";function Wr(N){return N===li}function ci(N){return"server"===N}let Yr=(()=>{class N{}return N.\u0275prov=(0,a.Yz7)({token:N,providedIn:"root",factory:()=>new ss((0,a.LFG)(Te),window)}),N})();class ss{constructor(K,F){this.document=K,this.window=F,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const F=function os(N,K){const F=N.getElementById(K)||N.getElementsByName(K)[0];if(F)return F;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const ie=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let Ve=ie.currentNode;for(;Ve;){const pt=Ve.shadowRoot;if(pt){const kt=pt.getElementById(K)||pt.querySelector(`[name="${K}"]`);if(kt)return kt}Ve=ie.nextNode()}}return null}(this.document,K);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=K)}}scrollToElement(K){const F=K.getBoundingClientRect(),ie=F.left+this.window.pageXOffset,Ve=F.top+this.window.pageYOffset,pt=this.offset();this.window.scrollTo(ie-pt[0],Ve-pt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=vi(this.window.history)||vi(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch(K){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(K){return!1}}}function vi(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class _i{}},6435:(Xt,tt,P)=>{"use strict";P.d(tt,{deG:()=>zi,tb:()=>gE,AFp:()=>dE,ip1:()=>cE,CZH:()=>u_,hGG:()=>uw,z2F:()=>g_,sBO:()=>WI,Sil:()=>TI,_Vd:()=>Qm,EJc:()=>DI,SBq:()=>Jp,qLn:()=>Rc,vpe:()=>Ju,tBr:()=>_u,XFs:()=>tn,OlP:()=>fi,zs3:()=>wa,ZZ4:()=>b_,aQg:()=>I_,soG:()=>c_,YKP:()=>I0,h0i:()=>Qh,PXZ:()=>VI,R0b:()=>hu,FiY:()=>wi,Lbi:()=>pE,g9A:()=>fE,Qsj:()=>Ib,FYo:()=>y0,JOm:()=>va,tp0:()=>ol,Rgc:()=>rg,dDg:()=>_E,q4F:()=>_0,GfV:()=>v0,s_b:()=>ty,ifc:()=>Kn,eFA:()=>IE,G48:()=>zI,Gpc:()=>fe,X6Q:()=>GI,_c5:()=>aw,VLi:()=>kI,c2e:()=>mE,zSh:()=>td,wAp:()=>nr,vHH:()=>te,cg1:()=>_d,kL8:()=>Xu,dqk:()=>Mn,sIi:()=>od,CqO:()=>Yu,QGY:()=>_m,F4k:()=>Ca,RDi:()=>K,AaK:()=>Q,qOj:()=>id,TTD:()=>li,_Bn:()=>p0,xp6:()=>Sf,uIk:()=>fp,Tol:()=>xm,ekj:()=>Fp,Suo:()=>j0,Xpm:()=>ae,lG2:()=>On,Yz7:()=>on,cJS:()=>gn,oAB:()=>cn,Yjl:()=>gr,Y36:()=>Ri,_UZ:()=>Tp,GkF:()=>Bh,BQk:()=>Vh,ynx:()=>Lh,qZA:()=>Fh,TgZ:()=>kh,EpF:()=>za,n5z:()=>An,LFG:()=>qr,$8M:()=>br,$Z:()=>wp,NdJ:()=>fc,CRH:()=>H0,oxw:()=>bm,ALo:()=>P0,lcZ:()=>N0,Hsn:()=>gc,F$t:()=>ld,Q6J:()=>Dp,DdM:()=>T0,VKq:()=>S0,iGM:()=>$0,MAs:()=>Sh,CHM:()=>Ma,LSH:()=>xc,Akn:()=>Ta,YNc:()=>Ch,W1O:()=>Y0,_uU:()=>Nm,Oqu:()=>$p,hij:()=>zh,Gf:()=>U0});var a=P(8929),G=P(2654),$=P(6498),xe=P(6787),we=P(1762);class Te{constructor(r,s){this.subjectFactory=r,this.selector=s}call(r,s){const{selector:u}=this,c=this.subjectFactory(),h=u(c).subscribe(r);return h.add(s.subscribe(c)),h}}var Ce=P(4327);function ye(){return new a.xQ}function re(n){for(let r in n)if(n[r]===re)return r;throw Error("Could not find renamed property on target object.")}function ue(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Q(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Q).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Pe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const rt=re({__forward_ref__:re});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return Q(this())},n}function ve(n){return ge(n)?n():n}function ge(n){return"function"==typeof n&&n.hasOwnProperty(rt)&&n.__forward_ref__===fe}class te extends Error{constructor(r,s){super(function Ye(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function be(n){return"string"==typeof n?n:null==n?"":String(n)}function je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():be(n)}function ce(n,r){const s=r?` in ${r}`:"";throw new te(-201,`No provider for ${je(n)} found${s}`)}function Ke(n,r){null==n&&function ut(n,r,s,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${s} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function on(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gn(n){return{providers:n.providers||[],imports:n.imports||[]}}function It(n){return Pn(n,Xn)||Pn(n,Hn)}function Pn(n,r){return n.hasOwnProperty(r)?n[r]:null}function pn(n){return n&&(n.hasOwnProperty(Bn)||n.hasOwnProperty(wn))?n[Bn]:null}const Xn=re({\u0275prov:re}),Bn=re({\u0275inj:re}),Hn=re({ngInjectableDef:re}),wn=re({ngInjectorDef:re});var tn=(()=>((tn=tn||{})[tn.Default=0]="Default",tn[tn.Host=1]="Host",tn[tn.Self=2]="Self",tn[tn.SkipSelf=4]="SkipSelf",tn[tn.Optional=8]="Optional",tn))();let qn;function hr(n){const r=qn;return qn=n,r}function Tr(n,r,s){const u=It(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&tn.Optional?null:void 0!==r?r:void ce(Q(n),"Injector")}function en(n){return{toString:n}.toString()}var Yt=(()=>((Yt=Yt||{})[Yt.OnPush=0]="OnPush",Yt[Yt.Default=1]="Default",Yt))(),Kn=(()=>{return(n=Kn||(Kn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Kn;var n})();const Pr="undefined"!=typeof globalThis&&globalThis,ir="undefined"!=typeof window&&window,ln="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mn=Pr||"undefined"!=typeof global&&global||ir||ln,Dt={},Pt=[],mn=re({\u0275cmp:re}),Ut=re({\u0275dir:re}),Qt=re({\u0275pipe:re}),Fe=re({\u0275mod:re}),_e=re({\u0275fac:re}),$e=re({__NG_ELEMENT_ID__:re});let nt=0;function ae(n){return en(()=>{const s={},u={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Yt.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Pt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Kn.Emulated,id:"c",styles:n.styles||Pt,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,h=n.features,v=n.pipes;return u.id+=nt++,u.inputs=an(n.inputs,s),u.outputs=an(n.outputs),h&&h.forEach(I=>I(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(De):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(it):null,u})}function De(n){return $n(n)||function Sn(n){return n[Ut]||null}(n)}function it(n){return function In(n){return n[Qt]||null}(n)}const Nt={};function cn(n){return en(()=>{const r={type:n.type,bootstrap:n.bootstrap||Pt,declarations:n.declarations||Pt,imports:n.imports||Pt,exports:n.exports||Pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Nt[n.id]=n.type),r})}function an(n,r){if(null==n)return Dt;const s={};for(const u in n)if(n.hasOwnProperty(u)){let c=n[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=u,r&&(r[c]=h)}return s}const On=ae;function gr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function $n(n){return n[mn]||null}function Sr(n,r){const s=n[Fe]||null;if(!s&&!0===r)throw new Error(`Type ${Q(n)} does not have '\u0275mod' property.`);return s}const X=16,Z=18;function wt(n){return Array.isArray(n)&&"object"==typeof n[1]}function Zt(n){return Array.isArray(n)&&!0===n[1]}function sn(n){return 0!=(8&n.flags)}function Dn(n){return 2==(2&n.flags)}function er(n){return 1==(1&n.flags)}function Cr(n){return null!==n.template}function Nr(n){return 0!=(512&n[2])}function ui(n,r){return n.hasOwnProperty(_e)?n[_e]:null}class _o{constructor(r,s,u){this.previousValue=r,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function li(){return ti}function ti(n){return n.type.prototype.ngOnChanges&&(n.setInput=Li),ao}function ao(){const n=ci(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Dt)n.previous=r;else for(let u in r)s[u]=r[u];n.current=null,this.ngOnChanges(r)}}function Li(n,r,s,u){const c=ci(n)||function Qi(n,r){return n[Wr]=r}(n,{previous:Dt,current:null}),h=c.current||(c.current={}),v=c.previous,I=this.declaredInputs[s],A=v[I];h[I]=new _o(A&&A.currentValue,r,v===Dt),n[u]=r}li.ngInherit=!0;const Wr="__ngSimpleChanges__";function ci(n){return n[Wr]||null}let N;function K(n){N=n}function Ve(n){return!!n.listen}const pt={createRenderer:(n,r)=>function F(){return void 0!==N?N:"undefined"!=typeof document?document:void 0}()};function Bt(n){for(;Array.isArray(n);)n=n[0];return n}function _r(n,r){return Bt(r[n])}function Un(n,r){return Bt(r[n.index])}function L(n,r){return n.data[r]}function g(n,r){return n[r]}function k(n,r){const s=r[n];return wt(s)?s:s[0]}function ee(n){return 4==(4&n[2])}function gt(n){return 128==(128&n[2])}function M(n,r){return null==r?null:n[r]}function S(n){n[Z]=0}function C(n,r){n[5]+=r;let s=n,u=n[3];for(;null!==u&&(1===r&&1===s[5]||-1===r&&0===s[5]);)u[5]+=r,s=u,u=u[3]}const z={lFrame:Qs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function di(){return z.bindingsEnabled}function Mt(){return z.lFrame.lView}function Er(){return z.lFrame.tView}function Ma(n){return z.lFrame.contextLView=n,n[8]}function Gr(){let n=pu();for(;null!==n&&64===n.type;)n=n.parent;return n}function pu(){return z.lFrame.currentTNode}function Ji(n,r){const s=z.lFrame;s.currentTNode=n,s.isParent=r}function uo(){return z.lFrame.isParent}function ps(){z.lFrame.isParent=!1}function Ks(){return z.isInCheckNoChangesMode}function Ts(n){z.isInCheckNoChangesMode=n}function Ei(){const n=z.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Rs(){return z.lFrame.bindingIndex++}function Zs(n){const r=z.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function el(n,r){const s=z.lFrame;s.bindingIndex=s.bindingRootIndex=n,bo(r)}function bo(n){z.lFrame.currentDirectiveIndex=n}function Us(){return z.lFrame.currentQueryIndex}function ta(n){z.lFrame.currentQueryIndex=n}function Xs(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function na(n,r,s){if(s&tn.SkipSelf){let c=r,h=n;for(;!(c=c.parent,null!==c||s&tn.Host||(c=Xs(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;r=c,n=h}const u=z.lFrame=ia();return u.currentTNode=r,u.lView=n,!0}function ra(n){const r=ia(),s=n[1];z.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ia(){const n=z.lFrame,r=null===n?null:n.child;return null===r?Qs(n):r}function Qs(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function qa(){const n=z.lFrame;return z.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Oa=qa;function sa(){const n=qa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vi(){return z.lFrame.selectedIndex}function Os(n){z.lFrame.selectedIndex=n}function zr(){const n=z.lFrame;return L(n.tView,n.selectedIndex)}function Js(n,r){for(let s=r.directiveStart,u=r.directiveEnd;s<u;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:A,ngAfterViewChecked:j,ngOnDestroy:q}=h;v&&(n.contentHooks||(n.contentHooks=[])).push(-s,v),I&&((n.contentHooks||(n.contentHooks=[])).push(s,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,I)),A&&(n.viewHooks||(n.viewHooks=[])).push(-s,A),j&&((n.viewHooks||(n.viewHooks=[])).push(s,j),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,j)),null!=q&&(n.destroyHooks||(n.destroyHooks=[])).push(s,q)}}function Io(n,r,s){ua(n,r,3,s)}function aa(n,r,s,u){(3&n[2])===s&&ua(n,r,s,u)}function as(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function ua(n,r,s,u){const h=null!=u?u:-1,v=r.length-1;let I=0;for(let A=void 0!==u?65535&n[Z]:0;A<v;A++)if("number"==typeof r[A+1]){if(I=r[A],null!=u&&I>=u)break}else r[A]<0&&(n[Z]+=65536),(I<h||-1==h)&&(ka(n,s,r,A),n[Z]=(4294901760&n[Z])+A+2),A++}function ka(n,r,s,u){const c=s[u]<0,h=s[u+1],I=n[c?-s[u]:s[u]];if(c){if(n[2]>>11<n[Z]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(I)}finally{}}}else try{h.call(I)}finally{}}class bi{constructor(r,s,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Qr(n,r,s){const u=Ve(n);let c=0;for(;c<s.length;){const h=s[c];if("number"==typeof h){if(0!==h)break;c++;const v=s[c++],I=s[c++],A=s[c++];u?n.setAttribute(r,I,A,v):r.setAttributeNS(v,I,A)}else{const v=h,I=s[++c];wo(v)?u&&n.setProperty(r,v,I):u?n.setAttribute(r,v,I):r.setAttribute(v,I),c++}}return c}function ca(n){return 3===n||4===n||6===n}function wo(n){return 64===n.charCodeAt(0)}function co(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let u=0;u<r.length;u++){const c=r[u];"number"==typeof c?s=c:0===s||Do(n,s,c,null,-1===s||2===s?r[++u]:null)}}return n}function Do(n,r,s,u,c){let h=0,v=n.length;if(-1===r)v=-1;else for(;h<n.length;){const I=n[h++];if("number"==typeof I){if(I===r){v=-1;break}if(I>r){v=h-1;break}}}for(;h<n.length;){const I=n[h];if("number"==typeof I)break;if(I===s){if(null===u)return void(null!==c&&(n[h+1]=c));if(u===n[h+1])return void(n[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==v&&(n.splice(v,0,r),h=v+1),n.splice(h++,0,s),null!==u&&n.splice(h++,0,u),null!==c&&n.splice(h++,0,c)}function js(n){return-1!==n}function ho(n){return 32767&n}function Ns(n,r){let s=function Si(n){return n>>16}(n),u=r;for(;s>0;)u=u[15],s--;return u}let ys=!0;function to(n){const r=ys;return ys=n,r}let ts=0;function vn(n,r){const s=Uo(n,r);if(-1!==s)return s;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,Vn(u.data,n),Vn(r,null),Vn(u.blueprint,null));const c=dn(n,r),h=n.injectorIndex;if(js(c)){const v=ho(c),I=Ns(c,r),A=I[1].data;for(let j=0;j<8;j++)r[h+j]=I[v+j]|A[v+j]}return r[h+8]=c,h}function Vn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Uo(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function dn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,u=null,c=r;for(;null!==c;){const h=c[1],v=h.type;if(u=2===v?h.declTNode:1===v?c[6]:null,null===u)return-1;if(s++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function Et(n,r,s){!function da(n,r,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty($e)&&(u=s[$e]),null==u&&(u=s[$e]=ts++);const c=255&u;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function Gi(n,r,s){if(s&tn.Optional)return n;ce(r,"NodeInjector")}function D(n,r,s,u){if(s&tn.Optional&&void 0===u&&(u=null),0==(s&(tn.Self|tn.Host))){const c=n[9],h=hr(void 0);try{return c?c.get(r,u,s&tn.Optional):Tr(r,u,s&tn.Optional)}finally{hr(h)}}return Gi(u,r,s)}function E(n,r,s,u=tn.Default,c){if(null!==n){const h=function He(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty($e)?n[$e]:void 0;return"number"==typeof r?r>=0?255&r:O:r}(s);if("function"==typeof h){if(!na(r,n,u))return u&tn.Host?Gi(c,s,u):D(r,s,u,c);try{const v=h(u);if(null!=v||u&tn.Optional)return v;ce(s)}finally{Oa()}}else if("number"==typeof h){let v=null,I=Uo(n,r),A=-1,j=u&tn.Host?r[X][6]:null;for((-1===I||u&tn.SkipSelf)&&(A=-1===I?dn(n,r):r[I+8],-1!==A&&un(u,!1)?(v=r[1],I=ho(A),r=Ns(A,r)):I=-1);-1!==I;){const q=r[1];if(St(h,I,q.data)){const Ie=U(I,r,s,v,u,j);if(Ie!==_)return Ie}A=r[I+8],-1!==A&&un(u,r[1].data[I+8]===j)&&St(h,I,r)?(v=q,I=ho(A),r=Ns(A,r)):I=-1}}}return D(r,s,u,c)}const _={};function O(){return new ur(Gr(),Mt())}function U(n,r,s,u,c,h){const v=r[1],I=v.data[n+8],q=J(I,v,s,null==u?Dn(I)&&ys:u!=v&&0!=(3&I.type),c&tn.Host&&h===I);return null!==q?Me(r,v,q,I):_}function J(n,r,s,u,c){const h=n.providerIndexes,v=r.data,I=1048575&h,A=n.directiveStart,q=h>>20,Ge=c?I+q:n.directiveEnd;for(let ht=u?I:I+q;ht<Ge;ht++){const xt=v[ht];if(ht<A&&s===xt||ht>=A&&xt.type===s)return ht}if(c){const ht=v[A];if(ht&&Cr(ht)&&ht.type===s)return A}return null}function Me(n,r,s,u){let c=n[s];const h=r.data;if(function Za(n){return n instanceof bi}(c)){const v=c;v.resolving&&function ot(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new te(-200,`Circular dependency in DI detected for ${n}${s}`)}(je(h[s]));const I=to(v.canSeeViewProviders);v.resolving=!0;const A=v.injectImpl?hr(v.injectImpl):null;na(n,u,tn.Default);try{c=n[s]=v.factory(void 0,h,n,u),r.firstCreatePass&&s>=u.directiveStart&&function Na(n,r,s){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(u){const v=ti(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,v),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,v)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==A&&hr(A),to(I),v.resolving=!1,Oa()}}return c}function St(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function un(n,r){return!(n&tn.Self||n&tn.Host&&r)}class ur{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,u){return E(this._tNode,this._lView,r,u,s)}}function An(n){return en(()=>{const r=n.prototype.constructor,s=r[_e]||_n(r),u=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==u;){const h=c[_e]||_n(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function _n(n){return ge(n)?()=>{const r=_n(ve(n));return r&&r()}:ui(n)}function br(n){return function Ft(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const u=s.length;let c=0;for(;c<u;){const h=s[c];if(ca(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof s[c];)c++;else{if(h===r)return s[c+1];c+=2}}}return null}(Gr(),n)}const Ar="__parameters__";function jo(n,r,s){return en(()=>{const u=function Ss(n){return function(...s){if(n){const u=n(...s);for(const c in u)this[c]=u[c]}}}(r);function c(...h){if(this instanceof c)return u.apply(this,h),this;const v=new c(...h);return I.annotation=v,I;function I(A,j,q){const Ie=A.hasOwnProperty(Ar)?A[Ar]:Object.defineProperty(A,Ar,{value:[]})[Ar];for(;Ie.length<=q;)Ie.push(null);return(Ie[q]=Ie[q]||[]).push(v),A}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class fi{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=on({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zi=new fi("AnalyzeForEntryComponents");function xi(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let u=n[s];Array.isArray(u)?(r===n&&(r=n.slice(0,s)),xi(u,r)):r!==n&&r.push(u)}return r}function go(n,r){n.forEach(s=>Array.isArray(s)?go(s,r):r(s))}function fn(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function yu(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Ho(n,r){const s=[];for(let u=0;u<n;u++)s.push(r);return s}function bs(n,r,s){let u=xo(n,r);return u>=0?n[1|u]=s:(u=~u,function La(n,r,s,u){let c=n.length;if(c==r)n.push(s,u);else if(1===c)n.push(u,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=u}}(n,u,r,s)),u}function ns(n,r){const s=xo(n,r);if(s>=0)return n[1|s]}function xo(n,r){return function pa(n,r,s){let u=0,c=n.length>>s;for(;c!==u;){const h=u+(c-u>>1),v=n[h<<s];if(r===v)return h<<s;v>r?c=h:u=h+1}return~(c<<s)}(n,r,1)}const Kt={},Jt="__NG_DI_FLAG__",Jn="ngTempTokenPath",mr=/\n/gm,rs="__source",Mi=re({provide:String,useValue:re});let Go;function As(n){const r=Go;return Go=n,r}function ma(n,r=tn.Default){if(void 0===Go)throw new te(203,"");return null===Go?Tr(n,void 0,r):Go.get(n,r&tn.Optional?null:void 0,r)}function qr(n,r=tn.Default){return(function xr(){return qn}()||ma)(ve(n),r)}const mo=qr;function bc(n){const r=[];for(let s=0;s<n.length;s++){const u=ve(n[s]);if(Array.isArray(u)){if(0===u.length)throw new te(900,"");let c,h=tn.Default;for(let v=0;v<u.length;v++){const I=u[v],A=il(I);"number"==typeof A?-1===A?c=I.token:h|=A:c=I}r.push(qr(c,h))}else r.push(qr(u))}return r}function zo(n,r){return n[Jt]=r,n.prototype[Jt]=r,n}function il(n){return n[Jt]}const _u=zo(jo("Inject",n=>({token:n})),-1),wi=zo(jo("Optional"),8),ol=zo(jo("SkipSelf"),4);class Fl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ya(n){return n instanceof Fl?n.changingThisBreaksApplicationSecurity:n}const vt=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ls=(()=>((ls=ls||{})[ls.NONE=0]="NONE",ls[ls.HTML=1]="HTML",ls[ls.STYLE=2]="STYLE",ls[ls.SCRIPT=3]="SCRIPT",ls[ls.URL=4]="URL",ls[ls.RESOURCE_URL=5]="RESOURCE_URL",ls))();function xc(n){const r=function Mu(){const n=Mt();return n&&n[12]}();return r?r.sanitize(ls.URL,n)||"":function eu(n,r){const s=function wu(n){return n instanceof Fl&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?ya(n):function jn(n){return(n=String(n)).match(vt)||n.match(xn)?n:"unsafe:"+n}(be(n))}const sg="__ngContext__";function Fs(n,r){n[sg]=r}function lf(n){const r=function $l(n){return n[sg]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function pl(n){return n.ngOriginalError}function dg(n,...r){n.error(...r)}class Rc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),u=function cg(n){return n&&n.ngErrorLogger||dg}(r);u(this._console,"ERROR",r),s&&u(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&pl(r);for(;s&&pl(s);)s=pl(s);return s||null}}const yy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Mn))();function $a(n){return n instanceof Function?n():n}var va=(()=>((va=va||{})[va.Important=1]="Important",va[va.DashCase=2]="DashCase",va))();function Gd(n,r){return undefined(n,r)}function Pc(n){const r=n[3];return Zt(r)?r[3]:r}function pf(n){return yg(n[13])}function gf(n){return yg(n[4])}function yg(n){for(;null!==n&&!Zt(n);)n=n[4];return n}function zl(n,r,s,u,c){if(null!=u){let h,v=!1;Zt(u)?h=u:wt(u)&&(v=!0,u=u[0]);const I=Bt(u);0===n&&null!==s?null==c?wg(r,s,I):No(r,s,I,c||null,!0):1===n&&null!==s?No(r,s,I,c||null,!0):2===n?function Ou(n,r,s){const u=Yl(n,r);u&&function Dg(n,r,s,u){Ve(n)?n.removeChild(r,s,u):r.removeChild(s)}(n,u,r,s)}(r,I,v):3===n&&r.destroyNode(I),null!=h&&function bf(n,r,s,u,c){const h=s[7];h!==Bt(s)&&zl(r,n,u,h,c);for(let I=10;I<s.length;I++){const A=s[I];Ua(A[1],A,n,r,u,h)}}(r,n,h,s,c)}}function yf(n,r,s){if(Ve(n))return n.createElement(r,s);{const u=null!==s?function _i(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===u?n.createElement(r):n.createElementNS(u,r)}}function bg(n,r){const s=n[9],u=s.indexOf(r),c=r[3];1024&r[2]&&(r[2]&=-1025,C(c,-1)),s.splice(u,1)}function Wd(n,r){if(n.length<=10)return;const s=10+r,u=n[s];if(u){const c=u[17];null!==c&&c!==n&&bg(c,u),r>0&&(n[s-1][4]=u[4]);const h=yu(n,10+r);!function by(n,r){Ua(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const v=h[19];null!==v&&v.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function vf(n,r){if(!(256&r[2])){const s=r[11];Ve(s)&&s.destroyNode&&Ua(n,r,s,3,null,null),function _g(n){let r=n[13];if(!r)return Tt(n[1],n);for(;r;){let s=null;if(wt(r))s=r[13];else{const u=r[10];u&&(s=u)}if(!s){for(;r&&!r[4]&&r!==n;)wt(r)&&Tt(r[1],r),r=r[3];null===r&&(r=n),wt(r)&&Tt(r[1],r),s=r&&r[4]}r=s}}(r)}}function Tt(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function _a(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let u=0;u<s.length;u+=2){const c=r[s[u]];if(!(c instanceof bi)){const h=s[u+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const I=c[h[v]],A=h[v+1];try{A.call(I)}finally{}}else try{h.call(c)}finally{}}}}(n,r),function Yd(n,r){const s=n.cleanup,u=r[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const v=s[h+1],I="function"==typeof v?v(r):Bt(r[v]),A=u[c=s[h+2]],j=s[h+3];"boolean"==typeof j?I.removeEventListener(s[h],A,j):j>=0?u[c=j]():u[c=-j].unsubscribe(),h+=2}else{const v=u[c=s[h+1]];s[h].call(v)}if(null!==u){for(let h=c+1;h<u.length;h++)u[h]();r[7]=null}}(n,r),1===r[1].type&&Ve(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Zt(r[3])){s!==r[3]&&bg(s,r);const u=r[19];null!==u&&u.detachView(n)}}}function Ig(n,r,s){return function Wl(n,r,s){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return s[0];if(2&u.flags){const c=n.data[u.directiveStart].encapsulation;if(c===Kn.None||c===Kn.Emulated)return null}return Un(u,s)}(n,r.parent,s)}function No(n,r,s,u,c){Ve(n)?n.insertBefore(r,s,u,c):r.insertBefore(s,u,c)}function wg(n,r,s){Ve(n)?n.appendChild(r,s):r.appendChild(s)}function Ru(n,r,s,u,c){null!==u?No(n,r,s,u,c):wg(n,r,s)}function Yl(n,r){return Ve(n)?n.parentNode(r):r.parentNode}function Is(n,r,s){return Kd(n,r,s)}let Kd=function qd(n,r,s){return 40&n.type?Un(n,s):null};function kc(n,r,s,u){const c=Ig(n,u,r),h=r[11],I=Is(u.parent||r[6],u,r);if(null!=c)if(Array.isArray(s))for(let A=0;A<s.length;A++)Ru(h,c,s[A],I,!1);else Ru(h,c,s,I,!1)}function Zd(n,r){if(null!==r){const s=r.type;if(3&s)return Un(r,n);if(4&s)return ql(-1,n[r.index]);if(8&s){const u=r.child;if(null!==u)return Zd(n,u);{const c=n[r.index];return Zt(c)?ql(-1,c):Bt(c)}}if(32&s)return Gd(r,n)()||Bt(n[r.index]);{const u=_f(n,r);return null!==u?Array.isArray(u)?u[0]:Zd(Pc(n[X]),u):Zd(n,r.next)}}return null}function _f(n,r){return null!==r?n[X][6].projection[r.projection]:null}function ql(n,r){const s=10+n+1;if(s<r.length){const u=r[s],c=u[1].firstChild;if(null!==c)return Zd(u,c)}return r[7]}function ru(n,r,s,u,c,h,v){for(;null!=s;){const I=u[s.index],A=s.type;if(v&&0===r&&(I&&Fs(Bt(I),u),s.flags|=4),64!=(64&s.flags))if(8&A)ru(n,r,s.child,u,c,h,!1),zl(r,n,c,I,h);else if(32&A){const j=Gd(s,u);let q;for(;q=j();)zl(r,n,c,q,h);zl(r,n,c,I,h)}else 16&A?Ef(n,r,u,s,c,h):zl(r,n,c,I,h);s=v?s.projectionNext:s.next}}function Ua(n,r,s,u,c,h){ru(s,u,n.firstChild,r,c,h,!1)}function Ef(n,r,s,u,c,h){const v=s[X],A=v[6].projection[u.projection];if(Array.isArray(A))for(let j=0;j<A.length;j++)zl(r,n,c,A[j],h);else ru(n,r,A,v[3],c,h,!0)}function wf(n,r,s){Ve(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Df(n,r,s){Ve(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Cf(n,r,s){let u=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=r.length;if(c+h===u||n.charCodeAt(c+h)<=32)return c}s=c+1}}const Xd="ng-template";function Lc(n,r,s){let u=0;for(;u<n.length;){let c=n[u++];if(s&&"class"===c){if(c=n[u],-1!==Cf(c.toLowerCase(),r,0))return!0}else if(1===c){for(;u<n.length&&"string"==typeof(c=n[u++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function Pu(n){return 4===n.type&&n.value!==Xd}function Ty(n,r,s){return r===(4!==n.type||s?n.value:Xd)}function Tg(n,r,s){let u=4;const c=n.attrs||[],h=function Nu(n){for(let r=0;r<n.length;r++)if(ca(n[r]))return r;return n.length}(c);let v=!1;for(let I=0;I<r.length;I++){const A=r[I];if("number"!=typeof A){if(!v)if(4&u){if(u=2|1&u,""!==A&&!Ty(n,A,s)||""===A&&1===r.length){if(Ea(u))return!1;v=!0}}else{const j=8&u?A:r[++I];if(8&u&&null!==n.attrs){if(!Lc(n.attrs,j,s)){if(Ea(u))return!1;v=!0}continue}const Ie=Sy(8&u?"class":A,c,Pu(n),s);if(-1===Ie){if(Ea(u))return!1;v=!0;continue}if(""!==j){let Ge;Ge=Ie>h?"":c[Ie+1].toLowerCase();const ht=8&u?Ge:null;if(ht&&-1!==Cf(ht,j,0)||2&u&&j!==Ge){if(Ea(u))return!1;v=!0}}}}else{if(!v&&!Ea(u)&&!Ea(A))return!1;if(v&&Ea(A))continue;v=!1,u=A|1&u}}return Ea(u)||v}function Ea(n){return 0==(1&n)}function Sy(n,r,s,u){if(null===r)return-1;let c=0;if(u||!s){let h=!1;for(;c<r.length;){const v=r[c];if(v===n)return c;if(3===v||6===v)h=!0;else{if(1===v||2===v){let I=r[++c];for(;"string"==typeof I;)I=r[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=h?1:2}return-1}return function gl(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const u=n[s];if("number"==typeof u)return-1;if(u===r)return s;s++}return-1}(r,n)}function Sg(n,r,s=!1){for(let u=0;u<r.length;u++)if(Tg(n,r[u],s))return!0;return!1}function Ag(n,r){e:for(let s=0;s<r.length;s++){const u=r[s];if(n.length===u.length){for(let c=0;c<n.length;c++)if(n[c]!==u[c])continue e;return!0}}return!1}function xg(n,r){return n?":not("+r.trim()+")":r}function Ay(n){let r=n[0],s=1,u=2,c="",h=!1;for(;s<n.length;){let v=n[s];if("string"==typeof v)if(2&u){const I=n[++s];c+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&u?c+="."+v:4&u&&(c+=" "+v);else""!==c&&!Ea(v)&&(r+=xg(h,c),c=""),u=v,h=h||!Ea(u);s++}return""!==c&&(r+=xg(h,c)),r}const yr={};function Sf(n){Zl(Er(),Mt(),Vi()+n,Ks())}function Zl(n,r,s,u){if(!u)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&Io(r,h,s)}else{const h=n.preOrderHooks;null!==h&&aa(r,h,0,s)}Os(s)}function ml(n,r){return n<<17|r<<2}function Xo(n){return n>>17&32767}function Xl(n){return 2|n}function ba(n){return(131068&n)>>2}function Qd(n,r){return-131069&n|r<<2}function ku(n){return 1|n}function zc(n,r){const s=n.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const c=s[u],h=s[u+1];if(-1!==h){const v=n.data[h];ta(c),v.contentQueries(2,r[h],h)}}}function Jl(n,r,s,u,c,h,v,I,A,j){const q=r.blueprint.slice();return q[0]=c,q[2]=140|u,S(q),q[3]=q[15]=n,q[8]=s,q[10]=v||n&&n[10],q[11]=I||n&&n[11],q[12]=A||n&&n[12]||null,q[9]=j||n&&n[9]||null,q[6]=h,q[X]=2==r.type?n[X]:q,q}function ec(n,r,s,u,c){let h=n.data[r];if(null===h)h=function Wc(n,r,s,u,c){const h=pu(),v=uo(),A=n.data[r]=function Lf(n,r,s,u,c,h){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,s,r,u,c);return null===n.firstChild&&(n.firstChild=A),null!==h&&(v?null==h.child&&null!==A.parent&&(h.child=A):null===h.next&&(h.next=A)),A}(n,r,s,u,c),function Jo(){return z.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=u,h.attrs=c;const v=function Bo(){const n=z.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return Ji(h,!0),h}function tc(n,r,s,u){if(0===s)return-1;const c=r.length;for(let h=0;h<s;h++)r.push(u),n.blueprint.push(u),n.data.push(null);return c}function yl(n,r,s){ra(r);try{const u=n.viewQuery;null!==u&&ed(1,u,s);const c=n.template;null!==c&&nh(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&zc(n,r),n.staticViewQueries&&ed(2,n.viewQuery,s);const h=n.components;null!==h&&function Bg(n,r){for(let s=0;s<r.length;s++)Yy(n,r[s])}(r,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,sa()}}function nc(n,r,s,u){const c=r[2];if(256==(256&c))return;ra(r);const h=Ks();try{S(r),function ni(n){return z.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&nh(n,r,s,2,u);const v=3==(3&c);if(!h)if(v){const j=n.preOrderCheckHooks;null!==j&&Io(r,j,null)}else{const j=n.preOrderHooks;null!==j&&aa(r,j,0,null),as(r,0)}if(function qf(n){for(let r=pf(n);null!==r;r=gf(r)){if(!r[2])continue;const s=r[9];for(let u=0;u<s.length;u++){const c=s[u],h=c[3];0==(1024&c[2])&&C(h,1),c[2]|=1024}}}(r),function Yf(n){for(let r=pf(n);null!==r;r=gf(r))for(let s=10;s<r.length;s++){const u=r[s],c=u[1];gt(u)&&nc(c,u,c.template,u[8])}}(r),null!==n.contentQueries&&zc(n,r),!h)if(v){const j=n.contentCheckHooks;null!==j&&Io(r,j)}else{const j=n.contentHooks;null!==j&&aa(r,j,1),as(r,1)}!function Of(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const c=s[u];if(c<0)Os(~c);else{const h=c,v=s[++u],I=s[++u];el(v,h),I(2,r[h])}}}finally{Os(-1)}}(n,r);const I=n.components;null!==I&&function Vg(n,r){for(let s=0;s<r.length;s++)Bu(n,r[s])}(r,I);const A=n.viewQuery;if(null!==A&&ed(2,A,u),!h)if(v){const j=n.viewCheckHooks;null!==j&&Io(r,j)}else{const j=n.viewHooks;null!==j&&aa(r,j,2),as(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),h||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,C(r[3],-1))}finally{sa()}}function $y(n,r,s,u){const c=r[10],h=!Ks(),v=ee(r);try{h&&!v&&c.begin&&c.begin(),v&&yl(n,r,u),nc(n,r,s,u)}finally{h&&!v&&c.end&&c.end()}}function nh(n,r,s,u,c){const h=Vi(),v=2&u;try{Os(-1),v&&r.length>20&&Zl(n,r,20,Ks()),s(u,c)}finally{Os(h)}}function ws(n,r,s){if(sn(r)){const c=r.directiveEnd;for(let h=r.directiveStart;h<c;h++){const v=n.data[h];v.contentQueries&&v.contentQueries(1,s[h],h)}}}function Pf(n,r,s){!di()||(function Kc(n,r,s,u){const c=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||vn(s,r),Fs(u,r);const v=s.initialInputs;for(let I=c;I<h;I++){const A=n.data[I],j=Cr(A);j&&zf(r,s,A);const q=Me(r,n,I,s);Fs(q,r),null!==v&&oh(0,I-c,q,A,0,v),j&&(k(s.index,r)[8]=q)}}(n,r,s,Un(s,r)),128==(128&s.flags)&&function Hf(n,r,s){const u=s.directiveStart,c=s.directiveEnd,v=s.index,I=function $o(){return z.lFrame.currentDirectiveIndex}();try{Os(v);for(let A=u;A<c;A++){const j=n.data[A],q=r[A];bo(A),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&Gf(j,q)}}finally{Os(-1),bo(I)}}(n,r,s))}function Nf(n,r,s=Un){const u=r.localNames;if(null!==u){let c=r.index+1;for(let h=0;h<u.length;h+=2){const v=u[h+1],I=-1===v?s(r,n):n[v];n[c++]=I}}}function $g(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=rh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function rh(n,r,s,u,c,h,v,I,A,j){const q=20+u,Ie=q+c,Ge=function Uy(n,r){const s=[];for(let u=0;u<r;u++)s.push(u<n?null:yr);return s}(q,Ie),ht="function"==typeof j?j():j;return Ge[1]={type:n,blueprint:Ge,template:s,queries:null,viewQuery:I,declTNode:r,data:Ge.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:A,consts:ht,incompleteFirstPass:!1}}function Ff(n,r,s,u){const c=Zf(r);null===s?c.push(u):(c.push(s),n.firstCreatePass&&Xf(n).push(u,c.length-1))}function Yc(n,r,s){for(let u in n)if(n.hasOwnProperty(u)){const c=n[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(r,c):s[u]=[r,c]}return s}function Uf(n,r,s,u){let c=!1;if(di()){const h=function Gy(n,r,s){const u=n.directiveRegistry;let c=null;if(u)for(let h=0;h<u.length;h++){const v=u[h];Sg(s,v.selectors,!1)&&(c||(c=[]),Et(vn(s,r),n,v.type),Cr(v)?(Hg(n,s),c.unshift(v)):c.push(v))}return c}(n,r,s),v=null===u?null:{"":-1};if(null!==h){c=!0,Gg(s,n.data.length,h.length);for(let q=0;q<h.length;q++){const Ie=h[q];Ie.providersResolver&&Ie.providersResolver(Ie)}let I=!1,A=!1,j=tc(n,r,h.length,null);for(let q=0;q<h.length;q++){const Ie=h[q];s.mergedAttrs=co(s.mergedAttrs,Ie.hostAttrs),rc(n,s,r,j,Ie),Wy(j,Ie,v),null!==Ie.contentQueries&&(s.flags|=8),(null!==Ie.hostBindings||null!==Ie.hostAttrs||0!==Ie.hostVars)&&(s.flags|=128);const Ge=Ie.type.prototype;!I&&(Ge.ngOnChanges||Ge.ngOnInit||Ge.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),I=!0),!A&&(Ge.ngOnChanges||Ge.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),A=!0),j++}!function qc(n,r){const u=r.directiveEnd,c=n.data,h=r.attrs,v=[];let I=null,A=null;for(let j=r.directiveStart;j<u;j++){const q=c[j],Ie=q.inputs,Ge=null===h||Pu(r)?null:Xc(Ie,h);v.push(Ge),I=Yc(Ie,j,I),A=Yc(q.outputs,j,A)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=16),I.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=v,r.inputs=I,r.outputs=A}(n,s)}v&&function zy(n,r,s){if(r){const u=n.localNames=[];for(let c=0;c<r.length;c+=2){const h=s[r[c+1]];if(null==h)throw new te(-301,!1);u.push(r[c],h)}}}(s,u,v)}return s.mergedAttrs=co(s.mergedAttrs,s.attrs),c}function jf(n,r,s,u,c,h){const v=h.hostBindings;if(v){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const A=~r.index;(function sh(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=A&&I.push(A),I.push(u,c,v)}}function Gf(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Hg(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Wy(n,r,s){if(s){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)s[r.exportAs[u]]=n;Cr(r)&&(s[""]=n)}}function Gg(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function rc(n,r,s,u,c){n.data[u]=c;const h=c.factory||(c.factory=ui(c.type)),v=new bi(h,Cr(c),null);n.blueprint[u]=v,s[u]=v,jf(n,r,0,u,tc(n,s,c.hostVars,yr),c)}function zf(n,r,s){const u=Un(r,n),c=$g(s),h=n[10],v=uh(n,Jl(n,c,null,s.onPush?64:16,u,r,h,h.createRenderer(u,s),null,null));n[r.index]=v}function io(n,r,s,u,c,h){const v=Un(n,r);!function Zc(n,r,s,u,c,h,v){if(null==h)Ve(n)?n.removeAttribute(r,c,s):r.removeAttribute(c);else{const I=null==v?be(h):v(h,u||"",c);Ve(n)?n.setAttribute(r,c,I,s):s?r.setAttributeNS(s,c,I):r.setAttribute(c,I)}}(r[11],v,h,n.value,s,u,c)}function oh(n,r,s,u,c,h){const v=h[r];if(null!==v){const I=u.setInput;for(let A=0;A<v.length;){const j=v[A++],q=v[A++],Ie=v[A++];null!==I?u.setInput(s,Ie,j,q):s[q]=Ie}}}function Xc(n,r){let s=null,u=0;for(;u<r.length;){const c=r[u];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[u+1])),u+=2}else u+=2;else u+=4}return s}function Wf(n,r,s,u){return new Array(n,!0,!1,r,null,0,u,s,null,null)}function Bu(n,r){const s=k(r,n);if(gt(s)){const u=s[1];80&s[2]?nc(u,s,u.template,s[8]):s[5]>0&&ah(s)}}function ah(n){for(let u=pf(n);null!==u;u=gf(u))for(let c=10;c<u.length;c++){const h=u[c];if(1024&h[2]){const v=h[1];nc(v,h,v.template,h[8])}else h[5]>0&&ah(h)}const s=n[1].components;if(null!==s)for(let u=0;u<s.length;u++){const c=k(s[u],n);gt(c)&&c[5]>0&&ah(c)}}function Yy(n,r){const s=k(r,n),u=s[1];(function Kf(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(u,s),yl(u,s,s[8])}function uh(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Qc(n){for(;n;){n[2]|=64;const r=Pc(n);if(Nr(n)&&!r)return n;n=r}return null}function ic(n,r,s){const u=r[10];u.begin&&u.begin();try{nc(n,r,n.template,s)}catch(c){throw ch(r,c),c}finally{u.end&&u.end()}}function lh(n){!function Jc(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],u=lf(s),c=u[1];$y(c,u,c.template,s)}}(n[8])}function ed(n,r,s){ta(0),r(n,s)}const Ky=(()=>Promise.resolve(null))();function Zf(n){return n[7]||(n[7]=[])}function Xf(n){return n.cleanup||(n.cleanup=[])}function ch(n,r){const s=n[9],u=s?s.get(Rc,null):null;u&&u.handleError(r)}function qg(n,r,s,u,c){for(let h=0;h<s.length;){const v=s[h++],I=s[h++],A=r[v],j=n.data[v];null!==j.setInput?j.setInput(A,c,u,I):A[I]=c}}function Ia(n,r,s){const u=_r(r,n);!function vg(n,r,s){Ve(n)?n.setValue(r,s):r.textContent=s}(n[11],u,s)}function dh(n,r,s){let u=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==r)for(let v=0;v<r.length;v++){const I=r[v];"number"==typeof I?h=I:1==h?c=Pe(c,I):2==h&&(u=Pe(u,I+": "+r[++v]+";"))}s?n.styles=u:n.stylesWithoutHost=u,s?n.classes=c:n.classesWithoutHost=c}const hh=new fi("INJECTOR",-1);class fh{get(r,s=Kt){if(s===Kt){const u=new Error(`NullInjectorError: No provider for ${Q(r)}!`);throw u.name="NullInjectorError",u}return s}}const td=new fi("Set Injector scope."),vl={},oc={};let Ha;function ph(){return void 0===Ha&&(Ha=new fh),Ha}function _l(n,r=null,s=null,u){const c=El(n,r,s,u);return c._resolveInjectorDefTypes(),c}function El(n,r=null,s=null,u){return new Zg(n,s,r||ph(),u)}class Zg{constructor(r,s,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&go(s,I=>this.processProvider(I,r,s)),go([r],I=>this.processInjectorType(I,[],h)),this.records.set(hh,Uu(void 0,this));const v=this.records.get(td);this.scope=null!=v?v.value:null,this.source=c||("object"==typeof r?null:Q(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Kt,u=tn.Default){this.assertNotDestroyed();const c=As(this),h=hr(void 0);try{if(!(u&tn.SkipSelf)){let I=this.records.get(r);if(void 0===I){const A=function Xg(n){return"function"==typeof n||"object"==typeof n&&n instanceof fi}(r)&&It(r);I=A&&this.injectableDefInScope(A)?Uu($u(r),vl):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(u&tn.Self?ph():this.parent).get(r,s=u&tn.Optional&&s===Kt?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Jn]=v[Jn]||[]).unshift(Q(r)),c)throw v;return function sl(n,r,s,u){const c=n[Jn];throw r[rs]&&c.unshift(r[rs]),n.message=function Ad(n,r,s,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=Q(r);if(Array.isArray(r))c=r.map(Q).join(" -> ");else if("object"==typeof r){let h=[];for(let v in r)if(r.hasOwnProperty(v)){let I=r[v];h.push(v+":"+("string"==typeof I?JSON.stringify(I):Q(I)))}c=`{${h.join(", ")}}`}return`${s}${u?"("+u+")":""}[${c}]: ${n.replace(mr,"\n  ")}`}("\n"+n.message,c,s,u),n.ngTokenPath=c,n[Jn]=null,n}(v,r,"R3InjectorError",this.source)}throw v}finally{hr(h),As(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((u,c)=>r.push(Q(c))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processInjectorType(r,s,u){if(!(r=ve(r)))return!1;let c=pn(r);const h=null==c&&r.ngModule||void 0,v=void 0===h?r:h,I=-1!==u.indexOf(v);if(void 0!==h&&(c=pn(h)),null==c)return!1;if(null!=c.imports&&!I){let q;u.push(v);try{go(c.imports,Ie=>{this.processInjectorType(Ie,s,u)&&(void 0===q&&(q=[]),q.push(Ie))})}finally{}if(void 0!==q)for(let Ie=0;Ie<q.length;Ie++){const{ngModule:Ge,providers:ht}=q[Ie];go(ht,xt=>this.processProvider(xt,Ge,ht||Pt))}}this.injectorDefTypes.add(v);const A=ui(v)||(()=>new v);this.records.set(v,Uu(A,vl));const j=c.providers;if(null!=j&&!I){const q=r;go(j,Ie=>this.processProvider(Ie,q,j))}return void 0!==h&&void 0!==r.providers}processProvider(r,s,u){let c=ac(r=ve(r))?r:ve(r&&r.provide);const h=function Qy(n,r,s){return mh(n)?Uu(void 0,n.useValue):Uu(gh(n),vl)}(r);if(ac(r)||!0!==r.multi)this.records.get(c);else{let v=this.records.get(c);v||(v=Uu(void 0,vl,!0),v.factory=()=>bc(v.multi),this.records.set(c,v)),c=r,v.multi.push(r)}this.records.set(c,h)}hydrate(r,s){return s.value===vl&&(s.value=oc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function ev(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ve(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function $u(n){const r=It(n),s=null!==r?r.factory:ui(n);if(null!==s)return s;if(n instanceof fi)throw new te(204,!1);if(n instanceof Function)return function Xy(n){const r=n.length;if(r>0)throw Ho(r,"?"),new te(204,!1);const s=function Nn(n){const r=n&&(n[Xn]||n[Hn]);if(r){const s=function Gn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new te(204,!1)}function gh(n,r,s){let u;if(ac(n)){const c=ve(n);return ui(c)||$u(c)}if(mh(n))u=()=>ve(n.useValue);else if(function Jy(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...bc(n.deps||[]));else if(function Jf(n){return!(!n||!n.useExisting)}(n))u=()=>qr(ve(n.useExisting));else{const c=ve(n&&(n.useClass||n.provide));if(!function tp(n){return!!n.deps}(n))return ui(c)||$u(c);u=()=>new c(...bc(n.deps))}return u}function Uu(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function mh(n){return null!==n&&"object"==typeof n&&Mi in n}function ac(n){return"function"==typeof n}let wa=(()=>{class n{static create(s,u){var c;if(Array.isArray(s))return _l({name:""},u,s,"");{const h=null!==(c=s.name)&&void 0!==c?c:"";return _l({name:h},s.parent,s.providers,h)}}}return n.THROW_IF_NOT_FOUND=Kt,n.NULL=new fh,n.\u0275prov=on({token:n,providedIn:"any",factory:()=>qr(hh)}),n.__NG_ELEMENT_ID__=-1,n})();function ap(n,r){Js(lf(n)[1],Gr())}function id(n){let r=function up(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const u=[n];for(;r;){let c;if(Cr(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new te(903,"");c=r.\u0275dir}if(c){if(s){u.push(c);const v=n;v.inputs=sd(n.inputs),v.declaredInputs=sd(n.declaredInputs),v.outputs=sd(n.outputs);const I=c.hostBindings;I&&av(n,I);const A=c.viewQuery,j=c.contentQueries;if(A&&lu(n,A),j&&lp(n,j),ue(n.inputs,c.inputs),ue(n.declaredInputs,c.declaredInputs),ue(n.outputs,c.outputs),Cr(c)&&c.data.animation){const q=n.data;q.animation=(q.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let v=0;v<h.length;v++){const I=h[v];I&&I.ngInherit&&I(n),I===id&&(s=!1)}}r=Object.getPrototypeOf(r)}!function ov(n){let r=0,s=null;for(let u=n.length-1;u>=0;u--){const c=n[u];c.hostVars=r+=c.hostVars,c.hostAttrs=co(c.hostAttrs,s=co(s,c.hostAttrs))}}(u)}function sd(n){return n===Dt?{}:n===Pt?[]:n}function lu(n,r){const s=n.viewQuery;n.viewQuery=s?(u,c)=>{r(u,c),s(u,c)}:r}function lp(n,r){const s=n.contentQueries;n.contentQueries=s?(u,c,h)=>{r(u,c,h),s(u,c,h)}:r}function av(n,r){const s=n.hostBindings;n.hostBindings=s?(u,c)=>{r(u,c),s(u,c)}:r}let uc=null;function lc(){if(!uc){const n=Mn.Symbol;if(n&&n.iterator)uc=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const u=r[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(uc=u)}}}return uc}function od(n){return!!ad(n)&&(Array.isArray(n)||!(n instanceof Map)&&lc()in n)}function ad(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Da(n,r,s){return n[r]=s}function Ls(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function fp(n,r,s,u){const c=Mt();return Ls(c,Rs(),r)&&(Er(),io(zr(),c,n,r,s,u)),fp}function Ch(n,r,s,u,c,h,v,I){const A=Mt(),j=Er(),q=n+20,Ie=j.firstCreatePass?function mp(n,r,s,u,c,h,v,I,A){const j=r.consts,q=ec(r,n,4,v||null,M(j,I));Uf(r,s,q,M(j,A)),Js(r,q);const Ie=q.tViews=rh(2,q,u,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,j);return null!==r.queries&&(r.queries.template(r,q),Ie.queries=r.queries.embeddedTView(q)),q}(q,j,A,r,s,u,c,h,v):j.data[q];Ji(Ie,!1);const Ge=A[11].createComment("");kc(j,A,Ge,Ie),Fs(Ge,A),uh(A,A[q]=Wf(Ge,A,Ge,Ie)),er(Ie)&&Pf(j,A,Ie),null!=v&&Nf(A,Ie,I)}function Sh(n){return g(function Eo(){return z.lFrame.contextLView}(),20+n)}function Ri(n,r=tn.Default){const s=Mt();return null===s?qr(n,r):E(Gr(),s,ve(n),r)}function wp(){throw new Error("invalid")}function Dp(n,r,s){const u=Mt();return Ls(u,Rs(),r)&&function ro(n,r,s,u,c,h,v,I){const A=Un(r,s);let q,j=r.inputs;!I&&null!=j&&(q=j[u])?(qg(n,s,q,u,c),Dn(r)&&function Vf(n,r){const s=k(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(u=function ih(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),c=null!=v?v(c,r.value||"",u):c,Ve(h)?h.setProperty(A,u,c):wo(u)||(A.setProperty?A.setProperty(u,c):A[u]=c))}(Er(),zr(),u,n,r,u[11],s,!1),Dp}function Cp(n,r,s,u,c){const v=c?"class":"style";qg(n,s,r.inputs[v],v,u)}function kh(n,r,s,u){const c=Mt(),h=Er(),v=20+n,I=c[11],A=c[v]=yf(I,r,function oi(){return z.lFrame.currentNamespace}()),j=h.firstCreatePass?function vm(n,r,s,u,c,h,v){const I=r.consts,j=ec(r,n,2,c,M(I,h));return Uf(r,s,j,M(I,v)),null!==j.attrs&&dh(j,j.attrs,!1),null!==j.mergedAttrs&&dh(j,j.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,j),j}(v,h,c,0,r,s,u):h.data[v];Ji(j,!0);const q=j.mergedAttrs;null!==q&&Qr(I,A,q);const Ie=j.classes;null!==Ie&&Df(I,A,Ie);const Ge=j.styles;return null!==Ge&&wf(I,A,Ge),64!=(64&j.flags)&&kc(h,c,A,j),0===function nn(){return z.lFrame.elementDepthCount}()&&Fs(A,c),function fr(){z.lFrame.elementDepthCount++}(),er(j)&&(Pf(h,c,j),ws(h,j,c)),null!==u&&Nf(c,j),kh}function Fh(){let n=Gr();uo()?ps():(n=n.parent,Ji(n,!1));const r=n;!function $r(){z.lFrame.elementDepthCount--}();const s=Er();return s.firstCreatePass&&(Js(s,n),sn(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ps(n){return 0!=(16&n.flags)}(r)&&Cp(s,r,Mt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function nl(n){return 0!=(32&n.flags)}(r)&&Cp(s,r,Mt(),r.stylesWithoutHost,!1),Fh}function Tp(n,r,s,u){return kh(n,r,s,u),Fh(),Tp}function Lh(n,r,s){const u=Mt(),c=Er(),h=n+20,v=c.firstCreatePass?function X_(n,r,s,u,c){const h=r.consts,v=M(h,u),I=ec(r,n,8,"ng-container",v);return null!==v&&dh(I,v,!0),Uf(r,s,I,M(h,c)),null!==r.queries&&r.queries.elementStart(r,I),I}(h,c,u,r,s):c.data[h];Ji(v,!0);const I=u[h]=u[11].createComment("");return kc(c,u,I,v),Fs(I,u),er(v)&&(Pf(c,u,v),ws(c,v,u)),null!=s&&Nf(u,v),Lh}function Vh(){let n=Gr();const r=Er();return uo()?ps():(n=n.parent,Ji(n,!1)),r.firstCreatePass&&(Js(r,n),sn(n)&&r.queries.elementEnd(n)),Vh}function Bh(n,r,s){return Lh(n,r,s),Vh(),Bh}function za(){return Mt()}function _m(n){return!!n&&"function"==typeof n.then}function Ca(n){return!!n&&"function"==typeof n.subscribe}const Yu=Ca;function fc(n,r,s,u){const c=Mt(),h=Er(),v=Gr();return function Sp(n,r,s,u,c,h,v,I){const A=er(u),q=n.firstCreatePass&&Xf(n),Ie=r[8],Ge=Zf(r);let ht=!0;if(3&u.type||I){const yn=Un(u,r),Rn=I?I(yn):yn,Vt=Ge.length,tr=I?Vr=>I(Bt(Vr[u.index])):u.index;if(Ve(s)){let Vr=null;if(!I&&A&&(Vr=function yv(n,r,s,u){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const v=c[h];if(v===s&&c[h+1]===u){const I=r[7],A=c[h+2];return I.length>A?I[A]:null}"string"==typeof v&&(h+=2)}return null}(n,r,c,u.index)),null!==Vr)(Vr.__ngLastListenerFn__||Vr).__ngNextListenerFn__=h,Vr.__ngLastListenerFn__=h,ht=!1;else{h=pc(u,r,Ie,h,!1);const si=s.listen(Rn,c,h);Ge.push(h,si),q&&q.push(c,tr,Vt,Vt+1)}}else h=pc(u,r,Ie,h,!0),Rn.addEventListener(c,h,v),Ge.push(h),q&&q.push(c,tr,Vt,v)}else h=pc(u,r,Ie,h,!1);const xt=u.outputs;let rn;if(ht&&null!==xt&&(rn=xt[c])){const yn=rn.length;if(yn)for(let Rn=0;Rn<yn;Rn+=2){const xa=r[rn[Rn]][rn[Rn+1]].subscribe(h),Cd=Ge.length;Ge.push(h,xa),q&&q.push(c,u.index,Cd,-(Cd+1))}}}(h,c,c[11],v,n,r,!!s,u),fc}function Ap(n,r,s,u){try{return!1!==s(u)}catch(c){return ch(n,c),!1}}function pc(n,r,s,u,c){return function h(v){if(v===Function)return u;const I=2&n.flags?k(n.index,r):r;0==(32&r[2])&&Qc(I);let A=Ap(r,0,u,v),j=h.__ngNextListenerFn__;for(;j;)A=Ap(r,0,j,v)&&A,j=j.__ngNextListenerFn__;return c&&!1===A&&(v.preventDefault(),v.returnValue=!1),A}}function bm(n=1){return function Ka(n){return(z.lFrame.contextLView=function tl(n,r){for(;n>0;)r=r[15],n--;return r}(n,z.lFrame.contextLView))[8]}(n)}function Sl(n,r){let s=null;const u=function Vc(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let c=0;c<r.length;c++){const h=r[c];if("*"!==h){if(null===u?Sg(n,h,!0):Ag(u,h))return c}else s=c}return s}function ld(n){const r=Mt()[X][6];if(!r.projection){const u=r.projection=Ho(n?n.length:1,null),c=u.slice();let h=r.child;for(;null!==h;){const v=n?Sl(h,n):0;null!==v&&(c[v]?c[v].projectionNext=h:u[v]=h,c[v]=h),h=h.next}}}function gc(n,r=0,s){const u=Mt(),c=Er(),h=ec(c,20+n,16,null,s||null);null===h.projection&&(h.projection=r),ps(),64!=(64&h.flags)&&function Fc(n,r,s){Ef(r[11],0,r,s,Ig(n,s,r),Is(s.parent||r[6],s,r))}(c,u,h)}function Cm(n,r,s,u,c){const h=n[s+1],v=null===r;let I=u?Xo(h):ba(h),A=!1;for(;0!==I&&(!1===A||v);){const q=n[I+1];jh(n[I],r)&&(A=!0,n[I+1]=u?ku(q):Xl(q)),I=u?Xo(q):ba(q)}A&&(n[s+1]=u?Xl(h):ku(h))}function jh(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&xo(n,r)>=0}const Yi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Np(n){return n.substring(Yi.key,Yi.keyEnd)}function dd(n){return n.substring(Yi.value,Yi.valueEnd)}function hd(n,r){const s=Yi.textEnd;return s===r?-1:(r=Yi.keyEnd=function Ev(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,Yi.key=r,s),Fo(n,r,s))}function Wa(n,r){const s=Yi.textEnd;let u=Yi.key=Fo(n,r,s);return s===u?-1:(u=Yi.keyEnd=function Tm(n,r,s){let u;for(;r<s&&(45===(u=n.charCodeAt(r))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)r++;return r}(n,u,s),u=kp(n,u,s),u=Yi.value=Fo(n,u,s),u=Yi.valueEnd=function fd(n,r,s){let u=-1,c=-1,h=-1,v=r,I=v;for(;v<s;){const A=n.charCodeAt(v++);if(59===A)return I;34===A||39===A?I=v=cu(n,A,v,s):r===v-4&&85===h&&82===c&&76===u&&40===A?I=v=cu(n,41,v,s):A>32&&(I=v),h=c,c=u,u=-33&A}return I}(n,u,s),kp(n,u,s))}function mc(n){Yi.key=0,Yi.keyEnd=0,Yi.value=0,Yi.valueEnd=0,Yi.textEnd=n.length}function Fo(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function kp(n,r,s,u){return(r=Fo(n,r,s))<s&&r++,r}function cu(n,r,s,u){let c=-1,h=s;for(;h<u;){const v=n.charCodeAt(h++);if(v==r&&92!==c)return h;c=92==v&&92===c?0:v}throw new Error}function Fp(n,r){return function Qo(n,r,s,u){const c=Mt(),h=Er(),v=Zs(2);h.firstUpdatePass&&Lp(h,n,v,u),r!==yr&&Ls(c,v,r)&&Bp(h,h.data[Vi()],c,c[11],n,c[v+1]=function xl(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Q(ya(n)))),n}(r,s),u,v)}(n,r,null,!0),Fp}function Ta(n){Sa(pd,Am,n,!1)}function Am(n,r){for(let s=function Al(n){return mc(n),Wa(n,Fo(n,0,Yi.textEnd))}(r);s>=0;s=Wa(r,s))pd(n,Np(r),dd(r))}function xm(n){Sa(bs,Ya,n,!0)}function Ya(n,r){for(let s=function _v(n){return mc(n),hd(n,Fo(n,0,Yi.textEnd))}(r);s>=0;s=hd(r,s))bs(n,Np(r),!0)}function Sa(n,r,s,u){const c=Er(),h=Zs(2);c.firstUpdatePass&&Lp(c,null,h,u);const v=Mt();if(s!==yr&&Ls(v,h,s)){const I=c.data[Vi()];if(Pm(I,u)&&!Mm(c,h)){let A=u?I.classesWithoutHost:I.stylesWithoutHost;null!==A&&(s=Pe(A,s||"")),Cp(c,I,v,s,u)}else!function wv(n,r,s,u,c,h,v,I){c===yr&&(c=Pt);let A=0,j=0,q=0<c.length?c[0]:null,Ie=0<h.length?h[0]:null;for(;null!==q||null!==Ie;){const Ge=A<c.length?c[A+1]:void 0,ht=j<h.length?h[j+1]:void 0;let rn,xt=null;q===Ie?(A+=2,j+=2,Ge!==ht&&(xt=Ie,rn=ht)):null===Ie||null!==q&&q<Ie?(A+=2,xt=q):(j+=2,xt=Ie,rn=ht),null!==xt&&Bp(n,r,s,u,xt,rn,v,I),q=A<c.length?c[A]:null,Ie=j<h.length?h[j]:null}}(c,I,v,v[11],v[h+1],v[h+1]=function Vp(n,r,s){if(null==s||""===s)return Pt;const u=[],c=ya(s);if(Array.isArray(c))for(let h=0;h<c.length;h++)n(u,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&n(u,h,c[h]);else"string"==typeof c&&r(u,c);return u}(n,r,s),u,h)}}function Mm(n,r){return r>=n.expandoStartIndex}function Lp(n,r,s,u){const c=n.data;if(null===c[s+1]){const h=c[Vi()],v=Mm(n,s);Pm(h,u)&&null===r&&!v&&(r=!1),r=function bv(n,r,s,u){const c=function ea(n){const r=z.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=u?r.residualClasses:r.residualStyles;if(null===c)0===(u?r.classBindings:r.styleBindings)&&(s=yc(s=Hh(null,n,r,s,u),r.attrs,u),h=null);else{const v=r.directiveStylingLast;if(-1===v||n[v]!==c)if(s=Hh(c,n,r,s,u),null===h){let A=function Iv(n,r,s){const u=s?r.classBindings:r.styleBindings;if(0!==ba(u))return n[Xo(u)]}(n,r,u);void 0!==A&&Array.isArray(A)&&(A=Hh(null,n,r,A[1],u),A=yc(A,r.attrs,u),function Rm(n,r,s,u){n[Xo(s?r.classBindings:r.styleBindings)]=u}(n,r,u,A))}else h=function Om(n,r,s){let u;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)u=yc(u,n[h].hostAttrs,s);return yc(u,r.attrs,s)}(n,r,u)}return void 0!==h&&(u?r.residualClasses=h:r.residualStyles=h),s}(c,h,r,u),function Op(n,r,s,u,c,h){let v=h?r.classBindings:r.styleBindings,I=Xo(v),A=ba(v);n[u]=s;let q,j=!1;if(Array.isArray(s)){const Ie=s;q=Ie[1],(null===q||xo(Ie,q)>0)&&(j=!0)}else q=s;if(c)if(0!==A){const Ge=Xo(n[I+1]);n[u+1]=ml(Ge,I),0!==Ge&&(n[Ge+1]=Qd(n[Ge+1],u)),n[I+1]=function Mg(n,r){return 131071&n|r<<17}(n[I+1],u)}else n[u+1]=ml(I,0),0!==I&&(n[I+1]=Qd(n[I+1],u)),I=u;else n[u+1]=ml(A,0),0===I?I=u:n[A+1]=Qd(n[A+1],u),A=u;j&&(n[u+1]=Xl(n[u+1])),Cm(n,q,u,!0),Cm(n,q,u,!1),function Pp(n,r,s,u,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&xo(h,r)>=0&&(s[u+1]=ku(s[u+1]))}(r,q,n,u,h),v=ml(I,A),h?r.classBindings=v:r.styleBindings=v}(c,h,r,s,v,u)}}function Hh(n,r,s,u,c){let h=null;const v=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<v&&(h=r[I],u=yc(u,h.hostAttrs,c),h!==n);)I++;return null!==n&&(s.directiveStylingLast=I),u}function yc(n,r,s){const u=s?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const v=r[h];"number"==typeof v?c=v:c===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),bs(n,v,!!s||r[++h]))}return void 0===n?null:n}function pd(n,r,s){bs(n,r,ya(s))}function Bp(n,r,s,u,c,h,v,I){if(!(3&r.type))return;const A=n.data,j=A[I+1];Gh(function iu(n){return 1==(1&n)}(j)?du(A,r,s,c,ba(j),v):void 0)||(Gh(h)||function no(n){return 2==(2&n)}(j)&&(h=du(A,null,s,c,I,v)),function If(n,r,s,u,c){const h=Ve(n);if(r)c?h?n.addClass(s,u):s.classList.add(u):h?n.removeClass(s,u):s.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:va.DashCase;if(null==c)h?n.removeStyle(s,u,v):s.style.removeProperty(u);else{const I="string"==typeof c&&c.endsWith("!important");I&&(c=c.slice(0,-10),v|=va.Important),h?n.setStyle(s,u,c,v):s.style.setProperty(u,c,I?"important":"")}}}(u,v,_r(Vi(),s),c,h))}function du(n,r,s,u,c,h){const v=null===r;let I;for(;c>0;){const A=n[c],j=Array.isArray(A),q=j?A[1]:A,Ie=null===q;let Ge=s[c+1];Ge===yr&&(Ge=Ie?Pt:void 0);let ht=Ie?ns(Ge,u):q===u?Ge:void 0;if(j&&!Gh(ht)&&(ht=ns(A,u)),Gh(ht)&&(I=ht,v))return I;const xt=n[c+1];c=v?Xo(xt):ba(xt)}if(null!==r){let A=h?r.residualClasses:r.residualStyles;null!=A&&(I=ns(A,u))}return I}function Gh(n){return void 0!==n}function Pm(n,r){return 0!=(n.flags&(r?16:32))}function Nm(n,r=""){const s=Mt(),u=Er(),c=n+20,h=u.firstCreatePass?ec(u,c,1,r,null):u.data[c],v=s[c]=function mf(n,r){return Ve(n)?n.createText(r):n.createTextNode(r)}(s[11],r);kc(u,s,v,h),Ji(h,!1)}function $p(n){return zh("",n,""),$p}function zh(n,r,s){const u=Mt(),c=function Hu(n,r,s,u){return Ls(n,Rs(),s)?r+be(s)+u:yr}(u,n,r,s);return c!==yr&&Ia(u,Vi(),c),zh}const Zu=void 0;var vd=["en",[["a","p"],["AM","PM"],Zu],[["AM","PM"],Zu,Zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zu,"{1} 'at' {0}",Zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yd(n){const s=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let cs={};function _d(n){const r=function Pv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Wh(r);if(s)return s;const u=r.split("-")[0];if(s=Wh(u),s)return s;if("en"===u)return vd;throw new Error(`Missing locale data for the locale "${n}".`)}function Xu(n){return _d(n)[nr.PluralCase]}function Wh(n){return n in cs||(cs[n]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[n]),cs[n]}var nr=(()=>((nr=nr||{})[nr.LocaleId=0]="LocaleId",nr[nr.DayPeriodsFormat=1]="DayPeriodsFormat",nr[nr.DayPeriodsStandalone=2]="DayPeriodsStandalone",nr[nr.DaysFormat=3]="DaysFormat",nr[nr.DaysStandalone=4]="DaysStandalone",nr[nr.MonthsFormat=5]="MonthsFormat",nr[nr.MonthsStandalone=6]="MonthsStandalone",nr[nr.Eras=7]="Eras",nr[nr.FirstDayOfWeek=8]="FirstDayOfWeek",nr[nr.WeekendRange=9]="WeekendRange",nr[nr.DateFormat=10]="DateFormat",nr[nr.TimeFormat=11]="TimeFormat",nr[nr.DateTimeFormat=12]="DateTimeFormat",nr[nr.NumberSymbols=13]="NumberSymbols",nr[nr.NumberFormats=14]="NumberFormats",nr[nr.CurrencyCode=15]="CurrencyCode",nr[nr.CurrencySymbol=16]="CurrencySymbol",nr[nr.CurrencyName=17]="CurrencyName",nr[nr.Currencies=18]="Currencies",nr[nr.Directionality=19]="Directionality",nr[nr.PluralCase=20]="PluralCase",nr[nr.ExtraData=21]="ExtraData",nr))();const Yh="en-US";let Id=Yh;function jv(n,r,s,u,c){if(n=ve(n),Array.isArray(n))for(let h=0;h<n.length;h++)jv(n[h],r,s,u,c);else{const h=Er(),v=Mt();let I=ac(n)?n:ve(n.provide),A=gh(n);const j=Gr(),q=1048575&j.providerIndexes,Ie=j.directiveStart,Ge=j.providerIndexes>>20;if(ac(n)||!n.multi){const ht=new bi(A,c,Ri),xt=Gv(I,r,c?q:q+Ge,Ie);-1===xt?(Et(vn(j,v),h,I),Hv(h,n,r.length),r.push(I),j.directiveStart++,j.directiveEnd++,c&&(j.providerIndexes+=1048576),s.push(ht),v.push(ht)):(s[xt]=ht,v[xt]=ht)}else{const ht=Gv(I,r,q+Ge,Ie),xt=Gv(I,r,q,q+Ge),rn=ht>=0&&s[ht],yn=xt>=0&&s[xt];if(c&&!yn||!c&&!rn){Et(vn(j,v),h,I);const Rn=function mb(n,r,s,u,c){const h=new bi(n,s,Ri);return h.multi=[],h.index=r,h.componentProviders=0,f0(h,c,u&&!s),h}(c?gb:pb,s.length,c,u,A);!c&&yn&&(s[xt].providerFactory=Rn),Hv(h,n,r.length,0),r.push(I),j.directiveStart++,j.directiveEnd++,c&&(j.providerIndexes+=1048576),s.push(Rn),v.push(Rn)}else Hv(h,n,ht>-1?ht:xt,f0(s[c?xt:ht],A,!c&&u));!c&&u&&yn&&s[xt].componentProviders++}}}function Hv(n,r,s,u){const c=ac(r),h=function ep(n){return!!n.useClass}(r);if(c||h){const A=(h?ve(r.useClass):r).prototype.ngOnDestroy;if(A){const j=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const q=j.indexOf(s);-1===q?j.push(s,[u,A]):j[q+1].push(u,A)}else j.push(s,A)}}}function f0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Gv(n,r,s,u){for(let c=s;c<u;c++)if(r[c]===n)return c;return-1}function pb(n,r,s,u){return zv(this.multi,[])}function gb(n,r,s,u){const c=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=Me(s,s[1],this.providerFactory.index,u);h=I.slice(0,v),zv(c,h);for(let A=v;A<I.length;A++)h.push(I[A])}else h=[],zv(c,h);return h}function zv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function p0(n,r=[]){return s=>{s.providersResolver=(u,c)=>function fb(n,r,s){const u=Er();if(u.firstCreatePass){const c=Cr(n);jv(s,u.data,u.blueprint,c,!0),jv(r,u.data,u.blueprint,c,!1)}}(u,c?c(n):n,r)}}class g0{}class _b{resolveComponentFactory(r){throw function vb(n){const r=Error(`No component factory found for ${Q(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Qm=(()=>{class n{}return n.NULL=new _b,n})();function Eb(){return Xh(Gr(),Mt())}function Xh(n,r){return new Jp(Un(n,r))}let Jp=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Eb,n})();function bb(n){return n instanceof Jp?n.nativeElement:n}class y0{}let Ib=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Db(){const n=Mt(),s=k(Gr().index,n);return function wb(n){return n[11]}(wt(s)?s:n)}(),n})(),Cb=(()=>{class n{}return n.\u0275prov=on({token:n,providedIn:"root",factory:()=>null}),n})();class v0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const _0=new v0("13.2.7"),Wv={};function Jm(n,r,s,u,c=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&u.push(Bt(h)),Zt(h))for(let I=10;I<h.length;I++){const A=h[I],j=A[1].firstChild;null!==j&&Jm(A[1],A,j,u)}const v=s.type;if(8&v)Jm(n,r,s.child,u);else if(32&v){const I=Gd(s,r);let A;for(;A=I();)u.push(A)}else if(16&v){const I=_f(r,s);if(Array.isArray(I))u.push(...I);else{const A=Pc(r[X]);Jm(A[1],A,I,u,!0)}}s=c?s.projectionNext:s.next}return u}class eg{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Jm(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Zt(r)){const s=r[8],u=s?s.indexOf(this):-1;u>-1&&(Wd(r,u),yu(s,u))}this._attachedToViewContainer=!1}vf(this._lView[1],this._lView)}onDestroy(r){Ff(this._lView[1],this._lView,null,r)}markForCheck(){Qc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ic(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Wg(n,r,s){Ts(!0);try{ic(n,r,s)}finally{Ts(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new te(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wy(n,r){Ua(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new te(902,"");this._appRef=r}}class Tb extends eg{constructor(r){super(r),this._view=r}detectChanges(){lh(this._view)}checkNoChanges(){!function sc(n){Ts(!0);try{lh(n)}finally{Ts(!1)}}(this._view)}get context(){return null}}class E0 extends Qm{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=$n(r);return new Yv(s,this.ngModule)}}function b0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Yv extends g0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Tf(n){return n.map(Ay).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return b0(this.componentDef.inputs)}get outputs(){return b0(this.componentDef.outputs)}create(r,s,u,c){const h=(c=c||this.ngModule)?function Ab(n,r){return{get:(s,u,c)=>{const h=n.get(s,Wv,c);return h!==Wv||u===Wv?h:r.get(s,u,c)}}}(r,c.injector):r,v=h.get(y0,pt),I=h.get(Cb,null),A=v.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",q=u?function kf(n,r,s){if(Ve(n))return n.selectRootElement(r,s===Kn.ShadowDom);let u="string"==typeof r?n.querySelector(r):r;return u.textContent="",u}(A,u,this.componentDef.encapsulation):yf(v.createRenderer(null,this.componentDef),j,function Sb(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(j)),Ie=this.componentDef.onPush?576:528,Ge=function bh(n,r){return{components:[],scheduler:n||yy,clean:Ky,playerHandler:r||null,flags:0}}(),ht=rh(0,null,null,1,0,null,null,null,null,null),xt=Jl(null,ht,Ge,Ie,null,null,v,A,I,h);let rn,yn;ra(xt);try{const Rn=function sm(n,r,s,u,c,h){const v=s[1];s[20]=n;const A=ec(v,20,2,"#host",null),j=A.mergedAttrs=r.hostAttrs;null!==j&&(dh(A,j,!0),null!==n&&(Qr(c,n,j),null!==A.classes&&Df(c,n,A.classes),null!==A.styles&&wf(c,n,A.styles)));const q=u.createRenderer(n,r),Ie=Jl(s,$g(r),null,r.onPush?64:16,s[20],A,u,q,h||null,null);return v.firstCreatePass&&(Et(vn(A,s),v,r.type),Hg(v,A),Gg(A,s.length,1)),uh(s,Ie),s[20]=Ie}(q,this.componentDef,xt,v,A);if(q)if(u)Qr(A,q,["ng-version",_0.full]);else{const{attrs:Vt,classes:tr}=function Kl(n){const r=[],s=[];let u=1,c=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===c?""!==h&&r.push(h,n[++u]):8===c&&s.push(h);else{if(!Ea(c))break;c=h}u++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Vt&&Qr(A,q,Vt),tr&&tr.length>0&&Df(A,q,tr.join(" "))}if(yn=L(ht,20),void 0!==s){const Vt=yn.projection=[];for(let tr=0;tr<this.ngContentSelectors.length;tr++){const Vr=s[tr];Vt.push(null!=Vr?Array.from(Vr):null)}}rn=function Eh(n,r,s,u,c){const h=s[1],v=function Hy(n,r,s){const u=Gr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),rc(n,u,r,tc(n,r,1,null),s));const c=Me(r,n,u.directiveStart,u);Fs(c,r);const h=Un(u,r);return h&&Fs(h,r),c}(h,s,r);if(u.components.push(v),n[8]=v,c&&c.forEach(A=>A(v,r)),r.contentQueries){const A=Gr();r.contentQueries(1,v,A.directiveStart)}const I=Gr();return!h.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Os(I.index),jf(s[1],I,0,I.directiveStart,I.directiveEnd,r),Gf(r,v)),v}(Rn,this.componentDef,xt,Ge,[ap]),yl(ht,xt,null)}finally{sa()}return new Mb(this.componentType,rn,Xh(yn,xt),xt,yn)}}class Mb extends class yb{}{constructor(r,s,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new Tb(c),this.componentType=r}get injector(){return new ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Qh{}class I0{}const Jh=new Map;class C0 extends Qh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new E0(this);const u=Sr(r);this._bootstrapComponents=$a(u.bootstrap),this._r3Injector=El(r,s,[{provide:Qh,useValue:this},{provide:Qm,useValue:this.componentFactoryResolver}],Q(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=wa.THROW_IF_NOT_FOUND,u=tn.Default){return r===wa||r===Qh||r===hh?this:this._r3Injector.get(r,s,u)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class qv extends I0{constructor(r){super(),this.moduleType=r,null!==Sr(r)&&function Ob(n){const r=new Set;!function s(u){const c=Sr(u,!0),h=c.id;null!==h&&(function w0(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${Q(r)} vs ${Q(r.name)}`)}(h,Jh.get(h),u),Jh.set(h,u));const v=$a(c.imports);for(const I of v)r.has(I)||(r.add(I),s(I))}(n)}(r)}create(r){return new C0(this.moduleType,r)}}function T0(n,r,s){const u=Ei()+n,c=Mt();return c[u]===yr?Da(c,u,s?r.call(s):r()):function bl(n,r){return n[r]}(c,u)}function S0(n,r,s,u){return A0(Mt(),Ei(),n,r,s,u)}function A0(n,r,s,u,c,h){const v=r+s;return Ls(n,v,c)?Da(n,v+1,h?u.call(h,c):u(c)):function tg(n,r){const s=n[r];return s===yr?void 0:s}(n,v+1)}function P0(n,r){const s=Er();let u;const c=n+20;s.firstCreatePass?(u=function Ub(n,r){if(r)for(let s=r.length-1;s>=0;s--){const u=r[s];if(n===u.name)return u}}(r,s.pipeRegistry),s.data[c]=u,u.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,u.onDestroy)):u=s.data[c];const h=u.factory||(u.factory=ui(u.type)),v=hr(Ri);try{const I=to(!1),A=h();return to(I),function Th(n,r,s,u){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=u}(s,Mt(),c,A),A}finally{hr(v)}}function N0(n,r,s){const u=n+20,c=Mt(),h=g(c,u);return function ng(n,r){return n[1].data[r].pure}(c,u)?A0(c,Ei(),r,h.transform,s,h):h.transform(s)}function Kv(n){return r=>{setTimeout(n,void 0,r)}}const Ju=class Wb extends a.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,u){var c,h,v;let I=r,A=s||(()=>null),j=u;if(r&&"object"==typeof r){const Ie=r;I=null===(c=Ie.next)||void 0===c?void 0:c.bind(Ie),A=null===(h=Ie.error)||void 0===h?void 0:h.bind(Ie),j=null===(v=Ie.complete)||void 0===v?void 0:v.bind(Ie)}this.__isAsync&&(A=Kv(A),I&&(I=Kv(I)),j&&(j=Kv(j)));const q=super.subscribe({next:I,error:A,complete:j});return r instanceof G.w&&r.add(q),q}};function Yb(){return this._results[lc()]()}class Zv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=lc(),u=Zv.prototype;u[s]||(u[s]=Yb)}get changes(){return this._changes||(this._changes=new Ju)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const u=this;u.dirty=!1;const c=xi(r);(this._changesDetected=!function vs(n,r,s){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let c=n[u],h=r[u];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(u._results,c,s))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let rg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zb,n})();const qb=rg,Kb=class extends qb{constructor(r,s,u){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(r){const s=this._declarationTContainer.tViews,u=Jl(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(s)),yl(s,u,r),new eg(u)}};function Zb(){return ey(Gr(),Mt())}function ey(n,r){return 4&n.type?new Kb(r,n,Xh(n,r)):null}let ty=(()=>{class n{}return n.__NG_ELEMENT_ID__=Xb,n})();function Xb(){return L0(Gr(),Mt())}const Qb=ty,k0=class extends Qb{constructor(r,s,u){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=u}get element(){return Xh(this._hostTNode,this._hostLView)}get injector(){return new ur(this._hostTNode,this._hostLView)}get parentInjector(){const r=dn(this._hostTNode,this._hostLView);if(js(r)){const s=Ns(r,this._hostLView),u=ho(r);return new ur(s[1].data[u+8],s)}return new ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=F0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,u){const c=r.createEmbeddedView(s||{});return this.insert(c,u),c}createComponent(r,s,u,c,h){const v=r&&!function To(n){return"function"==typeof n}(r);let I;if(v)I=s;else{const Ie=s||{};I=Ie.index,u=Ie.injector,c=Ie.projectableNodes,h=Ie.ngModuleRef}const A=v?r:new Yv($n(r)),j=u||this.parentInjector;if(!h&&null==A.ngModule){const Ge=(v?j:this.parentInjector).get(Qh,null);Ge&&(h=Ge)}const q=A.create(j,c,void 0,h);return this.insert(q.hostView,I),q}insert(r,s){const u=r._lView,c=u[1];if(function Ht(n){return Zt(n[3])}(u)){const q=this.indexOf(r);if(-1!==q)this.detach(q);else{const Ie=u[3],Ge=new k0(Ie,Ie[6],Ie[3]);Ge.detach(Ge.indexOf(r))}}const h=this._adjustIndex(s),v=this._lContainer;!function Dy(n,r,s,u){const c=10+u,h=s.length;u>0&&(s[c-1][4]=r),u<h-10?(r[4]=s[c],fn(s,10+u,r)):(s.push(r),r[4]=null),r[3]=s;const v=r[17];null!==v&&s!==v&&function Eg(n,r){const s=n[9];r[X]!==r[3][3][X]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(v,r);const I=r[19];null!==I&&I.insertView(n),r[2]|=128}(c,u,v,h);const I=ql(h,v),A=u[11],j=Yl(A,v[7]);return null!==j&&function Iy(n,r,s,u,c,h){u[0]=c,u[6]=r,Ua(n,u,s,1,c,h)}(c,v[6],A,u,j,I),r.attachToViewContainerRef(),fn(Xv(v),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=F0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),u=Wd(this._lContainer,s);u&&(yu(Xv(this._lContainer),s),vf(u[1],u))}detach(r){const s=this._adjustIndex(r,-1),u=Wd(this._lContainer,s);return u&&null!=yu(Xv(this._lContainer),s)?new eg(u):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function F0(n){return n[8]}function Xv(n){return n[8]||(n[8]=[])}function L0(n,r){let s;const u=r[n.index];if(Zt(u))s=u;else{let c;if(8&n.type)c=Bt(u);else{const h=r[11];c=h.createComment("");const v=Un(n,r);No(h,Yl(h,v),c,function Cg(n,r){return Ve(n)?n.nextSibling(r):r.nextSibling}(h,v),!1)}r[n.index]=s=Wf(u,r,c,n),uh(r,s)}return new k0(s,n,r)}class Qv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Qv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const u=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let h=0;h<u;h++){const v=s.getByIndex(h);c.push(this.queries[v.indexInDeclarationView].clone())}return new Jv(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==W0(r,s).matches&&this.queries[s].setDirty()}}class V0{constructor(r,s,u=null){this.predicate=r,this.flags=s,this.read=u}}class e_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let u=0;u<this.length;u++){const c=null!==s?s.length:0,h=this.getByIndex(u).embeddedTView(r,c);h&&(h.indexInDeclarationView=u,null!==s?s.push(h):s=[h])}return null!==s?new e_(s):null}template(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class t_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new t_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(r,s,tI(s,h)),this.matchTNodeWithReadOption(r,s,J(s,r,h,!1,!1))}else u===rg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,J(s,r,u,!1,!1))}matchTNodeWithReadOption(r,s,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Jp||c===ty||c===rg&&4&s.type)this.addMatch(s.index,-2);else{const h=J(s,r,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,u)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function tI(n,r){const s=n.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===r)return s[u+1];return null}function rI(n,r,s,u){return-1===s?function nI(n,r){return 11&n.type?Xh(n,r):4&n.type?ey(n,r):null}(r,n):-2===s?function iI(n,r,s){return s===Jp?Xh(r,n):s===rg?ey(r,n):s===ty?L0(r,n):void 0}(n,r,u):Me(n,n[1],s,r)}function B0(n,r,s,u){const c=r[19].queries[u];if(null===c.matches){const h=n.data,v=s.matches,I=[];for(let A=0;A<v.length;A+=2){const j=v[A];I.push(j<0?null:rI(r,h[j],v[A+1],s.metadata.read))}c.matches=I}return c.matches}function n_(n,r,s,u){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const v=B0(n,r,c,s);for(let I=0;I<h.length;I+=2){const A=h[I];if(A>0)u.push(v[I/2]);else{const j=h[I+1],q=r[-A];for(let Ie=10;Ie<q.length;Ie++){const Ge=q[Ie];Ge[17]===Ge[3]&&n_(Ge[1],Ge,j,u)}if(null!==q[9]){const Ie=q[9];for(let Ge=0;Ge<Ie.length;Ge++){const ht=Ie[Ge];n_(ht[1],ht,j,u)}}}}}return u}function $0(n){const r=Mt(),s=Er(),u=Us();ta(u+1);const c=W0(s,u);if(n.dirty&&ee(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?n_(s,r,u,[]):B0(s,r,c,u);n.reset(h,bb),n.notifyOnChanges()}return!0}return!1}function U0(n,r,s){const u=Er();u.firstCreatePass&&(z0(u,new V0(n,r,s),-1),2==(2&r)&&(u.staticViewQueries=!0)),G0(u,Mt(),r)}function j0(n,r,s,u){const c=Er();if(c.firstCreatePass){const h=Gr();z0(c,new V0(r,s,u),h.index),function oI(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}G0(c,Mt(),s)}function H0(){return function sI(n,r){return n[19].queries[r].queryList}(Mt(),Us())}function G0(n,r,s){const u=new Zv(4==(4&s));Ff(n,r,u,u.destroy),null===r[19]&&(r[19]=new Jv),r[19].queries.push(new Qv(u))}function z0(n,r,s){null===n.queries&&(n.queries=new e_),n.queries.track(new t_(r,s))}function W0(n,r){return n.queries.getByIndex(r)}function Y0(n,r){return ey(n,r)}function iy(...n){}const cE=new fi("Application Initializer");let u_=(()=>{class n{constructor(s){this.appInits=s,this.resolve=iy,this.reject=iy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(_m(h))s.push(h);else if(Yu(h)){const v=new Promise((I,A)=>{h.subscribe({complete:I,error:A})});s.push(v)}}Promise.all(s).then(()=>{u()}).catch(c=>{this.reject(c)}),0===s.length&&u(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(qr(cE,8))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dE=new fi("AppId",{providedIn:"root",factory:function hE(){return`${l_()}${l_()}${l_()}`}});function l_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fE=new fi("Platform Initializer"),pE=new fi("Platform ID"),gE=new fi("appBootstrapListener");let mE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})();const c_=new fi("LocaleId",{providedIn:"root",factory:()=>mo(c_,tn.Optional|tn.SkipSelf)||function wI(){return"undefined"!=typeof $localize&&$localize.locale||Yh}()}),DI=new fi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class CI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let TI=(()=>{class n{compileModuleSync(s){return new qv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),h=$a(Sr(s).declarations).reduce((v,I)=>{const A=$n(I);return A&&v.push(new Yv(A)),v},[]);return new CI(u,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AI=(()=>Promise.resolve(0))();function d_(n){"undefined"==typeof Zone?AI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class hu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ju(!1),this.onMicrotaskEmpty=new Ju(!1),this.onStable=new Ju(!1),this.onError=new Ju(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&s,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function xI(){let n=Mn.requestAnimationFrame,r=Mn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function OI(n){const r=()=>{!function RI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,f_(n),n.isCheckStableRunning=!0,h_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),f_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,c,h,v,I)=>{try{return yE(n),s.invokeTask(c,h,v,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),vE(n)}},onInvoke:(s,u,c,h,v,I,A)=>{try{return yE(n),s.invoke(c,h,v,I,A)}finally{n.shouldCoalesceRunChangeDetection&&r(),vE(n)}},onHasTask:(s,u,c,h)=>{s.hasTask(c,h),u===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,f_(n),h_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,u,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(hu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,u){return this._inner.run(r,s,u)}runTask(r,s,u,c){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+c,r,MI,iy,iy);try{return h.runTask(v,s,u)}finally{h.cancelTask(v)}}runGuarded(r,s,u){return this._inner.runGuarded(r,s,u)}runOutsideAngular(r){return this._outer.run(r)}}const MI={};function h_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function f_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function yE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vE(n){n._nesting--,h_(n)}class PI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ju,this.onMicrotaskEmpty=new Ju,this.onStable=new Ju,this.onError=new Ju}run(r,s,u){return r.apply(s,u)}runGuarded(r,s,u){return r.apply(s,u)}runOutsideAngular(r){return r()}runTask(r,s,u,c){return r.apply(s,u)}}let _E=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hu.assertNotInAngularZone(),d_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())d_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,u,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(qr(hu))},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})(),EE=(()=>{class n{constructor(){this._applications=new Map,p_.addToWindow(this)}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return p_.findTestabilityInTree(this,s,u)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})();class NI{addToWindow(r){}findTestabilityInTree(r,s,u){return null}}function kI(n){p_=n}let fu,p_=new NI;const bE=new fi("AllowMultipleToken");class VI{constructor(r,s){this.name=r,this.token=s}}function IE(n,r,s=[]){const u=`Platform: ${r}`,c=new fi(u);return(h=[])=>{let v=wE();if(!v||v.injector.get(bE,!1))if(n)n(s.concat(h).concat({provide:c,useValue:!0}));else{const I=s.concat(h).concat({provide:c,useValue:!0},{provide:td,useValue:"platform"});!function BI(n){if(fu&&!fu.destroyed&&!fu.injector.get(bE,!1))throw new te(400,"");fu=n.get(DE);const r=n.get(fE,null);r&&r.forEach(s=>s())}(wa.create({providers:I,name:u}))}return function $I(n){const r=wE();if(!r)throw new te(401,"");return r}()}}function wE(){return fu&&!fu.destroyed?fu:null}let DE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const I=function UI(n,r){let s;return s="noop"===n?new PI:("zone.js"===n?void 0:n)||new hu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),A=[{provide:hu,useValue:I}];return I.run(()=>{const j=wa.create({providers:A,parent:this.injector,name:s.moduleType.name}),q=s.create(j),Ie=q.injector.get(Rc,null);if(!Ie)throw new te(402,"");return I.runOutsideAngular(()=>{const Ge=I.onError.subscribe({next:ht=>{Ie.handleError(ht)}});q.onDestroy(()=>{m_(this._modules,q),Ge.unsubscribe()})}),function jI(n,r,s){try{const u=s();return _m(u)?u.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(Ie,I,()=>{const Ge=q.injector.get(u_);return Ge.runInitializers(),Ge.donePromise.then(()=>(function Wm(n){Ke(n,"Expected localeId to be defined"),"string"==typeof n&&(Id=n.toLowerCase().replace(/_/g,"-"))}(q.injector.get(c_,Yh)||Yh),this._moduleDoBootstrap(q),q))})})}bootstrapModule(s,u=[]){const c=CE({},u);return function FI(n,r,s){const u=new qv(s);return Promise.resolve(u)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const u=s.injector.get(g_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new te(403,"");s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(qr(wa))},n.\u0275prov=on({token:n,factory:n.\u0275fac}),n})();function CE(n,r){return Array.isArray(r)?r.reduce(CE,n):Object.assign(Object.assign({},n),r)}let g_=(()=>{class n{constructor(s,u,c,h,v){this._zone=s,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new $.y(j=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{j.next(this._stable),j.complete()})}),A=new $.y(j=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{hu.assertNotInAngularZone(),d_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,j.next(!0))})})});const Ie=this._zone.onUnstable.subscribe(()=>{hu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{j.next(!1)}))});return()=>{q.unsubscribe(),Ie.unsubscribe()}});this.isStable=(0,xe.T)(I,A.pipe(function oe(){return n=>(0,Ce.x)()(function se(n,r){return function(u){let c;if(c="function"==typeof n?n:function(){return n},"function"==typeof r)return u.lift(new Te(c,r));const h=Object.create(u,we.N);return h.source=u,h.subjectFactory=c,h}}(ye)(n))}()))}bootstrap(s,u){if(!this._initStatus.done)throw new te(405,"");let c;c=s instanceof g0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const h=function LI(n){return n.isBoundToModule}(c)?void 0:this._injector.get(Qh),I=c.create(wa.NULL,[],u||c.selector,h),A=I.location.nativeElement,j=I.injector.get(_E,null),q=j&&I.injector.get(EE);return j&&q&&q.registerApplication(A,j),I.onDestroy(()=>{this.detachView(I.hostView),m_(this.components,I),q&&q.unregisterApplication(A)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new te(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;m_(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(gE,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(qr(hu),qr(wa),qr(Rc),qr(Qm),qr(u_))},n.\u0275prov=on({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function m_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let SE=!0,AE=!1;function GI(){return AE=!0,SE}function zI(){if(AE)throw new Error("Cannot enable prod mode after platform setup.");SE=!1}let WI=(()=>{class n{}return n.__NG_ELEMENT_ID__=YI,n})();function YI(n){return function qI(n,r,s){if(Dn(n)&&!s){const u=k(n.index,r);return new eg(u,u)}return 47&n.type?new eg(r[X],r):null}(Gr(),Mt(),16==(16&n))}class OE{constructor(){}supports(r){return od(r)}create(r){return new ew(r)}}const JI=(n,r)=>r;class ew{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||JI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,u=this._removalsHead,c=0,h=null;for(;s||u;){const v=!u||s&&s.currentIndex<NE(u,c,h)?s:u,I=NE(v,c,h),A=v.currentIndex;if(v===u)c--,u=u._nextRemoved;else if(s=s._next,null==v.previousIndex)c++;else{h||(h=[]);const j=I-c,q=A-c;if(j!=q){for(let Ge=0;Ge<j;Ge++){const ht=Ge<h.length?h[Ge]:h[Ge]=0,xt=ht+Ge;q<=xt&&xt<j&&(h[Ge]=ht+1)}h[v.previousIndex]=q-j}}I!==A&&r(v,I,A)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!od(r))throw new te(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,v,s=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)h=r[I],v=this._trackByFn(I,h),null!==s&&Object.is(s.trackById,v)?(u&&(s=this._verifyReinsertion(s,h,v,I)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,v,I),u=!0),s=s._next}else c=0,function cv(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[lc()]();let u;for(;!(u=s.next()).done;)r(u.value)}}(r,I=>{v=this._trackByFn(c,I),null!==s&&Object.is(s.trackById,v)?(u&&(s=this._verifyReinsertion(s,I,v,c)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,v,c),u=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,u,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,c)):r=this._addAfter(new tw(s,u),h,c),r}_verifyReinsertion(r,s,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,s,u),this._addToMoves(r,u),r}_moveAfter(r,s,u){return this._unlink(r),this._insertAfter(r,s,u),this._addToMoves(r,u),r}_addAfter(r,s,u){return this._insertAfter(r,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,u){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new PE),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,u=r._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class tw{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const s=r._prevDup,u=r._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class PE{constructor(){this.map=new Map}put(r){const s=r.trackById;let u=this.map.get(s);u||(u=new nw,this.map.set(s,u)),u.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NE(n,r,s){const u=n.previousIndex;if(null===u)return u;let c=0;return s&&u<s.length&&(c=s[u]),u+r+c}class kE{constructor(){}supports(r){return r instanceof Map||ad(r)}create(){return new rw}}class rw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||ad(r)))throw new te(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,u);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const u=r._prev;return s._next=r,s._prev=u,r._prev=s,u&&(u._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const h=c._prev,v=c._next;return h&&(h._next=v),v&&(v._prev=h),c._next=null,c._prev=null,c}const u=new iw(r);return this._records.set(r,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(u=>s(r[u],u))}}class iw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function FE(){return new b_([new OE])}let b_=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(null!=u){const c=u.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||FE()),deps:[[n,new ol,new wi]]}}find(s){const u=this.factories.find(c=>c.supports(s));if(null!=u)return u;throw new te(901,"")}}return n.\u0275prov=on({token:n,providedIn:"root",factory:FE}),n})();function LE(){return new I_([new kE])}let I_=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(u){const c=u.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||LE()),deps:[[n,new ol,new wi]]}}find(s){const u=this.factories.find(h=>h.supports(s));if(u)return u;throw new te(901,"")}}return n.\u0275prov=on({token:n,providedIn:"root",factory:LE}),n})();const aw=IE(null,"core",[{provide:pE,useValue:"unknown"},{provide:DE,deps:[wa]},{provide:EE,deps:[]},{provide:mE,deps:[]}]);let uw=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(qr(g_))},n.\u0275mod=cn({type:n}),n.\u0275inj=gn({}),n})()},4182:(Xt,tt,P)=>{"use strict";P.d(tt,{qu:()=>gt,NI:()=>lt,oH:()=>Ms,u:()=>Zi,sg:()=>Ti,u5:()=>g,JU:()=>ue,a5:()=>Gn,JJ:()=>wn,JL:()=>tn,On:()=>sn,UX:()=>k,Q7:()=>N,kI:()=>ot,_Y:()=>Dn});var a=P(6435),G=P(9808),$=P(6498),xe=P(6688),we=P(4850),se=P(7830),Te=P(5254);function ye(M,S){return new $.y(C=>{const z=M.length;if(0===z)return void C.complete();const _t=new Array(z);let nn=0,fr=0;for(let $r=0;$r<z;$r++){const di=(0,Te.D)(M[$r]);let Hi=!1;C.add(di.subscribe({next:Cs=>{Hi||(Hi=!0,fr++),_t[$r]=Cs},error:Cs=>C.error(Cs),complete:()=>{nn++,(nn===z||!Hi)&&(fr===z&&C.next(S?S.reduce((Cs,Mt,Er)=>(Cs[Mt]=_t[Er],Cs),{}):_t),C.complete())}}))}})}let oe=(()=>{class M{constructor(C,z){this._renderer=C,this._elementRef=z,this.onChange=_t=>{},this.onTouched=()=>{}}setProperty(C,z){this._renderer.setProperty(this._elementRef.nativeElement,C,z)}registerOnTouched(C){this.onTouched=C}registerOnChange(C){this.onChange=C}setDisabledState(C){this.setProperty("disabled",C)}}return M.\u0275fac=function(C){return new(C||M)(a.Y36(a.Qsj),a.Y36(a.SBq))},M.\u0275dir=a.lG2({type:M}),M})(),re=(()=>{class M extends oe{}return M.\u0275fac=function(){let S;return function(z){return(S||(S=a.n5z(M)))(z||M)}}(),M.\u0275dir=a.lG2({type:M,features:[a.qOj]}),M})();const ue=new a.OlP("NgValueAccessor"),rt={provide:ue,useExisting:(0,a.Gpc)(()=>ge),multi:!0},ve=new a.OlP("CompositionEventMode");let ge=(()=>{class M extends oe{constructor(C,z,_t){super(C,z),this._compositionMode=_t,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fe(){const M=(0,G.q)()?(0,G.q)().getUserAgent():"";return/android (\d+)/.test(M.toLowerCase())}())}writeValue(C){this.setProperty("value",null==C?"":C)}_handleInput(C){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(C)}_compositionStart(){this._composing=!0}_compositionEnd(C){this._composing=!1,this._compositionMode&&this.onChange(C)}}return M.\u0275fac=function(C){return new(C||M)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(ve,8))},M.\u0275dir=a.lG2({type:M,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(C,z){1&C&&a.NdJ("input",function(nn){return z._handleInput(nn.target.value)})("blur",function(){return z.onTouched()})("compositionstart",function(){return z._compositionStart()})("compositionend",function(nn){return z._compositionEnd(nn.target.value)})},features:[a._Bn([rt]),a.qOj]}),M})();function Je(M){return null==M||0===M.length}function te(M){return null!=M&&"number"==typeof M.length}const Ye=new a.OlP("NgValidators"),be=new a.OlP("NgAsyncValidators"),je=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ot{static min(S){return function Le(M){return S=>{if(Je(S.value)||Je(M))return null;const C=parseFloat(S.value);return!isNaN(C)&&C<M?{min:{min:M,actual:S.value}}:null}}(S)}static max(S){return function Ct(M){return S=>{if(Je(S.value)||Je(M))return null;const C=parseFloat(S.value);return!isNaN(C)&&C>M?{max:{max:M,actual:S.value}}:null}}(S)}static required(S){return ce(S)}static requiredTrue(S){return function le(M){return!0===M.value?null:{required:!0}}(S)}static email(S){return function he(M){return Je(M.value)||je.test(M.value)?null:{email:!0}}(S)}static minLength(S){return function Ae(M){return S=>Je(S.value)||!te(S.value)?null:S.value.length<M?{minlength:{requiredLength:M,actualLength:S.value.length}}:null}(S)}static maxLength(S){return function ze(M){return S=>te(S.value)&&S.value.length>M?{maxlength:{requiredLength:M,actualLength:S.value.length}}:null}(S)}static pattern(S){return function Be(M){if(!M)return Rt;let S,C;return"string"==typeof M?(C="","^"!==M.charAt(0)&&(C+="^"),C+=M,"$"!==M.charAt(M.length-1)&&(C+="$"),S=new RegExp(C)):(C=M.toString(),S=M),z=>{if(Je(z.value))return null;const _t=z.value;return S.test(_t)?null:{pattern:{requiredPattern:C,actualValue:_t}}}}(S)}static nullValidator(S){return null}static compose(S){return et(S)}static composeAsync(S){return ut(S)}}function ce(M){return Je(M.value)?{required:!0}:null}function Rt(M){return null}function Gt(M){return null!=M}function at(M){const S=(0,a.QGY)(M)?(0,Te.D)(M):M;return(0,a.CqO)(S),S}function Qe(M){let S={};return M.forEach(C=>{S=null!=C?Object.assign(Object.assign({},S),C):S}),0===Object.keys(S).length?null:S}function Xe(M,S){return S.map(C=>C(M))}function Ze(M){return M.map(S=>function qe(M){return!M.validate}(S)?S:C=>S.validate(C))}function et(M){if(!M)return null;const S=M.filter(Gt);return 0==S.length?null:function(C){return Qe(Xe(C,S))}}function Ke(M){return null!=M?et(Ze(M)):null}function ut(M){if(!M)return null;const S=M.filter(Gt);return 0==S.length?null:function(C){return function Ce(...M){if(1===M.length){const S=M[0];if((0,xe.k)(S))return ye(S,null);if((0,se.K)(S)&&Object.getPrototypeOf(S)===Object.prototype){const C=Object.keys(S);return ye(C.map(z=>S[z]),C)}}if("function"==typeof M[M.length-1]){const S=M.pop();return ye(M=1===M.length&&(0,xe.k)(M[0])?M[0]:M,null).pipe((0,we.U)(C=>S(...C)))}return ye(M,null)}(Xe(C,S).map(at)).pipe((0,we.U)(Qe))}}function dt(M){return null!=M?ut(Ze(M)):null}function Ot(M,S){return null===M?[S]:Array.isArray(M)?[...M,S]:[M,S]}function hn(M){return M._rawValidators}function on(M){return M._rawAsyncValidators}function zt(M){return M?Array.isArray(M)?M:[M]:[]}function gn(M,S){return Array.isArray(M)?M.includes(S):M===S}function It(M,S){const C=zt(S);return zt(M).forEach(_t=>{gn(C,_t)||C.push(_t)}),C}function Pn(M,S){return zt(S).filter(C=>!gn(M,C))}class Nn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=Ke(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=dt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S){this.control&&this.control.reset(S)}hasError(S,C){return!!this.control&&this.control.hasError(S,C)}getError(S,C){return this.control?this.control.getError(S,C):null}}class Gn extends Nn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pn extends Nn{get formDirective(){return null}get path(){return null}}class Xn{constructor(S){this._cd=S}is(S){var C,z,_t;return"submitted"===S?!!(null===(C=this._cd)||void 0===C?void 0:C.submitted):!!(null===(_t=null===(z=this._cd)||void 0===z?void 0:z.control)||void 0===_t?void 0:_t[S])}}let wn=(()=>{class M extends Xn{constructor(C){super(C)}}return M.\u0275fac=function(C){return new(C||M)(a.Y36(Gn,2))},M.\u0275dir=a.lG2({type:M,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(C,z){2&C&&a.ekj("ng-untouched",z.is("untouched"))("ng-touched",z.is("touched"))("ng-pristine",z.is("pristine"))("ng-dirty",z.is("dirty"))("ng-valid",z.is("valid"))("ng-invalid",z.is("invalid"))("ng-pending",z.is("pending"))},features:[a.qOj]}),M})(),tn=(()=>{class M extends Xn{constructor(C){super(C)}}return M.\u0275fac=function(C){return new(C||M)(a.Y36(pn,10))},M.\u0275dir=a.lG2({type:M,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(C,z){2&C&&a.ekj("ng-untouched",z.is("untouched"))("ng-touched",z.is("touched"))("ng-pristine",z.is("pristine"))("ng-dirty",z.is("dirty"))("ng-valid",z.is("valid"))("ng-invalid",z.is("invalid"))("ng-pending",z.is("pending"))("ng-submitted",z.is("submitted"))},features:[a.qOj]}),M})();function qt(M,S){return[...S.path,M]}function Dt(M,S){Qt(M,S),S.valueAccessor.writeValue(M.value),function _e(M,S){S.valueAccessor.registerOnChange(C=>{M._pendingValue=C,M._pendingChange=!0,M._pendingDirty=!0,"change"===M.updateOn&&nt(M,S)})}(M,S),function ae(M,S){const C=(z,_t)=>{S.valueAccessor.writeValue(z),_t&&S.viewToModelUpdate(z)};M.registerOnChange(C),S._registerOnDestroy(()=>{M._unregisterOnChange(C)})}(M,S),function $e(M,S){S.valueAccessor.registerOnTouched(()=>{M._pendingTouched=!0,"blur"===M.updateOn&&M._pendingChange&&nt(M,S),"submit"!==M.updateOn&&M.markAsTouched()})}(M,S),function Ut(M,S){if(S.valueAccessor.setDisabledState){const C=z=>{S.valueAccessor.setDisabledState(z)};M.registerOnDisabledChange(C),S._registerOnDestroy(()=>{M._unregisterOnDisabledChange(C)})}}(M,S)}function Pt(M,S,C=!0){const z=()=>{};S.valueAccessor&&(S.valueAccessor.registerOnChange(z),S.valueAccessor.registerOnTouched(z)),Fe(M,S),M&&(S._invokeOnDestroyCallbacks(),M._registerOnCollectionChange(()=>{}))}function mn(M,S){M.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(S)})}function Qt(M,S){const C=hn(M);null!==S.validator?M.setValidators(Ot(C,S.validator)):"function"==typeof C&&M.setValidators([C]);const z=on(M);null!==S.asyncValidator?M.setAsyncValidators(Ot(z,S.asyncValidator)):"function"==typeof z&&M.setAsyncValidators([z]);const _t=()=>M.updateValueAndValidity();mn(S._rawValidators,_t),mn(S._rawAsyncValidators,_t)}function Fe(M,S){let C=!1;if(null!==M){if(null!==S.validator){const _t=hn(M);if(Array.isArray(_t)&&_t.length>0){const nn=_t.filter(fr=>fr!==S.validator);nn.length!==_t.length&&(C=!0,M.setValidators(nn))}}if(null!==S.asyncValidator){const _t=on(M);if(Array.isArray(_t)&&_t.length>0){const nn=_t.filter(fr=>fr!==S.asyncValidator);nn.length!==_t.length&&(C=!0,M.setAsyncValidators(nn))}}}const z=()=>{};return mn(S._rawValidators,z),mn(S._rawAsyncValidators,z),C}function nt(M,S){M._pendingDirty&&M.markAsDirty(),M.setValue(M._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(M._pendingValue),M._pendingChange=!1}function an(M,S){if(!M.hasOwnProperty("model"))return!1;const C=M.model;return!!C.isFirstChange()||!Object.is(S,C.currentValue)}function $n(M,S){if(!S)return null;let C,z,_t;return Array.isArray(S),S.forEach(nn=>{nn.constructor===ge?C=nn:function On(M){return Object.getPrototypeOf(M.constructor)===re}(nn)?z=nn:_t=nn}),_t||z||C||null}function Sn(M,S){const C=M.indexOf(S);C>-1&&M.splice(C,1)}const Hr="VALID",Dr="INVALID",or="PENDING",Wn="DISABLED";function cr(M){return(En(M)?M.validators:M)||null}function Zr(M){return Array.isArray(M)?Ke(M):M||null}function ar(M,S){return(En(S)?S.asyncValidators:M)||null}function jt(M){return Array.isArray(M)?dt(M):M||null}function En(M){return null!=M&&!Array.isArray(M)&&"object"==typeof M}const Qn=M=>M instanceof lt,Yn=M=>M instanceof ct,Mr=M=>M instanceof bn;function vr(M){return Qn(M)?M.value:M.getRawValue()}function Ue(M,S){const C=Yn(M),z=M.controls;if(!(C?Object.keys(z):z).length)throw new a.vHH(1e3,"");if(!z[S])throw new a.vHH(1001,"")}function Oe(M,S){Yn(M),M._forEachChild((z,_t)=>{if(void 0===S[_t])throw new a.vHH(1002,"")})}class Se{constructor(S,C){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=S,this._rawAsyncValidators=C,this._composedValidatorFn=Zr(this._rawValidators),this._composedAsyncValidatorFn=jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===Hr}get invalid(){return this.status===Dr}get pending(){return this.status==or}get disabled(){return this.status===Wn}get enabled(){return this.status!==Wn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._rawValidators=S,this._composedValidatorFn=Zr(S)}setAsyncValidators(S){this._rawAsyncValidators=S,this._composedAsyncValidatorFn=jt(S)}addValidators(S){this.setValidators(It(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(It(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(Pn(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(Pn(S,this._rawAsyncValidators))}hasValidator(S){return gn(this._rawValidators,S)}hasAsyncValidator(S){return gn(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(C=>{C.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(C=>{C.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=or,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const C=this._parentMarkedDirty(S.onlySelf);this.status=Wn,this.errors=null,this._forEachChild(z=>{z.disable(Object.assign(Object.assign({},S),{onlySelf:!0}))}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},S),{skipPristineCheck:C})),this._onDisabledChange.forEach(z=>z(!0))}enable(S={}){const C=this._parentMarkedDirty(S.onlySelf);this.status=Hr,this._forEachChild(z=>{z.enable(Object.assign(Object.assign({},S),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},S),{skipPristineCheck:C})),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hr||this.status===or)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wn:Hr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=or,this._hasOwnPendingAsyncValidator=!0;const C=at(this.asyncValidator(this));this._asyncValidationSubscription=C.subscribe(z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(z,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,C={}){this.errors=S,this._updateControlsErrors(!1!==C.emitEvent)}get(S){return function dr(M,S,C){if(null==S||(Array.isArray(S)||(S=S.split(C)),Array.isArray(S)&&0===S.length))return null;let z=M;return S.forEach(_t=>{z=Yn(z)?z.controls.hasOwnProperty(_t)?z.controls[_t]:null:Mr(z)&&z.at(_t)||null}),z}(this,S,".")}getError(S,C){const z=C?this.get(C):this;return z&&z.errors?z.errors[S]:null}hasError(S,C){return!!this.getError(S,C)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Wn:this.errors?Dr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(or)?or:this._anyControlsHaveStatus(Dr)?Dr:Hr}_anyControlsHaveStatus(S){return this._anyControls(C=>C.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_isBoxedValue(S){return"object"==typeof S&&null!==S&&2===Object.keys(S).length&&"value"in S&&"disabled"in S}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){En(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class lt extends Se{constructor(S=null,C,z){super(cr(C),ar(z,C)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),En(C)&&C.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(S)?S.value:S)}setValue(S,C={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(S,C={}){this.setValue(S,C)}reset(S=this.defaultValue,C={}){this._applyFormState(S),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){Sn(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){Sn(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){this._isBoxedValue(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}}class ct extends Se{constructor(S,C,z){super(cr(C),ar(z,C)),this.controls=S,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(S,C){return this.controls[S]?this.controls[S]:(this.controls[S]=C,C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange),C)}addControl(S,C,z={}){this.registerControl(S,C),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}removeControl(S,C={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}setControl(S,C,z={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],C&&this.registerControl(S,C),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}contains(S){return this.controls.hasOwnProperty(S)&&this.controls[S].enabled}setValue(S,C={}){Oe(this,S),Object.keys(S).forEach(z=>{Ue(this,z),this.controls[z].setValue(S[z],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(S,C={}){null!=S&&(Object.keys(S).forEach(z=>{this.controls[z]&&this.controls[z].patchValue(S[z],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(S={},C={}){this._forEachChild((z,_t)=>{z.reset(S[_t],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this._reduceChildren({},(S,C,z)=>(S[z]=vr(C),S))}_syncPendingControls(){let S=this._reduceChildren(!1,(C,z)=>!!z._syncPendingControls()||C);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){Object.keys(this.controls).forEach(C=>{const z=this.controls[C];z&&S(z,C)})}_setUpControls(){this._forEachChild(S=>{S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(S){for(const C of Object.keys(this.controls)){const z=this.controls[C];if(this.contains(C)&&S(z))return!0}return!1}_reduceValue(){return this._reduceChildren({},(S,C,z)=>((C.enabled||this.disabled)&&(S[z]=C.value),S))}_reduceChildren(S,C){let z=S;return this._forEachChild((_t,nn)=>{z=C(z,_t,nn)}),z}_allControlsDisabled(){for(const S of Object.keys(this.controls))if(this.controls[S].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class bn extends Se{constructor(S,C,z){super(cr(C),ar(z,C)),this.controls=S,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(S){return this.controls[S]}push(S,C={}){this.controls.push(S),this._registerControl(S),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}insert(S,C,z={}){this.controls.splice(S,0,C),this._registerControl(C),this.updateValueAndValidity({emitEvent:z.emitEvent})}removeAt(S,C={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),this.controls.splice(S,1),this.updateValueAndValidity({emitEvent:C.emitEvent})}setControl(S,C,z={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),this.controls.splice(S,1),C&&(this.controls.splice(S,0,C),this._registerControl(C)),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(S,C={}){Oe(this,S),S.forEach((z,_t)=>{Ue(this,_t),this.at(_t).setValue(z,{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(S,C={}){null!=S&&(S.forEach((z,_t)=>{this.at(_t)&&this.at(_t).patchValue(z,{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(S=[],C={}){this._forEachChild((z,_t)=>{z.reset(S[_t],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this.controls.map(S=>vr(S))}clear(S={}){this.controls.length<1||(this._forEachChild(C=>C._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:S.emitEvent}))}_syncPendingControls(){let S=this.controls.reduce((C,z)=>!!z._syncPendingControls()||C,!1);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){this.controls.forEach((C,z)=>{S(C,z)})}_updateValue(){this.value=this.controls.filter(S=>S.enabled||this.disabled).map(S=>S.value)}_anyControls(S){return this.controls.some(C=>C.enabled&&S(C))}_setUpControls(){this._forEachChild(S=>this._registerControl(S))}_allControlsDisabled(){for(const S of this.controls)if(S.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(S){S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)}}const wt={provide:Gn,useExisting:(0,a.Gpc)(()=>sn)},Zt=(()=>Promise.resolve(null))();let sn=(()=>{class M extends Gn{constructor(C,z,_t,nn,fr){super(),this._changeDetectorRef=fr,this.control=new lt,this._registered=!1,this.update=new a.vpe,this._parent=C,this._setValidators(z),this._setAsyncValidators(_t),this.valueAccessor=$n(0,nn)}ngOnChanges(C){if(this._checkForErrors(),!this._registered||"name"in C){if(this._registered&&(this._checkName(),this.formDirective)){const z=C.name.previousValue;this.formDirective.removeControl({name:z,path:this._getPath(z)})}this._setUpControl()}"isDisabled"in C&&this._updateDisabled(C),an(C,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(C){Zt.then(()=>{var z;this.control.setValue(C,{emitViewToModelChange:!1}),null===(z=this._changeDetectorRef)||void 0===z||z.markForCheck()})}_updateDisabled(C){const z=C.isDisabled.currentValue,_t=""===z||z&&"false"!==z;Zt.then(()=>{var nn;_t&&!this.control.disabled?this.control.disable():!_t&&this.control.disabled&&this.control.enable(),null===(nn=this._changeDetectorRef)||void 0===nn||nn.markForCheck()})}_getPath(C){return this._parent?qt(C,this._parent):[C]}}return M.\u0275fac=function(C){return new(C||M)(a.Y36(pn,9),a.Y36(Ye,10),a.Y36(be,10),a.Y36(ue,10),a.Y36(a.sBO,8))},M.\u0275dir=a.lG2({type:M,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([wt]),a.qOj,a.TTD]}),M})(),Dn=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275dir=a.lG2({type:M,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),M})(),Pi=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275mod=a.oAB({type:M}),M.\u0275inj=a.cJS({}),M})();const Bs=new a.OlP("NgModelWithFormControlWarning"),so={provide:Gn,useExisting:(0,a.Gpc)(()=>Ms)};let Ms=(()=>{class M extends Gn{constructor(C,z,_t,nn){super(),this._ngModelWarningConfig=nn,this.update=new a.vpe,this._ngModelWarningSent=!1,this._setValidators(C),this._setAsyncValidators(z),this.valueAccessor=$n(0,_t)}set isDisabled(C){}ngOnChanges(C){if(this._isControlChanged(C)){const z=C.form.previousValue;z&&Pt(z,this,!1),Dt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}an(C,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Pt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}_isControlChanged(C){return C.hasOwnProperty("form")}}return M._ngModelWarningSentOnce=!1,M.\u0275fac=function(C){return new(C||M)(a.Y36(Ye,10),a.Y36(be,10),a.Y36(ue,10),a.Y36(Bs,8))},M.\u0275dir=a.lG2({type:M,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[a._Bn([so]),a.qOj,a.TTD]}),M})();const ki={provide:pn,useExisting:(0,a.Gpc)(()=>Ti)};let Ti=(()=>{class M extends pn{constructor(C,z){super(),this.validators=C,this.asyncValidators=z,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(C),this._setAsyncValidators(z)}ngOnChanges(C){this._checkFormPresent(),C.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(C){const z=this.form.get(C.path);return Dt(z,C),z.updateValueAndValidity({emitEvent:!1}),this.directives.push(C),z}getControl(C){return this.form.get(C.path)}removeControl(C){Pt(C.control||null,C,!1),Sn(this.directives,C)}addFormGroup(C){this._setUpFormContainer(C)}removeFormGroup(C){this._cleanUpFormContainer(C)}getFormGroup(C){return this.form.get(C.path)}addFormArray(C){this._setUpFormContainer(C)}removeFormArray(C){this._cleanUpFormContainer(C)}getFormArray(C){return this.form.get(C.path)}updateModel(C,z){this.form.get(C.path).setValue(z)}onSubmit(C){return this.submitted=!0,function gr(M,S){M._syncPendingControls(),S.forEach(C=>{const z=C.control;"submit"===z.updateOn&&z._pendingChange&&(C.viewToModelUpdate(z._pendingValue),z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(C),!1}onReset(){this.resetForm()}resetForm(C){this.form.reset(C),this.submitted=!1}_updateDomValue(){this.directives.forEach(C=>{const z=C.control,_t=this.form.get(C.path);z!==_t&&(Pt(z||null,C),Qn(_t)&&(Dt(_t,C),C.control=_t))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(C){const z=this.form.get(C.path);(function me(M,S){Qt(M,S)})(z,C),z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(C){if(this.form){const z=this.form.get(C.path);z&&function De(M,S){return Fe(M,S)}(z,C)&&z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qt(this.form,this),this._oldForm&&Fe(this._oldForm,this)}_checkFormPresent(){}}return M.\u0275fac=function(C){return new(C||M)(a.Y36(Ye,10),a.Y36(be,10))},M.\u0275dir=a.lG2({type:M,selectors:[["","formGroup",""]],hostBindings:function(C,z){1&C&&a.NdJ("submit",function(nn){return z.onSubmit(nn)})("reset",function(){return z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([ki]),a.qOj,a.TTD]}),M})();const ji={provide:Gn,useExisting:(0,a.Gpc)(()=>Zi)};let Zi=(()=>{class M extends Gn{constructor(C,z,_t,nn,fr){super(),this._ngModelWarningConfig=fr,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=C,this._setValidators(z),this._setAsyncValidators(_t),this.valueAccessor=$n(0,nn)}set isDisabled(C){}ngOnChanges(C){this._added||this._setUpControl(),an(C,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}get path(){return qt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return M._ngModelWarningSentOnce=!1,M.\u0275fac=function(C){return new(C||M)(a.Y36(pn,13),a.Y36(Ye,10),a.Y36(be,10),a.Y36(ue,10),a.Y36(Bs,8))},M.\u0275dir=a.lG2({type:M,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([ji]),a.qOj,a.TTD]}),M})(),Xr=(()=>{class M{constructor(){this._validator=Rt}ngOnChanges(C){if(this.inputName in C){const z=this.normalizeInput(C[this.inputName].currentValue);this._enabled=this.enabled(z),this._validator=this._enabled?this.createValidator(z):Rt,this._onChange&&this._onChange()}}validate(C){return this._validator(C)}registerOnValidatorChange(C){this._onChange=C}enabled(C){return null!=C}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275dir=a.lG2({type:M,features:[a.TTD]}),M})();const fs={provide:Ye,useExisting:(0,a.Gpc)(()=>N),multi:!0};let N=(()=>{class M extends Xr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=C=>function Qi(M){return null!=M&&!1!==M&&"false"!=`${M}`}(C),this.createValidator=C=>ce}enabled(C){return C}}return M.\u0275fac=function(){let S;return function(z){return(S||(S=a.n5z(M)))(z||M)}}(),M.\u0275dir=a.lG2({type:M,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(C,z){2&C&&a.uIk("required",z._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([fs]),a.qOj]}),M})(),L=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275mod=a.oAB({type:M}),M.\u0275inj=a.cJS({imports:[[Pi]]}),M})(),g=(()=>{class M{}return M.\u0275fac=function(C){return new(C||M)},M.\u0275mod=a.oAB({type:M}),M.\u0275inj=a.cJS({imports:[L]}),M})(),k=(()=>{class M{static withConfig(C){return{ngModule:M,providers:[{provide:Bs,useValue:C.warnOnNgModelWithFormControl}]}}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275mod=a.oAB({type:M}),M.\u0275inj=a.cJS({imports:[L]}),M})(),gt=(()=>{class M{group(C,z=null){const _t=this._reduceControls(C);let $r,nn=null,fr=null;return null!=z&&(function ee(M){return void 0!==M.asyncValidators||void 0!==M.validators||void 0!==M.updateOn}(z)?(nn=null!=z.validators?z.validators:null,fr=null!=z.asyncValidators?z.asyncValidators:null,$r=null!=z.updateOn?z.updateOn:void 0):(nn=null!=z.validator?z.validator:null,fr=null!=z.asyncValidator?z.asyncValidator:null)),new ct(_t,{asyncValidators:fr,updateOn:$r,validators:nn})}control(C,z,_t){return new lt(C,z,_t)}array(C,z,_t){const nn=C.map(fr=>this._createControl(fr));return new bn(nn,z,_t)}_reduceControls(C){const z={};return Object.keys(C).forEach(_t=>{z[_t]=this._createControl(C[_t])}),z}_createControl(C){return Qn(C)||Yn(C)||Mr(C)?C:Array.isArray(C)?this.control(C[0],C.length>1?C[1]:null,C.length>2?C[2]:null):this.control(C)}}return M.\u0275fac=function(C){return new(C||M)},M.\u0275prov=a.Yz7({token:M,factory:M.\u0275fac,providedIn:k}),M})()},3151:(Xt,tt,P)=>{"use strict";P.d(tt,{gz:()=>sn,y6:()=>K,OD:()=>Bn,eC:()=>ln,wm:()=>Qr,wN:()=>oa,F0:()=>bi,rH:()=>hi,Bz:()=>ys,Hx:()=>Wn});var a=P(6435),G=P(2866),$=P(6688),xe=P(3489);class we extends xe.L{notifyNext(E,_,O,U,J){this.destination.next(_)}notifyError(E,_){this.destination.error(E)}notifyComplete(E){this.destination.complete()}}class se extends xe.L{constructor(E,_,O){super(),this.parent=E,this.outerValue=_,this.outerIndex=O,this.index=0}_next(E){this.parent.notifyNext(this.outerValue,E,this.outerIndex,this.index++,this)}_error(E){this.parent.notifyError(E,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Te=P(9249),Ce=P(6498);function ye(D,E,_,O,U=new se(D,_,O)){if(!U.closed)return E instanceof Ce.y?E.subscribe(U):(0,Te.s)(E)(U)}var oe=P(3009);const re={};class Q{constructor(E){this.resultSelector=E}call(E,_){return _.subscribe(new Pe(E,this.resultSelector))}}class Pe extends we{constructor(E,_){super(E),this.resultSelector=_,this.active=0,this.values=[],this.observables=[]}_next(E){this.values.push(re),this.observables.push(E)}_complete(){const E=this.observables,_=E.length;if(0===_)this.destination.complete();else{this.active=_,this.toRespond=_;for(let O=0;O<_;O++)this.add(ye(this,E[O],void 0,O))}}notifyComplete(E){0==(this.active-=1)&&this.destination.complete()}notifyNext(E,_,O){const U=this.values,Me=this.toRespond?U[O]===re?--this.toRespond:this.toRespond:0;U[O]=_,0===Me&&(this.resultSelector?this._tryResultSelector(U):this.destination.next(U.slice()))}_tryResultSelector(E){let _;try{_=this.resultSelector.apply(this,E)}catch(O){return void this.destination.error(O)}this.destination.next(_)}}var rt=P(5254),fe=P(8896);function ve(D){return new Ce.y(E=>{let _;try{_=D()}catch(U){return void E.error(U)}return(_?(0,rt.D)(_):(0,fe.c)()).subscribe(E)})}var ge=P(1086),Je=P(591),te=P(1737),Ye=P(4450),be=P(1221),je=P(1762),ot=P(8929),Le=P(1177);function Ct(D){return function(_){const O=new ce(D),U=_.lift(O);return O.caught=U}}class ce{constructor(E){this.selector=E}call(E,_){return _.subscribe(new le(E,this.selector,this.caught))}}class le extends Le.Ds{constructor(E,_,O){super(E),this.selector=_,this.caught=O}error(E){if(!this.isStopped){let _;try{_=this.selector(E,this.caught)}catch(J){return void super.error(J)}this._unsubscribeAndRecycle();const O=new Le.IY(this);this.add(O);const U=(0,Le.ft)(_,O);U!==O&&this.add(U)}}}var he=P(1709);function Ae(D,E){return(0,he.zg)(D,E,1)}var ze=P(2198),Be=P(4231);function Rt(D){return function(_){return 0===D?(0,fe.c)():_.lift(new Gt(D))}}class Gt{constructor(E){if(this.total=E,this.total<0)throw new Be.W}call(E,_){return _.subscribe(new at(E,this.total))}}class at extends xe.L{constructor(E,_){super(E),this.total=_,this.ring=new Array,this.count=0}_next(E){const _=this.ring,O=this.total,U=this.count++;_.length<O?_.push(E):_[U%O]=E}_complete(){const E=this.destination;let _=this.count;if(_>0){const O=this.count>=this.total?this.total:this.count,U=this.ring;for(let J=0;J<O;J++){const Me=_++%O;E.next(U[Me])}}E.complete()}}var Qe=P(4907),Xe=P(7314),qe=P(5379),et=P(2654);class ut{constructor(E){this.callback=E}call(E,_){return _.subscribe(new dt(E,this.callback))}}class dt extends xe.L{constructor(E,_){super(E),this.add(new et.w(_))}}var Ot=P(4850),hn=P(7545),on=P(2986),zt=P(1059),gn=P(2014),It=P(7224),Pn=P(2868),Nn=P(4327),Gn=P(9146),pn=P(9808);class Xn{constructor(E,_){this.id=E,this.url=_}}class Bn extends Xn{constructor(E,_,O="imperative",U=null){super(E,_),this.navigationTrigger=O,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hn extends Xn{constructor(E,_,O){super(E,_),this.urlAfterRedirects=O}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wn extends Xn{constructor(E,_,O){super(E,_),this.reason=O}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tn extends Xn{constructor(E,_,O){super(E,_),this.error=O}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qn extends Xn{constructor(E,_,O,U){super(E,_),this.urlAfterRedirects=O,this.state=U}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends Xn{constructor(E,_,O,U){super(E,_),this.urlAfterRedirects=O,this.state=U}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hr extends Xn{constructor(E,_,O,U,J){super(E,_),this.urlAfterRedirects=O,this.state=U,this.shouldActivate=J}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tr extends Xn{constructor(E,_,O,U){super(E,_),this.urlAfterRedirects=O,this.state=U}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kn extends Xn{constructor(E,_,O,U){super(E,_),this.urlAfterRedirects=O,this.state=U}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class en{constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yt{constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wr{constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kn{constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(E,_,O){this.routerEvent=E,this.position=_,this.anchor=O}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ln="primary";class sr{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_[0]:_}return null}getAll(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Mn(D){return new sr(D)}const zn="ngNavigationCancelingError";function qt(D){const E=Error("NavigationCancelingError: "+D);return E[zn]=!0,E}function Pt(D,E,_){const O=_.path.split("/");if(O.length>D.length||"full"===_.pathMatch&&(E.hasChildren()||O.length<D.length))return null;const U={};for(let J=0;J<O.length;J++){const Me=O[J],He=D[J];if(Me.startsWith(":"))U[Me.substring(1)]=He;else if(Me!==He.path)return null}return{consumed:D.slice(0,O.length),posParams:U}}function Ut(D,E){const _=D?Object.keys(D):void 0,O=E?Object.keys(E):void 0;if(!_||!O||_.length!=O.length)return!1;let U;for(let J=0;J<_.length;J++)if(U=_[J],!Qt(D[U],E[U]))return!1;return!0}function Qt(D,E){if(Array.isArray(D)&&Array.isArray(E)){if(D.length!==E.length)return!1;const _=[...D].sort(),O=[...E].sort();return _.every((U,J)=>O[J]===U)}return D===E}function Fe(D){return Array.prototype.concat.apply([],D)}function _e(D){return D.length>0?D[D.length-1]:null}function nt(D,E){for(const _ in D)D.hasOwnProperty(_)&&E(D[_],_)}function ae(D){return(0,a.CqO)(D)?D:(0,a.QGY)(D)?(0,rt.D)(Promise.resolve(D)):(0,ge.of)(D)}const De={exact:function Tn(D,E,_){if(!Dr(D.segments,E.segments)||!$n(D.segments,E.segments,_)||D.numberOfChildren!==E.numberOfChildren)return!1;for(const O in E.children)if(!D.children[O]||!Tn(D.children[O],E.children[O],_))return!1;return!0},subset:On},it={exact:function cn(D,E){return Ut(D,E)},subset:function an(D,E){return Object.keys(E).length<=Object.keys(D).length&&Object.keys(E).every(_=>Qt(D[_],E[_]))},ignored:()=>!0};function Nt(D,E,_){return De[_.paths](D.root,E.root,_.matrixParams)&&it[_.queryParams](D.queryParams,E.queryParams)&&!("exact"===_.fragment&&D.fragment!==E.fragment)}function On(D,E,_){return gr(D,E,E.segments,_)}function gr(D,E,_,O){if(D.segments.length>_.length){const U=D.segments.slice(0,_.length);return!(!Dr(U,_)||E.hasChildren()||!$n(U,_,O))}if(D.segments.length===_.length){if(!Dr(D.segments,_)||!$n(D.segments,_,O))return!1;for(const U in E.children)if(!D.children[U]||!On(D.children[U],E.children[U],O))return!1;return!0}{const U=_.slice(0,D.segments.length),J=_.slice(D.segments.length);return!!(Dr(D.segments,U)&&$n(D.segments,U,O)&&D.children[ln])&&gr(D.children[ln],E,J,O)}}function $n(D,E,_){return E.every((O,U)=>it[_](D[U].parameters,O.parameters))}class Sn{constructor(E,_,O){this.root=E,this.queryParams=_,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return cr.serialize(this)}}class In{constructor(E,_){this.segments=E,this.children=_,this.parent=null,nt(_,(O,U)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zr(this)}}class Sr{constructor(E,_){this.path=E,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=Mn(this.parameters)),this._parameterMap}toString(){return Ue(this)}}function Dr(D,E){return D.length===E.length&&D.every((_,O)=>_.path===E[O].path)}class Wn{}class dr{parse(E){const _=new X(E);return new Sn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(E){const _=`/${ar(E.root,!0)}`,O=function Se(D){const E=Object.keys(D).map(_=>{const O=D[_];return Array.isArray(O)?O.map(U=>`${En(_)}=${En(U)}`).join("&"):`${En(_)}=${En(O)}`}).filter(_=>!!_);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${_}${O}${"string"==typeof E.fragment?`#${function Qn(D){return encodeURI(D)}(E.fragment)}`:""}`}}const cr=new dr;function Zr(D){return D.segments.map(E=>Ue(E)).join("/")}function ar(D,E){if(!D.hasChildren())return Zr(D);if(E){const _=D.children[ln]?ar(D.children[ln],!1):"",O=[];return nt(D.children,(U,J)=>{J!==ln&&O.push(`${J}:${ar(U,!1)}`)}),O.length>0?`${_}(${O.join("//")})`:_}{const _=function or(D,E){let _=[];return nt(D.children,(O,U)=>{U===ln&&(_=_.concat(E(O,U)))}),nt(D.children,(O,U)=>{U!==ln&&(_=_.concat(E(O,U)))}),_}(D,(O,U)=>U===ln?[ar(D.children[ln],!1)]:[`${U}:${ar(O,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[ln]?`${Zr(D)}/${_[0]}`:`${Zr(D)}/(${_.join("//")})`}}function jt(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function En(D){return jt(D).replace(/%3B/gi,";")}function Yn(D){return jt(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mr(D){return decodeURIComponent(D)}function vr(D){return Mr(D.replace(/\+/g,"%20"))}function Ue(D){return`${Yn(D.path)}${function Oe(D){return Object.keys(D).map(E=>`;${Yn(E)}=${Yn(D[E])}`).join("")}(D.parameters)}`}const lt=/^[^\/()?;=#]+/;function ct(D){const E=D.match(lt);return E?E[0]:""}const bn=/^[^=?&#]+/,R=/^[^&#]+/;class X{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new In([],{}):new In([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(E.length>0||Object.keys(_).length>0)&&(O[ln]=new In(E,_)),O}parseSegment(){const E=ct(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(E),new Sr(Mr(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const _=ct(this.remaining);if(!_)return;this.capture(_);let O="";if(this.consumeOptional("=")){const U=ct(this.remaining);U&&(O=U,this.capture(O))}E[Mr(_)]=Mr(O)}parseQueryParam(E){const _=function Ln(D){const E=D.match(bn);return E?E[0]:""}(this.remaining);if(!_)return;this.capture(_);let O="";if(this.consumeOptional("=")){const Me=function B(D){const E=D.match(R);return E?E[0]:""}(this.remaining);Me&&(O=Me,this.capture(O))}const U=vr(_),J=vr(O);if(E.hasOwnProperty(U)){let Me=E[U];Array.isArray(Me)||(Me=[Me],E[U]=Me),Me.push(J)}else E[U]=J}parseParens(E){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=ct(this.remaining),U=this.remaining[O.length];if("/"!==U&&")"!==U&&";"!==U)throw new Error(`Cannot parse url '${this.url}'`);let J;O.indexOf(":")>-1?(J=O.substr(0,O.indexOf(":")),this.capture(J),this.capture(":")):E&&(J=ln);const Me=this.parseChildren();_[J]=1===Object.keys(Me).length?Me[ln]:new In([],Me),this.consumeOptional("//")}return _}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new Error(`Expected "${E}".`)}}class pe{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const _=this.pathFromRoot(E);return _.length>1?_[_.length-2]:null}children(E){const _=Z(E,this._root);return _?_.children.map(O=>O.value):[]}firstChild(E){const _=Z(E,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(E){const _=de(E,this._root);return _.length<2?[]:_[_.length-2].children.map(U=>U.value).filter(U=>U!==E)}pathFromRoot(E){return de(E,this._root).map(_=>_.value)}}function Z(D,E){if(D===E.value)return E;for(const _ of E.children){const O=Z(D,_);if(O)return O}return null}function de(D,E){if(D===E.value)return[E];for(const _ of E.children){const O=de(D,_);if(O.length)return O.unshift(E),O}return[]}class Ne{constructor(E,_){this.value=E,this.children=_}toString(){return`TreeNode(${this.value})`}}function yt(D){const E={};return D&&D.children.forEach(_=>E[_.value.outlet]=_),E}class ft extends pe{constructor(E,_){super(E),this.snapshot=_,ei(this,E)}toString(){return this.snapshot.toString()}}function wt(D,E){const _=function Zt(D,E){const Me=new Cr([],{},{},"",{},ln,E,null,D.root,-1,{});return new Nr("",new Ne(Me,[]))}(D,E),O=new Je.X([new Sr("",{})]),U=new Je.X({}),J=new Je.X({}),Me=new Je.X({}),He=new Je.X(""),St=new sn(O,U,Me,He,J,ln,E,_.root);return St.snapshot=_.root,new ft(new Ne(St,[]),_)}class sn{constructor(E,_,O,U,J,Me,He,St){this.url=E,this.params=_,this.queryParams=O,this.fragment=U,this.data=J,this.outlet=Me,this.component=He,this._futureSnapshot=St}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(E=>Mn(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(E=>Mn(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dn(D,E="emptyOnly"){const _=D.pathFromRoot;let O=0;if("always"!==E)for(O=_.length-1;O>=1;){const U=_[O],J=_[O-1];if(U.routeConfig&&""===U.routeConfig.path)O--;else{if(J.component)break;O--}}return function er(D){return D.reduce((E,_)=>({params:Object.assign(Object.assign({},E.params),_.params),data:Object.assign(Object.assign({},E.data),_.data),resolve:Object.assign(Object.assign({},E.resolve),_._resolvedData)}),{params:{},data:{},resolve:{}})}(_.slice(O))}class Cr{constructor(E,_,O,U,J,Me,He,St,un,ur,An){this.url=E,this.params=_,this.queryParams=O,this.fragment=U,this.data=J,this.outlet=Me,this.component=He,this.routeConfig=St,this._urlSegment=un,this._lastPathIndex=ur,this._resolve=An}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nr extends pe{constructor(E,_){super(_),this.url=E,ei(this,_)}toString(){return Pi(this._root)}}function ei(D,E){E.value._routerState=D,E.children.forEach(_=>ei(D,_))}function Pi(D){const E=D.children.length>0?` { ${D.children.map(Pi).join(", ")} } `:"";return`${D.value}${E}`}function Br(D){if(D.snapshot){const E=D.snapshot,_=D._futureSnapshot;D.snapshot=_,Ut(E.queryParams,_.queryParams)||D.queryParams.next(_.queryParams),E.fragment!==_.fragment&&D.fragment.next(_.fragment),Ut(E.params,_.params)||D.params.next(_.params),function mn(D,E){if(D.length!==E.length)return!1;for(let _=0;_<D.length;++_)if(!Ut(D[_],E[_]))return!1;return!0}(E.url,_.url)||D.url.next(_.url),Ut(E.data,_.data)||D.data.next(_.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function ai(D,E){const _=Ut(D.params,E.params)&&function Hr(D,E){return Dr(D,E)&&D.every((_,O)=>Ut(_.parameters,E[O].parameters))}(D.url,E.url);return _&&!(!D.parent!=!E.parent)&&(!D.parent||ai(D.parent,E.parent))}function Ni(D,E,_){if(_&&D.shouldReuseRoute(E.value,_.value.snapshot)){const O=_.value;O._futureSnapshot=E.value;const U=function Bs(D,E,_){return E.children.map(O=>{for(const U of _.children)if(D.shouldReuseRoute(O.value,U.value.snapshot))return Ni(D,O,U);return Ni(D,O)})}(D,E,_);return new Ne(O,U)}{if(D.shouldAttach(E.value)){const J=D.retrieve(E.value);if(null!==J){const Me=J.route;return Me.value._futureSnapshot=E.value,Me.children=E.children.map(He=>Ni(D,He)),Me}}const O=function so(D){return new sn(new Je.X(D.url),new Je.X(D.params),new Je.X(D.queryParams),new Je.X(D.fragment),new Je.X(D.data),D.outlet,D.component,D)}(E.value),U=E.children.map(J=>Ni(D,J));return new Ne(O,U)}}function ki(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Ti(D){return"object"==typeof D&&null!=D&&D.outlets}function $s(D,E,_,O,U){let J={};if(O&&nt(O,(He,St)=>{J[St]=Array.isArray(He)?He.map(un=>`${un}`):`${He}`}),D===E)return new Sn(_,J,U);const Me=yi(D,E,_);return new Sn(Me,J,U)}function yi(D,E,_){const O={};return nt(D.children,(U,J)=>{O[J]=U===E?_:yi(U,E,_)}),new In(D.segments,O)}class oo{constructor(E,_,O){if(this.isAbsolute=E,this.numberOfDoubleDots=_,this.commands=O,E&&O.length>0&&ki(O[0]))throw new Error("Root segment cannot have matrix parameters");const U=O.find(Ti);if(U&&U!==_e(O))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jr{constructor(E,_,O){this.segmentGroup=E,this.processChildren=_,this.index=O}}function Xi(D,E,_){if(D||(D=new In([],{})),0===D.segments.length&&D.hasChildren())return Fi(D,E,_);const O=function qs(D,E,_){let O=0,U=E;const J={match:!1,pathIndex:0,commandIndex:0};for(;U<D.segments.length;){if(O>=_.length)return J;const Me=D.segments[U],He=_[O];if(Ti(He))break;const St=`${He}`,un=O<_.length-1?_[O+1]:null;if(U>0&&void 0===St)break;if(St&&un&&"object"==typeof un&&void 0===un.outlets){if(!ti(St,un,Me))return J;O+=2}else{if(!ti(St,{},Me))return J;O++}U++}return{match:!0,pathIndex:U,commandIndex:O}}(D,E,_),U=_.slice(O.commandIndex);if(O.match&&O.pathIndex<D.segments.length){const J=new In(D.segments.slice(0,O.pathIndex),{});return J.children[ln]=new In(D.segments.slice(O.pathIndex),D.children),Fi(J,0,U)}return O.match&&0===U.length?new In(D.segments,{}):O.match&&!D.hasChildren()?ui(D,E,_):O.match?Fi(D,0,U):ui(D,E,_)}function Fi(D,E,_){if(0===_.length)return new In(D.segments,{});{const O=function Ds(D){return Ti(D[0])?D[0].outlets:{[ln]:D}}(_),U={};return nt(O,(J,Me)=>{"string"==typeof J&&(J=[J]),null!==J&&(U[Me]=Xi(D.children[Me],E,J))}),nt(D.children,(J,Me)=>{void 0===O[Me]&&(U[Me]=J)}),new In(D.segments,U)}}function ui(D,E,_){const O=D.segments.slice(0,E);let U=0;for(;U<_.length;){const J=_[U];if(Ti(J)){const St=_o(J.outlets);return new In(O,St)}if(0===U&&ki(_[0])){O.push(new Sr(D.segments[E].path,li(_[0]))),U++;continue}const Me=Ti(J)?J.outlets[ln]:`${J}`,He=U<_.length-1?_[U+1]:null;Me&&He&&ki(He)?(O.push(new Sr(Me,li(He))),U+=2):(O.push(new Sr(Me,{})),U++)}return new In(O,{})}function _o(D){const E={};return nt(D,(_,O)=>{"string"==typeof _&&(_=[_]),null!==_&&(E[O]=ui(new In([],{}),0,_))}),E}function li(D){const E={};return nt(D,(_,O)=>E[O]=`${_}`),E}function ti(D,E,_){return D==_.path&&Ut(E,_.parameters)}class Li{constructor(E,_,O,U){this.routeReuseStrategy=E,this.futureState=_,this.currState=O,this.forwardEvent=U}activate(E){const _=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,O,E),Br(this.futureState.root),this.activateChildRoutes(_,O,E)}deactivateChildRoutes(E,_,O){const U=yt(_);E.children.forEach(J=>{const Me=J.value.outlet;this.deactivateRoutes(J,U[Me],O),delete U[Me]}),nt(U,(J,Me)=>{this.deactivateRouteAndItsChildren(J,O)})}deactivateRoutes(E,_,O){const U=E.value,J=_?_.value:null;if(U===J)if(U.component){const Me=O.getContext(U.outlet);Me&&this.deactivateChildRoutes(E,_,Me.children)}else this.deactivateChildRoutes(E,_,O);else J&&this.deactivateRouteAndItsChildren(_,O)}deactivateRouteAndItsChildren(E,_){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,_):this.deactivateRouteAndOutlet(E,_)}detachAndStoreRouteSubtree(E,_){const O=_.getContext(E.value.outlet),U=O&&E.value.component?O.children:_,J=yt(E);for(const Me of Object.keys(J))this.deactivateRouteAndItsChildren(J[Me],U);if(O&&O.outlet){const Me=O.outlet.detach(),He=O.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:Me,route:E,contexts:He})}}deactivateRouteAndOutlet(E,_){const O=_.getContext(E.value.outlet),U=O&&E.value.component?O.children:_,J=yt(E);for(const Me of Object.keys(J))this.deactivateRouteAndItsChildren(J[Me],U);O&&O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated(),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(E,_,O){const U=yt(_);E.children.forEach(J=>{this.activateRoutes(J,U[J.value.outlet],O),this.forwardEvent(new Pr(J.value.snapshot))}),E.children.length&&this.forwardEvent(new Ur(E.value.snapshot))}activateRoutes(E,_,O){const U=E.value,J=_?_.value:null;if(Br(U),U===J)if(U.component){const Me=O.getOrCreateContext(U.outlet);this.activateChildRoutes(E,_,Me.children)}else this.activateChildRoutes(E,_,O);else if(U.component){const Me=O.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const He=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),Me.children.onOutletReAttached(He.contexts),Me.attachRef=He.componentRef,Me.route=He.route.value,Me.outlet&&Me.outlet.attach(He.componentRef,He.route.value),Br(He.route.value),this.activateChildRoutes(E,null,Me.children)}else{const He=function Wr(D){for(let E=D.parent;E;E=E.parent){const _=E.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig;if(_&&_.component)return null}return null}(U.snapshot),St=He?He.module.componentFactoryResolver:null;Me.attachRef=null,Me.route=U,Me.resolver=St,Me.outlet&&Me.outlet.activateWith(U,St),this.activateChildRoutes(E,null,Me.children)}}else this.activateChildRoutes(E,null,O)}}class ci{constructor(E,_){this.routes=E,this.module=_}}function Qi(D){return"function"==typeof D}function Xr(D){return D instanceof Sn}const fs=Symbol("INITIAL_VALUE");function _i(){return(0,hn.w)(D=>function ue(...D){let E,_;return(0,G.K)(D[D.length-1])&&(_=D.pop()),"function"==typeof D[D.length-1]&&(E=D.pop()),1===D.length&&(0,$.k)(D[0])&&(D=D[0]),(0,oe.n)(D,_).lift(new Q(E))}(D.map(E=>E.pipe((0,on.q)(1),(0,zt.O)(fs)))).pipe((0,gn.R)((E,_)=>{let O=!1;return _.reduce((U,J,Me)=>U!==fs?U:(J===fs&&(O=!0),O||!1!==J&&Me!==_.length-1&&!Xr(J)?U:J),E)},fs),(0,ze.h)(E=>E!==fs),(0,Ot.U)(E=>Xr(E)?E:!0===E),(0,on.q)(1)))}class N{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new K,this.attachRef=null}}class K{constructor(){this.contexts=new Map}onChildOutletCreated(E,_){const O=this.getOrCreateContext(E);O.outlet=_,this.contexts.set(E,O)}onChildOutletDestroyed(E){const _=this.getContext(E);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let _=this.getContext(E);return _||(_=new N,this.contexts.set(E,_)),_}getContext(E){return this.contexts.get(E)||null}}let F=(()=>{class D{constructor(_,O,U,J,Me){this.parentContexts=_,this.location=O,this.resolver=U,this.changeDetector=Me,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=J||ln,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,O){this.activated=_,this._activatedRoute=O,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,O){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;const Me=(O=O||this.resolver).resolveComponentFactory(_._futureSnapshot.routeConfig.component),He=this.parentContexts.getOrCreateContext(this.name).children,St=new ie(_,He,this.location.injector);this.activated=this.location.createComponent(Me,this.location.length,St),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(_){return new(_||D)(a.Y36(K),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},D.\u0275dir=a.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),D})();class ie{constructor(E,_,O){this.route=E,this.childContexts=_,this.parent=O}get(E,_){return E===sn?this.route:E===K?this.childContexts:this.parent.get(E,_)}}let Ve=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275cmp=a.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,O){1&_&&a._UZ(0,"router-outlet")},directives:[F],encapsulation:2}),D})();function pt(D,E=""){for(let _=0;_<D.length;_++){const O=D[_];kt(O,Bt(E,O))}}function kt(D,E){D.children&&pt(D.children,E)}function Bt(D,E){return E?D||E.path?D&&!E.path?`${D}/`:!D&&E.path?E.path:`${D}/${E.path}`:"":D}function Rr(D){const E=D.children&&D.children.map(Rr),_=E?Object.assign(Object.assign({},D),{children:E}):Object.assign({},D);return!_.component&&(E||_.loadChildren)&&_.outlet&&_.outlet!==ln&&(_.component=Ve),_}function Zn(D){return D.outlet||ln}function _r(D,E){const _=D.filter(O=>Zn(O)===E);return _.push(...D.filter(O=>Zn(O)!==E)),_}const Un={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m(D,E,_){var O;if(""===E.path)return"full"===E.pathMatch&&(D.hasChildren()||_.length>0)?Object.assign({},Un):{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const J=(E.matcher||Pt)(_,D,E);if(!J)return Object.assign({},Un);const Me={};nt(J.posParams,(St,un)=>{Me[un]=St.path});const He=J.consumed.length>0?Object.assign(Object.assign({},Me),J.consumed[J.consumed.length-1].parameters):Me;return{matched:!0,consumedSegments:J.consumed,remainingSegments:_.slice(J.consumed.length),parameters:He,positionalParamSegments:null!==(O=J.posParams)&&void 0!==O?O:{}}}function L(D,E,_,O,U="corrected"){if(_.length>0&&function ee(D,E,_){return _.some(O=>Ht(D,E,O)&&Zn(O)!==ln)}(D,_,O)){const Me=new In(E,function k(D,E,_,O){const U={};U[ln]=O,O._sourceSegment=D,O._segmentIndexShift=E.length;for(const J of _)if(""===J.path&&Zn(J)!==ln){const Me=new In([],{});Me._sourceSegment=D,Me._segmentIndexShift=E.length,U[Zn(J)]=Me}return U}(D,E,O,new In(_,D.children)));return Me._sourceSegment=D,Me._segmentIndexShift=E.length,{segmentGroup:Me,slicedSegments:[]}}if(0===_.length&&function gt(D,E,_){return _.some(O=>Ht(D,E,O))}(D,_,O)){const Me=new In(D.segments,function g(D,E,_,O,U,J){const Me={};for(const He of O)if(Ht(D,_,He)&&!U[Zn(He)]){const St=new In([],{});St._sourceSegment=D,St._segmentIndexShift="legacy"===J?D.segments.length:E.length,Me[Zn(He)]=St}return Object.assign(Object.assign({},U),Me)}(D,E,_,O,D.children,U));return Me._sourceSegment=D,Me._segmentIndexShift=E.length,{segmentGroup:Me,slicedSegments:_}}const J=new In(D.segments,D.children);return J._sourceSegment=D,J._segmentIndexShift=E.length,{segmentGroup:J,slicedSegments:_}}function Ht(D,E,_){return(!(D.hasChildren()||E.length>0)||"full"!==_.pathMatch)&&""===_.path}function M(D,E,_,O){return!!(Zn(D)===O||O!==ln&&Ht(E,_,D))&&("**"===D.path||m(E,D,_).matched)}function S(D,E,_){return 0===E.length&&!D.children[_]}class C{constructor(E){this.segmentGroup=E||null}}class z{constructor(E){this.urlTree=E}}function _t(D){return(0,te._)(new C(D))}function nn(D){return(0,te._)(new z(D))}class Hi{constructor(E,_,O,U,J){this.configLoader=_,this.urlSerializer=O,this.urlTree=U,this.config=J,this.allowRedirects=!0,this.ngModule=E.get(a.h0i)}apply(){const E=L(this.urlTree.root,[],[],this.config).segmentGroup,_=new In(E.segments,E.children);return this.expandSegmentGroup(this.ngModule,this.config,_,ln).pipe((0,Ot.U)(J=>this.createUrlTree(Mt(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ct(J=>{if(J instanceof z)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof C?this.noMatchError(J):J}))}match(E){return this.expandSegmentGroup(this.ngModule,this.config,E.root,ln).pipe((0,Ot.U)(U=>this.createUrlTree(Mt(U),E.queryParams,E.fragment))).pipe(Ct(U=>{throw U instanceof C?this.noMatchError(U):U}))}noMatchError(E){return new Error(`Cannot match any routes. URL Segment: '${E.segmentGroup}'`)}createUrlTree(E,_,O){const U=E.segments.length>0?new In([],{[ln]:E}):E;return new Sn(U,_,O)}expandSegmentGroup(E,_,O,U){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(E,_,O).pipe((0,Ot.U)(J=>new In([],J))):this.expandSegment(E,O,_,O.segments,U,!0)}expandChildren(E,_,O){const U=[];for(const J of Object.keys(O.children))"primary"===J?U.unshift(J):U.push(J);return(0,rt.D)(U).pipe(Ae(J=>{const Me=O.children[J],He=_r(_,J);return this.expandSegmentGroup(E,He,Me,J).pipe((0,Ot.U)(St=>({segment:St,outlet:J})))}),(0,gn.R)((J,Me)=>(J[Me.outlet]=Me.segment,J),{}),function Ze(D,E){const _=arguments.length>=2;return O=>O.pipe(D?(0,ze.h)((U,J)=>D(U,J,O)):qe.y,Rt(1),_?(0,Xe.d)(E):(0,Qe.T)(()=>new Ye.K))}())}expandSegment(E,_,O,U,J,Me){return(0,rt.D)(O).pipe(Ae(He=>this.expandSegmentAgainstRoute(E,_,O,He,U,J,Me).pipe(Ct(un=>{if(un instanceof C)return(0,ge.of)(null);throw un}))),(0,It.P)(He=>!!He),Ct((He,St)=>{if(He instanceof Ye.K||"EmptyError"===He.name)return S(_,U,J)?(0,ge.of)(new In([],{})):_t(_);throw He}))}expandSegmentAgainstRoute(E,_,O,U,J,Me,He){return M(U,_,J,Me)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(E,_,U,J,Me):He&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,_,O,U,J,Me):_t(_):_t(_)}expandSegmentAgainstRouteUsingRedirect(E,_,O,U,J,Me){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,O,U,Me):this.expandRegularSegmentAgainstRouteUsingRedirect(E,_,O,U,J,Me)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,_,O,U){const J=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?nn(J):this.lineralizeSegments(O,J).pipe((0,he.zg)(Me=>{const He=new In(Me,{});return this.expandSegment(E,He,_,Me,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,_,O,U,J,Me){const{matched:He,consumedSegments:St,remainingSegments:un,positionalParamSegments:ur}=m(_,U,J);if(!He)return _t(_);const An=this.applyRedirectCommands(St,U.redirectTo,ur);return U.redirectTo.startsWith("/")?nn(An):this.lineralizeSegments(U,An).pipe((0,he.zg)(_n=>this.expandSegment(E,_,O,_n.concat(un),Me,!1)))}matchSegmentAgainstRoute(E,_,O,U,J){if("**"===O.path)return O.loadChildren?(O._loadedConfig?(0,ge.of)(O._loadedConfig):this.configLoader.load(E.injector,O)).pipe((0,Ot.U)(An=>(O._loadedConfig=An,new In(U,{})))):(0,ge.of)(new In(U,{}));const{matched:Me,consumedSegments:He,remainingSegments:St}=m(_,O,U);return Me?this.getChildConfig(E,O,U).pipe((0,he.zg)(ur=>{const An=ur.module,_n=ur.routes,{segmentGroup:br,slicedSegments:Ai}=L(_,He,St,_n),Ar=new In(br.segments,br.children);if(0===Ai.length&&Ar.hasChildren())return this.expandChildren(An,_n,Ar).pipe((0,Ot.U)(jo=>new In(He,jo)));if(0===_n.length&&0===Ai.length)return(0,ge.of)(new In(He,{}));const Fn=Zn(O)===J;return this.expandSegment(An,Ar,_n,Ai,Fn?ln:J,!0).pipe((0,Ot.U)(Ss=>new In(He.concat(Ss.segments),Ss.children)))})):_t(_)}getChildConfig(E,_,O){return _.children?(0,ge.of)(new ci(_.children,E)):_.loadChildren?void 0!==_._loadedConfig?(0,ge.of)(_._loadedConfig):this.runCanLoadGuards(E.injector,_,O).pipe((0,he.zg)(U=>U?this.configLoader.load(E.injector,_).pipe((0,Ot.U)(J=>(_._loadedConfig=J,J))):function $r(D){return(0,te._)(qt(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`))}(_))):(0,ge.of)(new ci([],E))}runCanLoadGuards(E,_,O){const U=_.canLoad;if(!U||0===U.length)return(0,ge.of)(!0);const J=U.map(Me=>{const He=E.get(Me);let St;if(function Yr(D){return D&&Qi(D.canLoad)}(He))St=He.canLoad(_,O);else{if(!Qi(He))throw new Error("Invalid CanLoad guard");St=He(_,O)}return ae(St)});return(0,ge.of)(J).pipe(_i(),(0,Pn.b)(Me=>{if(!Xr(Me))return;const He=qt(`Redirecting to "${this.urlSerializer.serialize(Me)}"`);throw He.url=Me,He}),(0,Ot.U)(Me=>!0===Me))}lineralizeSegments(E,_){let O=[],U=_.root;for(;;){if(O=O.concat(U.segments),0===U.numberOfChildren)return(0,ge.of)(O);if(U.numberOfChildren>1||!U.children[ln])return(0,te._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${E.redirectTo}'`));U=U.children[ln]}}applyRedirectCommands(E,_,O){return this.applyRedirectCreatreUrlTree(_,this.urlSerializer.parse(_),E,O)}applyRedirectCreatreUrlTree(E,_,O,U){const J=this.createSegmentGroup(E,_.root,O,U);return new Sn(J,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(E,_){const O={};return nt(E,(U,J)=>{if("string"==typeof U&&U.startsWith(":")){const He=U.substring(1);O[J]=_[He]}else O[J]=U}),O}createSegmentGroup(E,_,O,U){const J=this.createSegments(E,_.segments,O,U);let Me={};return nt(_.children,(He,St)=>{Me[St]=this.createSegmentGroup(E,He,O,U)}),new In(J,Me)}createSegments(E,_,O,U){return _.map(J=>J.path.startsWith(":")?this.findPosParam(E,J,U):this.findOrReturn(J,O))}findPosParam(E,_,O){const U=O[_.path.substring(1)];if(!U)throw new Error(`Cannot redirect to '${E}'. Cannot find '${_.path}'.`);return U}findOrReturn(E,_){let O=0;for(const U of _){if(U.path===E.path)return _.splice(O),U;O++}return E}}function Mt(D){const E={};for(const O of Object.keys(D.children)){const J=Mt(D.children[O]);(J.segments.length>0||J.hasChildren())&&(E[O]=J)}return function Cs(D){if(1===D.numberOfChildren&&D.children[ln]){const E=D.children[ln];return new In(D.segments.concat(E.segments),E.children)}return D}(new In(D.segments,E))}class Ma{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Gr{constructor(E,_){this.component=E,this.route=_}}function pu(D,E,_){const O=D._root;return ps(O,E?E._root:null,_,[O.value])}function Ji(D,E,_){const O=function uo(D){if(!D)return null;for(let E=D.parent;E;E=E.parent){const _=E.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig}return null}(E);return(O?O.module.injector:_).get(D)}function ps(D,E,_,O,U={canDeactivateChecks:[],canActivateChecks:[]}){const J=yt(E);return D.children.forEach(Me=>{(function Ra(D,E,_,O,U={canDeactivateChecks:[],canActivateChecks:[]}){const J=D.value,Me=E?E.value:null,He=_?_.getContext(D.value.outlet):null;if(Me&&J.routeConfig===Me.routeConfig){const St=function Eo(D,E,_){if("function"==typeof _)return _(D,E);switch(_){case"pathParamsChange":return!Dr(D.url,E.url);case"pathParamsOrQueryParamsChange":return!Dr(D.url,E.url)||!Ut(D.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ai(D,E)||!Ut(D.queryParams,E.queryParams);default:return!ai(D,E)}}(Me,J,J.routeConfig.runGuardsAndResolvers);St?U.canActivateChecks.push(new Ma(O)):(J.data=Me.data,J._resolvedData=Me._resolvedData),ps(D,E,J.component?He?He.children:null:_,O,U),St&&He&&He.outlet&&He.outlet.isActivated&&U.canDeactivateChecks.push(new Gr(He.outlet.component,Me))}else Me&&Ks(E,He,U),U.canActivateChecks.push(new Ma(O)),ps(D,null,J.component?He?He.children:null:_,O,U)})(Me,J[Me.value.outlet],_,O.concat([Me.value]),U),delete J[Me.value.outlet]}),nt(J,(Me,He)=>Ks(Me,_.getContext(He),U)),U}function Ks(D,E,_){const O=yt(D),U=D.value;nt(O,(J,Me)=>{Ks(J,U.component?E?E.children.getContext(Me):null:E,_)}),_.canDeactivateChecks.push(new Gr(U.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,U))}class el{}function $o(D){return new Ce.y(E=>E.error(D))}class ea{constructor(E,_,O,U,J,Me){this.rootComponentType=E,this.config=_,this.urlTree=O,this.url=U,this.paramsInheritanceStrategy=J,this.relativeLinkResolution=Me}recognize(){const E=L(this.urlTree.root,[],[],this.config.filter(Me=>void 0===Me.redirectTo),this.relativeLinkResolution).segmentGroup,_=this.processSegmentGroup(this.config,E,ln);if(null===_)return null;const O=new Cr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new Ne(O,_),J=new Nr(this.url,U);return this.inheritParamsAndData(J._root),J}inheritParamsAndData(E){const _=E.value,O=Dn(_,this.paramsInheritanceStrategy);_.params=Object.freeze(O.params),_.data=Object.freeze(O.data),E.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(E,_,O){return 0===_.segments.length&&_.hasChildren()?this.processChildren(E,_):this.processSegment(E,_,_.segments,O)}processChildren(E,_){const O=[];for(const J of Object.keys(_.children)){const Me=_.children[J],He=_r(E,J),St=this.processSegmentGroup(He,Me,J);if(null===St)return null;O.push(...St)}const U=na(O);return function Us(D){D.sort((E,_)=>E.value.outlet===ln?-1:_.value.outlet===ln?1:E.value.outlet.localeCompare(_.value.outlet))}(U),U}processSegment(E,_,O,U){for(const J of E){const Me=this.processSegmentAgainstRoute(J,_,O,U);if(null!==Me)return Me}return S(_,O,U)?[]:null}processSegmentAgainstRoute(E,_,O,U){if(E.redirectTo||!M(E,_,O,U))return null;let J,Me=[],He=[];if("**"===E.path){const br=O.length>0?_e(O).parameters:{};J=new Cr(O,br,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qa(E),Zn(E),E.component,E,ia(_),Qs(_)+O.length,Oa(E))}else{const br=m(_,E,O);if(!br.matched)return null;Me=br.consumedSegments,He=br.remainingSegments,J=new Cr(Me,br.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qa(E),Zn(E),E.component,E,ia(_),Qs(_)+Me.length,Oa(E))}const St=function ta(D){return D.children?D.children:D.loadChildren?D._loadedConfig.routes:[]}(E),{segmentGroup:un,slicedSegments:ur}=L(_,Me,He,St.filter(br=>void 0===br.redirectTo),this.relativeLinkResolution);if(0===ur.length&&un.hasChildren()){const br=this.processChildren(St,un);return null===br?null:[new Ne(J,br)]}if(0===St.length&&0===ur.length)return[new Ne(J,[])];const An=Zn(E)===U,_n=this.processSegment(St,un,ur,An?ln:U);return null===_n?null:[new Ne(J,_n)]}}function Xs(D){const E=D.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function na(D){const E=[],_=new Set;for(const O of D){if(!Xs(O)){E.push(O);continue}const U=E.find(J=>O.value.routeConfig===J.value.routeConfig);void 0!==U?(U.children.push(...O.children),_.add(U)):E.push(O)}for(const O of _){const U=na(O.children);E.push(new Ne(O.value,U))}return E.filter(O=>!_.has(O))}function ia(D){let E=D;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Qs(D){let E=D,_=E._segmentIndexShift?E._segmentIndexShift:0;for(;E._sourceSegment;)E=E._sourceSegment,_+=E._segmentIndexShift?E._segmentIndexShift:0;return _-1}function qa(D){return D.data||{}}function Oa(D){return D.resolve||{}}function Os(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}function ms(D){return(0,hn.w)(E=>{const _=D(E);return _?(0,rt.D)(_).pipe((0,Ot.U)(()=>E)):(0,ge.of)(E)})}class oa{}class Pa extends class mu{shouldDetach(E){return!1}store(E,_){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,_){return E.routeConfig===_.routeConfig}}{}const oi=new a.OlP("ROUTES");class Na{constructor(E,_,O,U){this.injector=E,this.compiler=_,this.onLoadStartListener=O,this.onLoadEndListener=U}load(E,_){if(_._loader$)return _._loader$;this.onLoadStartListener&&this.onLoadStartListener(_);const U=this.loadModuleFactory(_.loadChildren).pipe((0,Ot.U)(J=>{this.onLoadEndListener&&this.onLoadEndListener(_);const Me=J.create(E);return new ci(Fe(Me.injector.get(oi,void 0,a.XFs.Self|a.XFs.Optional)).map(Rr),Me)}),Ct(J=>{throw _._loader$=void 0,J}));return _._loader$=new je.c(U,()=>new ot.xQ).pipe((0,Nn.x)()),_._loader$}loadModuleFactory(E){return ae(E()).pipe((0,he.zg)(_=>_ instanceof a.YKP?(0,ge.of)(_):(0,rt.D)(this.compiler.compileModuleAsync(_))))}}class Io{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,_){return E}}function aa(D){throw D}function as(D,E,_){return E.parse("/")}function ua(D,E){return(0,ge.of)(null)}const ka={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class D{constructor(_,O,U,J,Me,He,St){this.rootComponentType=_,this.urlSerializer=O,this.rootContexts=U,this.location=J,this.config=St,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ot.xQ,this.errorHandler=aa,this.malformedUriErrorHandler=as,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ua,afterPreactivation:ua},this.urlHandlingStrategy=new Io,this.routeReuseStrategy=new Pa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Me.get(a.h0i),this.console=Me.get(a.c2e);const An=Me.get(a.R0b);this.isNgZoneEnabled=An instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(St),this.currentUrlTree=function me(){return new Sn(new In([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Na(Me,He,_n=>this.triggerEvent(new en(_n)),_n=>this.triggerEvent(new Yt(_n))),this.routerState=wt(this.currentUrlTree,this.rootComponentType),this.transitions=new Je.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var _;return null===(_=this.location.getState())||void 0===_?void 0:_.\u0275routerPageId}setupNavigations(_){const O=this.events;return _.pipe((0,ze.h)(U=>0!==U.id),(0,Ot.U)(U=>Object.assign(Object.assign({},U),{extractedUrl:this.urlHandlingStrategy.extract(U.rawUrl)})),(0,hn.w)(U=>{let J=!1,Me=!1;return(0,ge.of)(U).pipe((0,Pn.b)(He=>{this.currentNavigation={id:He.id,initialUrl:He.currentRawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,hn.w)(He=>{const St=this.browserUrlTree.toString(),un=!this.navigated||He.extractedUrl.toString()!==St||St!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||un)&&this.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return es(He.source)&&(this.browserUrlTree=He.extractedUrl),(0,ge.of)(He).pipe((0,hn.w)(An=>{const _n=this.transitions.getValue();return O.next(new Bn(An.id,this.serializeUrl(An.extractedUrl),An.source,An.restoredState)),_n!==this.transitions.getValue()?fe.E:Promise.resolve(An)}),function Er(D,E,_,O){return(0,hn.w)(U=>function di(D,E,_,O,U){return new Hi(D,E,_,O,U).apply()}(D,E,_,U.extractedUrl,O).pipe((0,Ot.U)(J=>Object.assign(Object.assign({},U),{urlAfterRedirects:J}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pn.b)(An=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:An.urlAfterRedirects})}),function sa(D,E,_,O,U){return(0,he.zg)(J=>function bo(D,E,_,O,U="emptyOnly",J="legacy"){try{const Me=new ea(D,E,_,O,U,J).recognize();return null===Me?$o(new el):(0,ge.of)(Me)}catch(Me){return $o(Me)}}(D,E,J.urlAfterRedirects,_(J.urlAfterRedirects),O,U).pipe((0,Ot.U)(Me=>Object.assign(Object.assign({},J),{targetSnapshot:Me}))))}(this.rootComponentType,this.config,An=>this.serializeUrl(An),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pn.b)(An=>{if("eager"===this.urlUpdateStrategy){if(!An.extras.skipLocationChange){const br=this.urlHandlingStrategy.merge(An.urlAfterRedirects,An.rawUrl);this.setBrowserUrl(br,An)}this.browserUrlTree=An.urlAfterRedirects}const _n=new qn(An.id,this.serializeUrl(An.extractedUrl),this.serializeUrl(An.urlAfterRedirects),An.targetSnapshot);O.next(_n)}));if(un&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:_n,extractedUrl:br,source:Ai,restoredState:Ar,extras:Fn}=He,Qa=new Bn(_n,this.serializeUrl(br),Ai,Ar);O.next(Qa);const Ss=wt(br,this.rootComponentType).snapshot;return(0,ge.of)(Object.assign(Object.assign({},He),{targetSnapshot:Ss,urlAfterRedirects:br,extras:Object.assign(Object.assign({},Fn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=He.rawUrl,He.resolve(null),fe.E}),ms(He=>{const{targetSnapshot:St,id:un,extractedUrl:ur,rawUrl:An,extras:{skipLocationChange:_n,replaceUrl:br}}=He;return this.hooks.beforePreactivation(St,{navigationId:un,appliedUrlTree:ur,rawUrlTree:An,skipLocationChange:!!_n,replaceUrl:!!br})}),(0,Pn.b)(He=>{const St=new xr(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(St)}),(0,Ot.U)(He=>Object.assign(Object.assign({},He),{guards:pu(He.targetSnapshot,He.currentSnapshot,this.rootContexts)})),function Ts(D,E){return(0,he.zg)(_=>{const{targetSnapshot:O,currentSnapshot:U,guards:{canActivateChecks:J,canDeactivateChecks:Me}}=_;return 0===Me.length&&0===J.length?(0,ge.of)(Object.assign(Object.assign({},_),{guardsResult:!0})):function Ei(D,E,_,O){return(0,rt.D)(D).pipe((0,he.zg)(U=>function gu(D,E,_,O,U){const J=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,ge.of)(!0);const Me=J.map(He=>{const St=Ji(He,E,U);let un;if(function os(D){return D&&Qi(D.canDeactivate)}(St))un=ae(St.canDeactivate(D,E,_,O));else{if(!Qi(St))throw new Error("Invalid CanDeactivate guard");un=ae(St(D,E,_,O))}return un.pipe((0,It.P)())});return(0,ge.of)(Me).pipe(_i())}(U.component,U.route,_,E,O)),(0,It.P)(U=>!0!==U,!0))}(Me,O,U,D).pipe((0,he.zg)(He=>He&&function hs(D){return"boolean"==typeof D}(He)?function gs(D,E,_,O){return(0,rt.D)(E).pipe(Ae(U=>(0,be.z)(function Rs(D,E){return null!==D&&E&&E(new wr(D)),(0,ge.of)(!0)}(U.route.parent,O),function ni(D,E){return null!==D&&E&&E(new Kn(D)),(0,ge.of)(!0)}(U.route,O),function Jo(D,E,_){const O=E[E.length-1],J=E.slice(0,E.length-1).reverse().map(Me=>function Bo(D){const E=D.routeConfig?D.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:D,guards:E}:null}(Me)).filter(Me=>null!==Me).map(Me=>ve(()=>{const He=Me.guards.map(St=>{const un=Ji(St,Me.node,_);let ur;if(function vi(D){return D&&Qi(D.canActivateChild)}(un))ur=ae(un.canActivateChild(O,D));else{if(!Qi(un))throw new Error("Invalid CanActivateChild guard");ur=ae(un(O,D))}return ur.pipe((0,It.P)())});return(0,ge.of)(He).pipe(_i())}));return(0,ge.of)(J).pipe(_i())}(D,U.path,_),function Zs(D,E,_){const O=E.routeConfig?E.routeConfig.canActivate:null;if(!O||0===O.length)return(0,ge.of)(!0);const U=O.map(J=>ve(()=>{const Me=Ji(J,E,_);let He;if(function ss(D){return D&&Qi(D.canActivate)}(Me))He=ae(Me.canActivate(E,D));else{if(!Qi(Me))throw new Error("Invalid CanActivate guard");He=ae(Me(E,D))}return He.pipe((0,It.P)())}));return(0,ge.of)(U).pipe(_i())}(D,U.route,_))),(0,It.P)(U=>!0!==U,!0))}(O,J,D,E):(0,ge.of)(He)),(0,Ot.U)(He=>Object.assign(Object.assign({},_),{guardsResult:He})))})}(this.ngModule.injector,He=>this.triggerEvent(He)),(0,Pn.b)(He=>{if(Xr(He.guardsResult)){const un=qt(`Redirecting to "${this.serializeUrl(He.guardsResult)}"`);throw un.url=He.guardsResult,un}const St=new hr(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.triggerEvent(St)}),(0,ze.h)(He=>!!He.guardsResult||(this.restoreHistory(He),this.cancelNavigationTransition(He,""),!1)),ms(He=>{if(He.guards.canActivateChecks.length)return(0,ge.of)(He).pipe((0,Pn.b)(St=>{const un=new Tr(St.id,this.serializeUrl(St.extractedUrl),this.serializeUrl(St.urlAfterRedirects),St.targetSnapshot);this.triggerEvent(un)}),(0,hn.w)(St=>{let un=!1;return(0,ge.of)(St).pipe(function Ka(D,E){return(0,he.zg)(_=>{const{targetSnapshot:O,guards:{canActivateChecks:U}}=_;if(!U.length)return(0,ge.of)(_);let J=0;return(0,rt.D)(U).pipe(Ae(Me=>function tl(D,E,_,O){return function Vi(D,E,_,O){const U=Os(D);if(0===U.length)return(0,ge.of)({});const J={};return(0,rt.D)(U).pipe((0,he.zg)(Me=>function zr(D,E,_,O){const U=Ji(D,E,O);return ae(U.resolve?U.resolve(E,_):U(E,_))}(D[Me],E,_,O).pipe((0,Pn.b)(He=>{J[Me]=He}))),Rt(1),(0,he.zg)(()=>Os(J).length===U.length?(0,ge.of)(J):fe.E))}(D._resolve,D,E,O).pipe((0,Ot.U)(J=>(D._resolvedData=J,D.data=Object.assign(Object.assign({},D.data),Dn(D,_).resolve),null)))}(Me.route,O,D,E)),(0,Pn.b)(()=>J++),Rt(1),(0,he.zg)(Me=>J===U.length?(0,ge.of)(_):fe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pn.b)({next:()=>un=!0,complete:()=>{un||(this.restoreHistory(St),this.cancelNavigationTransition(St,"At least one route resolver didn't emit any value."))}}))}),(0,Pn.b)(St=>{const un=new kn(St.id,this.serializeUrl(St.extractedUrl),this.serializeUrl(St.urlAfterRedirects),St.targetSnapshot);this.triggerEvent(un)}))}),ms(He=>{const{targetSnapshot:St,id:un,extractedUrl:ur,rawUrl:An,extras:{skipLocationChange:_n,replaceUrl:br}}=He;return this.hooks.afterPreactivation(St,{navigationId:un,appliedUrlTree:ur,rawUrlTree:An,skipLocationChange:!!_n,replaceUrl:!!br})}),(0,Ot.U)(He=>{const St=function Ui(D,E,_){const O=Ni(D,E._root,_?_._root:void 0);return new ft(O,E)}(this.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return Object.assign(Object.assign({},He),{targetRouterState:St})}),(0,Pn.b)(He=>{this.currentUrlTree=He.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(He.urlAfterRedirects,He.rawUrl),this.routerState=He.targetRouterState,"deferred"===this.urlUpdateStrategy&&(He.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,He),this.browserUrlTree=He.urlAfterRedirects)}),((D,E,_)=>(0,Ot.U)(O=>(new Li(E,O.targetRouterState,O.currentRouterState,_).activate(D),O)))(this.rootContexts,this.routeReuseStrategy,He=>this.triggerEvent(He)),(0,Pn.b)({next(){J=!0},complete(){J=!0}}),function Ke(D){return E=>E.lift(new ut(D))}(()=>{var He;J||Me||this.cancelNavigationTransition(U,`Navigation ID ${U.id} is not equal to the current navigation id ${this.navigationId}`),(null===(He=this.currentNavigation)||void 0===He?void 0:He.id)===U.id&&(this.currentNavigation=null)}),Ct(He=>{if(Me=!0,function Dt(D){return D&&D[zn]}(He)){const St=Xr(He.url);St||(this.navigated=!0,this.restoreHistory(U,!0));const un=new wn(U.id,this.serializeUrl(U.extractedUrl),He.message);O.next(un),St?setTimeout(()=>{const ur=this.urlHandlingStrategy.merge(He.url,this.rawUrlTree),An={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||es(U.source)};this.scheduleNavigation(ur,"imperative",null,An,{resolve:U.resolve,reject:U.reject,promise:U.promise})},0):U.resolve(!1)}else{this.restoreHistory(U,!0);const St=new tn(U.id,this.serializeUrl(U.extractedUrl),He);O.next(St);try{U.resolve(this.errorHandler(He))}catch(un){U.reject(un)}}return fe.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),_))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const O="popstate"===_.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{var U;const J={replaceUrl:!0},Me=(null===(U=_.state)||void 0===U?void 0:U.navigationId)?_.state:null;if(Me){const St=Object.assign({},Me);delete St.navigationId,delete St.\u0275routerPageId,0!==Object.keys(St).length&&(J.state=St)}const He=this.parseUrl(_.url);this.scheduleNavigation(He,O,Me,J)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){pt(_),this.config=_.map(Rr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,O={}){const{relativeTo:U,queryParams:J,fragment:Me,queryParamsHandling:He,preserveFragment:St}=O,un=U||this.routerState.root,ur=St?this.currentUrlTree.fragment:Me;let An=null;switch(He){case"merge":An=Object.assign(Object.assign({},this.currentUrlTree.queryParams),J);break;case"preserve":An=this.currentUrlTree.queryParams;break;default:An=J||null}return null!==An&&(An=this.removeEmptyProps(An)),function Ms(D,E,_,O,U){if(0===_.length)return $s(E.root,E.root,E.root,O,U);const J=function Ki(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new oo(!0,0,D);let E=0,_=!1;const O=D.reduce((U,J,Me)=>{if("object"==typeof J&&null!=J){if(J.outlets){const He={};return nt(J.outlets,(St,un)=>{He[un]="string"==typeof St?St.split("/"):St}),[...U,{outlets:He}]}if(J.segmentPath)return[...U,J.segmentPath]}return"string"!=typeof J?[...U,J]:0===Me?(J.split("/").forEach((He,St)=>{0==St&&"."===He||(0==St&&""===He?_=!0:".."===He?E++:""!=He&&U.push(He))}),U):[...U,J]},[]);return new oo(_,E,O)}(_);if(J.toRoot())return $s(E.root,E.root,new In([],{}),O,U);const Me=function ji(D,E,_){if(D.isAbsolute)return new jr(E.root,!0,0);if(-1===_.snapshot._lastPathIndex){const J=_.snapshot._urlSegment;return new jr(J,J===E.root,0)}const O=ki(D.commands[0])?0:1;return function Zi(D,E,_){let O=D,U=E,J=_;for(;J>U;){if(J-=U,O=O.parent,!O)throw new Error("Invalid number of '../'");U=O.segments.length}return new jr(O,!1,U-J)}(_.snapshot._urlSegment,_.snapshot._lastPathIndex+O,D.numberOfDoubleDots)}(J,E,D),He=Me.processChildren?Fi(Me.segmentGroup,Me.index,J.commands):Xi(Me.segmentGroup,Me.index,J.commands);return $s(E.root,Me.segmentGroup,He,O,U)}(un,this.currentUrlTree,_,An,null!=ur?ur:null)}navigateByUrl(_,O={skipLocationChange:!1}){const U=Xr(_)?_:this.parseUrl(_),J=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(J,"imperative",null,O)}navigate(_,O={skipLocationChange:!1}){return function Za(D){for(let E=0;E<D.length;E++){const _=D[E];if(null==_)throw new Error(`The requested path contains ${_} segment at index ${E}`)}}(_),this.navigateByUrl(this.createUrlTree(_,O),O)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let O;try{O=this.urlSerializer.parse(_)}catch(U){O=this.malformedUriErrorHandler(U,this.urlSerializer,_)}return O}isActive(_,O){let U;if(U=!0===O?Object.assign({},ka):!1===O?Object.assign({},eo):O,Xr(_))return Nt(this.currentUrlTree,_,U);const J=this.parseUrl(_);return Nt(this.currentUrlTree,J,U)}removeEmptyProps(_){return Object.keys(_).reduce((O,U)=>{const J=_[U];return null!=J&&(O[U]=J),O},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new Hn(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,O,U,J,Me){var He,St;if(this.disposed)return Promise.resolve(!1);let un,ur,An;Me?(un=Me.resolve,ur=Me.reject,An=Me.promise):An=new Promise((Ai,Ar)=>{un=Ai,ur=Ar});const _n=++this.navigationId;let br;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(U=this.location.getState()),br=U&&U.\u0275routerPageId?U.\u0275routerPageId:J.replaceUrl||J.skipLocationChange?null!==(He=this.browserPageId)&&void 0!==He?He:0:(null!==(St=this.browserPageId)&&void 0!==St?St:0)+1):br=0,this.setTransition({id:_n,targetPageId:br,source:O,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:J,resolve:un,reject:ur,promise:An,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),An.catch(Ai=>Promise.reject(Ai))}setBrowserUrl(_,O){const U=this.urlSerializer.serialize(_),J=Object.assign(Object.assign({},O.extras.state),this.generateNgRouterState(O.id,O.targetPageId));this.location.isCurrentPathEqualTo(U)||O.extras.replaceUrl?this.location.replaceState(U,"",J):this.location.go(U,"",J)}restoreHistory(_,O=!1){var U,J;if("computed"===this.canceledNavigationResolution){const Me=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(U=this.currentNavigation)||void 0===U?void 0:U.finalUrl)||0===Me?this.currentUrlTree===(null===(J=this.currentNavigation)||void 0===J?void 0:J.finalUrl)&&0===Me&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Me)}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,O){const U=new wn(_.id,this.serializeUrl(_.extractedUrl),O);this.triggerEvent(U),_.resolve(!1)}generateNgRouterState(_,O){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:O}:{navigationId:_}}}return D.\u0275fac=function(_){a.$Z()},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac}),D})();function es(D){return"imperative"!==D}let hi=(()=>{class D{constructor(_,O,U,J,Me){this.router=_,this.route=O,this.tabIndexAttribute=U,this.renderer=J,this.el=Me,this.commands=null,this.onChanges=new ot.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){if(null!=this.tabIndexAttribute)return;const O=this.renderer,U=this.el.nativeElement;null!==_?O.setAttribute(U,"tabindex",_):O.removeAttribute(U,"tabindex")}ngOnChanges(_){this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const _={skipLocationChange:Ps(this.skipLocationChange),replaceUrl:Ps(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ps(this.preserveFragment)})}}return D.\u0275fac=function(_){return new(_||D)(a.Y36(bi),a.Y36(sn),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},D.\u0275dir=a.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,O){1&_&&a.NdJ("click",function(){return O.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),D})();function Ps(D){return""===D||!!D}class Xa{}class Qr{preload(E,_){return _().pipe(Ct(()=>(0,ge.of)(null)))}}class ca{preload(E,_){return(0,ge.of)(null)}}let wo=(()=>{class D{constructor(_,O,U,J){this.router=_,this.injector=U,this.preloadingStrategy=J,this.loader=new Na(U,O,St=>_.triggerEvent(new en(St)),St=>_.triggerEvent(new Yt(St)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ze.h)(_=>_ instanceof Hn),Ae(()=>this.preload())).subscribe(()=>{})}preload(){const _=this.injector.get(a.h0i);return this.processRoutes(_,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,O){const U=[];for(const J of O)if(J.loadChildren&&!J.canLoad&&J._loadedConfig){const Me=J._loadedConfig;U.push(this.processRoutes(Me.module,Me.routes))}else J.loadChildren&&!J.canLoad?U.push(this.preloadConfig(_,J)):J.children&&U.push(this.processRoutes(_,J.children));return(0,rt.D)(U).pipe((0,Gn.J)(),(0,Ot.U)(J=>{}))}preloadConfig(_,O){return this.preloadingStrategy.preload(O,()=>(O._loadedConfig?(0,ge.of)(O._loadedConfig):this.loader.load(_.injector,O)).pipe((0,he.zg)(J=>(O._loadedConfig=J,this.processRoutes(J.module,J.routes)))))}}return D.\u0275fac=function(_){return new(_||D)(a.LFG(bi),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(Xa))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac}),D})(),co=(()=>{class D{constructor(_,O,U={}){this.router=_,this.viewportScroller=O,this.options=U,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},U.scrollPositionRestoration=U.scrollPositionRestoration||"disabled",U.anchorScrolling=U.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Bn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof Hn&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof ir&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,O){this.router.triggerEvent(new ir(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(_){a.$Z()},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac}),D})();const js=new a.OlP("ROUTER_CONFIGURATION"),ho=new a.OlP("ROUTER_FORROOT_GUARD"),Si=[pn.Ye,{provide:Wn,useClass:dr},{provide:bi,useFactory:function ts(D,E,_,O,U,J,Me={},He,St){const un=new bi(null,D,E,_,O,U,Fe(J));return He&&(un.urlHandlingStrategy=He),St&&(un.routeReuseStrategy=St),function da(D,E){D.errorHandler&&(E.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(E.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(E.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(E.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(E.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(E.canceledNavigationResolution=D.canceledNavigationResolution)}(Me,un),Me.enableTracing&&un.events.subscribe(ur=>{var An,_n;null===(An=console.group)||void 0===An||An.call(console,`Router Event: ${ur.constructor.name}`),console.log(ur.toString()),console.log(ur),null===(_n=console.groupEnd)||void 0===_n||_n.call(console)}),un},deps:[Wn,K,pn.Ye,a.zs3,a.Sil,oi,js,[class Js{},new a.FiY],[oa,new a.FiY]]},K,{provide:sn,useFactory:function vn(D){return D.routerState.root},deps:[bi]},wo,ca,Qr,{provide:js,useValue:{enableTracing:!1}}];function Ns(){return new a.PXZ("Router",bi)}let ys=(()=>{class D{constructor(_,O){}static forRoot(_,O){return{ngModule:D,providers:[Si,ri(_),{provide:ho,useFactory:Wt,deps:[[bi,new a.FiY,new a.tp0]]},{provide:js,useValue:O||{}},{provide:pn.S$,useFactory:Fa,deps:[pn.lw,[new a.tBr(pn.mr),new a.FiY],js]},{provide:co,useFactory:to,deps:[bi,pn.EM,js]},{provide:Xa,useExisting:O&&O.preloadingStrategy?O.preloadingStrategy:ca},{provide:a.PXZ,multi:!0,useFactory:Ns},[Vn,{provide:a.ip1,multi:!0,useFactory:Uo,deps:[Vn]},{provide:Et,useFactory:dn,deps:[Vn]},{provide:a.tb,multi:!0,useExisting:Et}]]}}static forChild(_){return{ngModule:D,providers:[ri(_)]}}}return D.\u0275fac=function(_){return new(_||D)(a.LFG(ho,8),a.LFG(bi,8))},D.\u0275mod=a.oAB({type:D}),D.\u0275inj=a.cJS({}),D})();function to(D,E,_){return _.scrollOffset&&E.setOffset(_.scrollOffset),new co(D,E,_)}function Fa(D,E,_={}){return _.useHash?new pn.Do(D,E):new pn.b0(D,E)}function Wt(D){return"guarded"}function ri(D){return[{provide:a.deG,multi:!0,useValue:D},{provide:oi,multi:!0,useValue:D}]}let Vn=(()=>{class D{constructor(_){this.injector=_,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ot.xQ}appInitializer(){return this.injector.get(pn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let O=null;const U=new Promise(He=>O=He),J=this.injector.get(bi),Me=this.injector.get(js);return"disabled"===Me.initialNavigation?(J.setUpLocationChangeListener(),O(!0)):"enabled"===Me.initialNavigation||"enabledBlocking"===Me.initialNavigation?(J.hooks.afterPreactivation=()=>this.initNavigation?(0,ge.of)(null):(this.initNavigation=!0,O(!0),this.resultOfPreactivationDone),J.initialNavigation()):O(!0),U})}bootstrapListener(_){const O=this.injector.get(js),U=this.injector.get(wo),J=this.injector.get(co),Me=this.injector.get(bi),He=this.injector.get(a.z2F);_===He.components[0]&&(("enabledNonBlocking"===O.initialNavigation||void 0===O.initialNavigation)&&Me.initialNavigation(),U.setUpPreloading(),J.init(),Me.resetRootComponentType(He.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(_){return new(_||D)(a.LFG(a.zs3))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac}),D})();function Uo(D){return D.appInitializer.bind(D)}function dn(D){return D.bootstrapListener.bind(D)}const Et=new a.OlP("Router Initializer")},3942:(Xt,tt,P)=>{"use strict";P.d(tt,{Z:()=>rt});var a=P(2090),G=P(4859),$=P(9681),xe=P(1877);class we{constructor(ve,ge){this._delegate=ve,this.firebase=ge,(0,$._addComponent)(ve,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(ve,ge=$._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const te=this._delegate.container.getProvider(ve);return!te.isInitialized()&&"EXPLICIT"===(null===(Je=te.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&te.initialize(),te.getImmediate({identifier:ge})}_removeServiceInstance(ve,ge=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ge)}_addComponent(ve){(0,$._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,$._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function ye(){const fe=function Ce(fe){const ve={},ge={__esModule:!0,initializeApp:function Ye(Le,Ct={}){const ce=$.initializeApp(Le,Ct);if((0,a.r3)(ve,ce.name))return ve[ce.name];const le=new fe(ce,ge);return ve[ce.name]=le,le},app:te,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function je(Le){const Ct=Le.name,ce=Ct.replace("-compat","");if($._registerComponent(Le)&&"PUBLIC"===Le.type){const le=(he=te())=>{if("function"!=typeof he[ce])throw Te.create("invalid-app-argument",{appName:Ct});return he[ce]()};void 0!==Le.serviceProps&&(0,a.ZB)(le,Le.serviceProps),ge[ce]=le,fe.prototype[ce]=function(...he){return this._getService.bind(this,Ct).apply(this,Le.multipleInstances?he:[])}}return"PUBLIC"===Le.type?ge[ce]:null},removeApp:function Je(Le){delete ve[Le]},useAsService:function ot(Le,Ct){return"serverAuth"===Ct?null:Ct},modularAPIs:$}};function te(Le){if(!(0,a.r3)(ve,Le=Le||$._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:Le});return ve[Le]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function be(){return Object.keys(ve).map(Le=>ve[Le])}}),te.App=fe,ge}(we);return fe.INTERNAL=Object.assign(Object.assign({},fe.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function ve(ge){(0,a.ZB)(fe,ge)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),fe}(),re=new xe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=oe;!function Pe(fe){(0,$.registerVersion)("@firebase/app-compat","0.1.23",fe)}()},9681:(Xt,tt,P)=>{"use strict";P.r(tt),P.d(tt,{FirebaseError:()=>xe.ZR,SDK_VERSION:()=>gn,_DEFAULT_ENTRY_NAME:()=>at,_addComponent:()=>Ze,_addOrOverwriteComponent:()=>et,_apps:()=>Xe,_clearComponents:()=>Ot,_components:()=>qe,_getProvider:()=>ut,_registerComponent:()=>Ke,_removeServiceInstance:()=>dt,deleteApp:()=>Gn,getApp:()=>Pn,getApps:()=>Nn,initializeApp:()=>It,onLog:()=>Bn,registerVersion:()=>Xn,setLogLevel:()=>Hn});var a=P(5861),G=P(4859),$=P(1877),xe=P(2090);class we{constructor(Dt){this.container=Dt}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function se(qt){const Dt=qt.getComponent();return"VERSION"===(null==Dt?void 0:Dt.type)}(Pt)){const mn=Pt.getImmediate();return`${mn.library}/${mn.version}`}return null}).filter(Pt=>Pt).join(" ")}}const Te="@firebase/app",ye=new $.Yd("@firebase/app"),at="[DEFAULT]",Qe={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,qe=new Map;function Ze(qt,Dt){try{qt.container.addComponent(Dt)}catch(Pt){ye.debug(`Component ${Dt.name} failed to register with FirebaseApp ${qt.name}`,Pt)}}function et(qt,Dt){qt.container.addOrOverwriteComponent(Dt)}function Ke(qt){const Dt=qt.name;if(qe.has(Dt))return ye.debug(`There were multiple attempts to register component ${Dt}.`),!1;qe.set(Dt,qt);for(const Pt of Xe.values())Ze(Pt,qt);return!0}function ut(qt,Dt){const Pt=qt.container.getProvider("heartbeat").getImmediate({optional:!0});return Pt&&Pt.triggerHeartbeat(),qt.container.getProvider(Dt)}function dt(qt,Dt,Pt=at){ut(qt,Dt).clearInstance(Pt)}function Ot(){qe.clear()}const on=new xe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class zt{constructor(Dt,Pt,mn){this._isDeleted=!1,this._options=Object.assign({},Dt),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=mn,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Dt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Dt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Dt){this._isDeleted=Dt}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const gn="9.7.0";function It(qt,Dt={}){"object"!=typeof Dt&&(Dt={name:Dt});const Pt=Object.assign({name:at,automaticDataCollectionEnabled:!1},Dt),mn=Pt.name;if("string"!=typeof mn||!mn)throw on.create("bad-app-name",{appName:String(mn)});const Ut=Xe.get(mn);if(Ut){if((0,xe.vZ)(qt,Ut.options)&&(0,xe.vZ)(Pt,Ut.config))return Ut;throw on.create("duplicate-app",{appName:mn})}const Qt=new G.H0(mn);for(const _e of qe.values())Qt.addComponent(_e);const Fe=new zt(qt,Pt,Qt);return Xe.set(mn,Fe),Fe}function Pn(qt=at){const Dt=Xe.get(qt);if(!Dt)throw on.create("no-app",{appName:qt});return Dt}function Nn(){return Array.from(Xe.values())}function Gn(qt){return pn.apply(this,arguments)}function pn(){return(pn=(0,a.Z)(function*(qt){const Dt=qt.name;Xe.has(Dt)&&(Xe.delete(Dt),yield Promise.all(qt.container.getProviders().map(Pt=>Pt.delete())),qt.isDeleted=!0)})).apply(this,arguments)}function Xn(qt,Dt,Pt){var mn;let Ut=null!==(mn=Qe[qt])&&void 0!==mn?mn:qt;Pt&&(Ut+=`-${Pt}`);const Qt=Ut.match(/\s|\//),Fe=Dt.match(/\s|\//);if(Qt||Fe){const _e=[`Unable to register library "${Ut}" with version "${Dt}":`];return Qt&&_e.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),Qt&&Fe&&_e.push("and"),Fe&&_e.push(`version name "${Dt}" contains illegal characters (whitespace or "/")`),void ye.warn(_e.join(" "))}Ke(new G.wA(`${Ut}-version`,()=>({library:Ut,version:Dt}),"VERSION"))}function Bn(qt,Dt){if(null!==qt&&"function"!=typeof qt)throw on.create("invalid-log-argument");(0,$.Am)(qt,Dt)}function Hn(qt){(0,$.Ub)(qt)}const qn="firebase-heartbeat-store";let xr=null;function hr(){return xr||(xr=(0,xe.X3)("firebase-heartbeat-database",1,(qt,Dt)=>{0===Dt&&qt.createObjectStore(qn)}).catch(qt=>{throw on.create("storage-open",{originalErrorMessage:qt.message})})),xr}function kn(){return(kn=(0,a.Z)(function*(qt){try{return(yield hr()).transaction(qn).objectStore(qn).get(wr(qt))}catch(Dt){throw on.create("storage-get",{originalErrorMessage:Dt.message})}})).apply(this,arguments)}function en(qt,Dt){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(qt,Dt){try{const mn=(yield hr()).transaction(qn,"readwrite");return yield mn.objectStore(qn).put(Dt,wr(qt)),mn.complete}catch(Pt){throw on.create("storage-set",{originalErrorMessage:Pt.message})}})).apply(this,arguments)}function wr(qt){return`${qt.name}!${qt.options.appId}`}class Pr{constructor(Dt){this.container=Dt,this._heartbeatsCache=null;const Pt=this.container.getProvider("app").getImmediate();this._storage=new sr(Pt),this._heartbeatsCachePromise=this._storage.read().then(mn=>(this._heartbeatsCache=mn,mn))}triggerHeartbeat(){var Dt=this;return(0,a.Z)(function*(){const mn=Dt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=ir();if(null===Dt._heartbeatsCache&&(Dt._heartbeatsCache=yield Dt._heartbeatsCachePromise),Dt._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!Dt._heartbeatsCache.heartbeats.some(Qt=>Qt.date===Ut))return Dt._heartbeatsCache.heartbeats.push({date:Ut,agent:mn}),Dt._heartbeatsCache.heartbeats=Dt._heartbeatsCache.heartbeats.filter(Qt=>{const Fe=new Date(Qt.date).valueOf();return Date.now()-Fe<=2592e6}),Dt._storage.overwrite(Dt._heartbeatsCache)})()}getHeartbeatsHeader(){var Dt=this;return(0,a.Z)(function*(){if(null===Dt._heartbeatsCache&&(yield Dt._heartbeatsCachePromise),null===Dt._heartbeatsCache||0===Dt._heartbeatsCache.heartbeats.length)return"";const Pt=ir(),{heartbeatsToSend:mn,unsentEntries:Ut}=function ln(qt,Dt=1024){const Pt=[];let mn=qt.slice();for(const Ut of qt){const Qt=Pt.find(Fe=>Fe.agent===Ut.agent);if(Qt){if(Qt.dates.push(Ut.date),Mn(Pt)>Dt){Qt.dates.pop();break}}else if(Pt.push({agent:Ut.agent,dates:[Ut.date]}),Mn(Pt)>Dt){Pt.pop();break}mn=mn.slice(1)}return{heartbeatsToSend:Pt,unsentEntries:mn}}(Dt._heartbeatsCache.heartbeats),Qt=(0,xe.L)(JSON.stringify({version:2,heartbeats:mn}));return Dt._heartbeatsCache.lastSentHeartbeatDate=Pt,Ut.length>0?(Dt._heartbeatsCache.heartbeats=Ut,yield Dt._storage.overwrite(Dt._heartbeatsCache)):(Dt._heartbeatsCache.heartbeats=[],Dt._storage.overwrite(Dt._heartbeatsCache)),Qt})()}}function ir(){return(new Date).toISOString().substring(0,10)}class sr{constructor(Dt){this.app=Dt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,xe.hl)()&&(0,xe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Dt=this;return(0,a.Z)(function*(){return(yield Dt._canUseIndexedDBPromise)&&(yield function Tr(qt){return kn.apply(this,arguments)}(Dt.app))||{heartbeats:[]}})()}overwrite(Dt){var Pt=this;return(0,a.Z)(function*(){var mn;if(yield Pt._canUseIndexedDBPromise){const Qt=yield Pt.read();return en(Pt.app,{lastSentHeartbeatDate:null!==(mn=Dt.lastSentHeartbeatDate)&&void 0!==mn?mn:Qt.lastSentHeartbeatDate,heartbeats:Dt.heartbeats})}})()}add(Dt){var Pt=this;return(0,a.Z)(function*(){var mn;if(yield Pt._canUseIndexedDBPromise){const Qt=yield Pt.read();return en(Pt.app,{lastSentHeartbeatDate:null!==(mn=Dt.lastSentHeartbeatDate)&&void 0!==mn?mn:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,...Dt.heartbeats]})}})()}}function Mn(qt){return(0,xe.L)(JSON.stringify({version:2,heartbeats:qt})).length}!function zn(qt){Ke(new G.wA("platform-logger",Dt=>new we(Dt),"PRIVATE")),Ke(new G.wA("heartbeat",Dt=>new Pr(Dt),"PRIVATE")),Xn(Te,"0.7.22",qt),Xn(Te,"0.7.22","esm2017"),Xn("fire-js","")}("")},4859:(Xt,tt,P)=>{"use strict";P.d(tt,{wA:()=>$,H0:()=>Ce});var a=P(5861),G=P(2090);class ${constructor(oe,re,ue){this.name=oe,this.instanceFactory=re,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const xe="[DEFAULT]";class we{constructor(oe,re){this.name=oe,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const re=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(re)){const ue=new G.BH;if(this.instancesDeferred.set(re,ue),this.isInitialized(re)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:re});Q&&ue.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(re).promise}getImmediate(oe){var re;const ue=this.normalizeInstanceIdentifier(null==oe?void 0:oe.identifier),Q=null!==(re=null==oe?void 0:oe.optional)&&void 0!==re&&re;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(Pe){if(Q)return null;throw Pe}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function Te(ye){return"EAGER"===ye.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:xe})}catch(re){}for(const[re,ue]of this.instancesDeferred.entries()){const Q=this.normalizeInstanceIdentifier(re);try{const Pe=this.getOrInitializeService({instanceIdentifier:Q});ue.resolve(Pe)}catch(Pe){}}}}clearInstance(oe=xe){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,a.Z)(function*(){const re=Array.from(oe.instances.values());yield Promise.all([...re.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...re.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=xe){return this.instances.has(oe)}getOptions(oe=xe){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:re={}}=oe,ue=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Q=this.getOrInitializeService({instanceIdentifier:ue,options:re});for(const[Pe,rt]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(Pe)&&rt.resolve(Q);return Q}onInit(oe,re){var ue;const Q=this.normalizeInstanceIdentifier(re),Pe=null!==(ue=this.onInitCallbacks.get(Q))&&void 0!==ue?ue:new Set;Pe.add(oe),this.onInitCallbacks.set(Q,Pe);const rt=this.instances.get(Q);return rt&&oe(rt,Q),()=>{Pe.delete(oe)}}invokeOnInitCallbacks(oe,re){const ue=this.onInitCallbacks.get(re);if(ue)for(const Q of ue)try{Q(oe,re)}catch(Pe){}}getOrInitializeService({instanceIdentifier:oe,options:re={}}){let ue=this.instances.get(oe);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=oe,ye===xe?void 0:ye),options:re}),this.instances.set(oe,ue),this.instancesOptions.set(oe,re),this.invokeOnInitCallbacks(ue,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,ue)}catch(Q){}var ye;return ue||null}normalizeInstanceIdentifier(oe=xe){return this.component?this.component.multipleInstances?oe:xe:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const re=this.getProvider(oe.name);if(re.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);re.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const re=new we(oe,this);return this.providers.set(oe,re),re}getProviders(){return Array.from(this.providers.values())}}},1877:(Xt,tt,P)=>{"use strict";P.d(tt,{in:()=>G,Yd:()=>Te,Ub:()=>Ce,Am:()=>ye});const a=[];var G=(()=>{return(oe=G||(G={}))[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",G;var oe})();const $={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},xe=G.INFO,we={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},se=(oe,re,...ue)=>{if(re<oe.logLevel)return;const Q=(new Date).toISOString(),Pe=we[re];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[Pe](`[${Q}]  ${oe.name}:`,...ue)};class Te{constructor(re){this.name=re,this._logLevel=xe,this._logHandler=se,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in G))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?$[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...re),this._logHandler(this,G.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...re),this._logHandler(this,G.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,G.INFO,...re),this._logHandler(this,G.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,G.WARN,...re),this._logHandler(this,G.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...re),this._logHandler(this,G.ERROR,...re)}}function Ce(oe){a.forEach(re=>{re.setLogLevel(oe)})}function ye(oe,re){for(const ue of a){let Q=null;re&&re.level&&(Q=$[re.level]),ue.userLogHandler=null===oe?null:(Pe,rt,...fe)=>{const ve=fe.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch(Je){return null}}).filter(ge=>ge).join(" ");rt>=(null!=Q?Q:Pe.logLevel)&&oe({level:G[rt].toLowerCase(),message:ve,args:fe,type:Pe.name})}}}},5861:(Xt,tt,P)=>{"use strict";function a($,xe,we,se,Te,Ce,ye){try{var oe=$[Ce](ye),re=oe.value}catch(ue){return void we(ue)}oe.done?xe(re):Promise.resolve(re).then(se,Te)}function G($){return function(){var xe=this,we=arguments;return new Promise(function(se,Te){var Ce=$.apply(xe,we);function ye(re){a(Ce,se,Te,ye,oe,"next",re)}function oe(re){a(Ce,se,Te,ye,oe,"throw",re)}ye(void 0)})}}P.d(tt,{Z:()=>G})}},Xt=>{Xt(Xt.s=3250)}]);